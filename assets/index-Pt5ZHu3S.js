var E4=Object.defineProperty;var k4=(t,e,n)=>e in t?E4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var b_=(t,e,n)=>k4(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Ix(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qp={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function T4(){if(__)return Vu;__=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:l}}return Vu.Fragment=e,Vu.jsx=n,Vu.jsxs=n,Vu}var S_;function N4(){return S_||(S_=1,qp.exports=T4()),qp.exports}var o=N4(),Xp={exports:{}},Xn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function C4(){if(w_)return Xn;w_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function _(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(P,ce,L){this.props=P,this.context=ce,this.refs=S,this.updater=L||y}k.prototype.isReactComponent={},k.prototype.setState=function(P,ce){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ce,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function D(){}D.prototype=k.prototype;function A(P,ce,L){this.props=P,this.context=ce,this.refs=S,this.updater=L||y}var M=A.prototype=new D;M.constructor=A,E(M,k.prototype),M.isPureReactComponent=!0;var Y=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function z(P,ce,L,F,C,H){return L=H.ref,{$$typeof:t,type:P,key:ce,ref:L!==void 0?L:null,props:H}}function ee(P,ce){return z(P.type,ce,void 0,void 0,void 0,P.props)}function se(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function oe(P){var ce={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(L){return ce[L]})}var Ee=/\/+/g;function re(P,ce){return typeof P=="object"&&P!==null&&P.key!=null?oe(""+P.key):ce.toString(36)}function me(){}function je(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(me,me):(P.status="pending",P.then(function(ce){P.status==="pending"&&(P.status="fulfilled",P.value=ce)},function(ce){P.status==="pending"&&(P.status="rejected",P.reason=ce)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function We(P,ce,L,F,C){var H=typeof P;(H==="undefined"||H==="boolean")&&(P=null);var de=!1;if(P===null)de=!0;else switch(H){case"bigint":case"string":case"number":de=!0;break;case"object":switch(P.$$typeof){case t:case e:de=!0;break;case p:return de=P._init,We(de(P._payload),ce,L,F,C)}}if(de)return C=C(P),de=F===""?"."+re(P,0):F,Y(C)?(L="",de!=null&&(L=de.replace(Ee,"$&/")+"/"),We(C,ce,L,"",function(Ze){return Ze})):C!=null&&(se(C)&&(C=ee(C,L+(C.key==null||P&&P.key===C.key?"":(""+C.key).replace(Ee,"$&/")+"/")+de)),ce.push(C)),1;de=0;var tt=F===""?".":F+":";if(Y(P))for(var rt=0;rt<P.length;rt++)F=P[rt],H=tt+re(F,rt),de+=We(F,ce,L,H,C);else if(rt=_(P),typeof rt=="function")for(P=rt.call(P),rt=0;!(F=P.next()).done;)F=F.value,H=tt+re(F,rt++),de+=We(F,ce,L,H,C);else if(H==="object"){if(typeof P.then=="function")return We(je(P),ce,L,F,C);throw ce=String(P),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return de}function ae(P,ce,L){if(P==null)return P;var F=[],C=0;return We(P,F,"","",function(H){return ce.call(L,H,C++)}),F}function Le(P){if(P._status===-1){var ce=P._result;ce=ce(),ce.then(function(L){(P._status===0||P._status===-1)&&(P._status=1,P._result=L)},function(L){(P._status===0||P._status===-1)&&(P._status=2,P._result=L)}),P._status===-1&&(P._status=0,P._result=ce)}if(P._status===1)return P._result.default;throw P._result}var Re=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function jt(){}return Xn.Children={map:ae,forEach:function(P,ce,L){ae(P,function(){ce.apply(this,arguments)},L)},count:function(P){var ce=0;return ae(P,function(){ce++}),ce},toArray:function(P){return ae(P,function(ce){return ce})||[]},only:function(P){if(!se(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Xn.Component=k,Xn.Fragment=n,Xn.Profiler=s,Xn.PureComponent=A,Xn.StrictMode=r,Xn.Suspense=h,Xn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Xn.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Q.H.useMemoCache(P)}},Xn.cache=function(P){return function(){return P.apply(null,arguments)}},Xn.cloneElement=function(P,ce,L){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var F=E({},P.props),C=P.key,H=void 0;if(ce!=null)for(de in ce.ref!==void 0&&(H=void 0),ce.key!==void 0&&(C=""+ce.key),ce)!K.call(ce,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&ce.ref===void 0||(F[de]=ce[de]);var de=arguments.length-2;if(de===1)F.children=L;else if(1<de){for(var tt=Array(de),rt=0;rt<de;rt++)tt[rt]=arguments[rt+2];F.children=tt}return z(P.type,C,void 0,void 0,H,F)},Xn.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Xn.createElement=function(P,ce,L){var F,C={},H=null;if(ce!=null)for(F in ce.key!==void 0&&(H=""+ce.key),ce)K.call(ce,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(C[F]=ce[F]);var de=arguments.length-2;if(de===1)C.children=L;else if(1<de){for(var tt=Array(de),rt=0;rt<de;rt++)tt[rt]=arguments[rt+2];C.children=tt}if(P&&P.defaultProps)for(F in de=P.defaultProps,de)C[F]===void 0&&(C[F]=de[F]);return z(P,H,void 0,void 0,null,C)},Xn.createRef=function(){return{current:null}},Xn.forwardRef=function(P){return{$$typeof:d,render:P}},Xn.isValidElement=se,Xn.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:Le}},Xn.memo=function(P,ce){return{$$typeof:g,type:P,compare:ce===void 0?null:ce}},Xn.startTransition=function(P){var ce=Q.T,L={};Q.T=L;try{var F=P(),C=Q.S;C!==null&&C(L,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(jt,Re)}catch(H){Re(H)}finally{Q.T=ce}},Xn.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Xn.use=function(P){return Q.H.use(P)},Xn.useActionState=function(P,ce,L){return Q.H.useActionState(P,ce,L)},Xn.useCallback=function(P,ce){return Q.H.useCallback(P,ce)},Xn.useContext=function(P){return Q.H.useContext(P)},Xn.useDebugValue=function(){},Xn.useDeferredValue=function(P,ce){return Q.H.useDeferredValue(P,ce)},Xn.useEffect=function(P,ce,L){var F=Q.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(P,ce)},Xn.useId=function(){return Q.H.useId()},Xn.useImperativeHandle=function(P,ce,L){return Q.H.useImperativeHandle(P,ce,L)},Xn.useInsertionEffect=function(P,ce){return Q.H.useInsertionEffect(P,ce)},Xn.useLayoutEffect=function(P,ce){return Q.H.useLayoutEffect(P,ce)},Xn.useMemo=function(P,ce){return Q.H.useMemo(P,ce)},Xn.useOptimistic=function(P,ce){return Q.H.useOptimistic(P,ce)},Xn.useReducer=function(P,ce,L){return Q.H.useReducer(P,ce,L)},Xn.useRef=function(P){return Q.H.useRef(P)},Xn.useState=function(P){return Q.H.useState(P)},Xn.useSyncExternalStore=function(P,ce,L){return Q.H.useSyncExternalStore(P,ce,L)},Xn.useTransition=function(){return Q.H.useTransition()},Xn.version="19.1.0",Xn}var E_;function Px(){return E_||(E_=1,Xp.exports=C4()),Xp.exports}var x=Px();const qr=Ix(x);var Jp={exports:{}},Yu={},Kp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function j4(){return k_||(k_=1,function(t){function e(ae,Le){var Re=ae.length;ae.push(Le);e:for(;0<Re;){var jt=Re-1>>>1,P=ae[jt];if(0<s(P,Le))ae[jt]=Le,ae[Re]=P,Re=jt;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var Le=ae[0],Re=ae.pop();if(Re!==Le){ae[0]=Re;e:for(var jt=0,P=ae.length,ce=P>>>1;jt<ce;){var L=2*(jt+1)-1,F=ae[L],C=L+1,H=ae[C];if(0>s(F,Re))C<P&&0>s(H,F)?(ae[jt]=H,ae[C]=Re,jt=C):(ae[jt]=F,ae[L]=Re,jt=L);else if(C<P&&0>s(H,Re))ae[jt]=H,ae[C]=Re,jt=C;else break e}}return Le}function s(ae,Le){var Re=ae.sortIndex-Le.sortIndex;return Re!==0?Re:ae.id-Le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],g=[],p=1,v=null,_=3,y=!1,E=!1,S=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Y(ae){for(var Le=n(g);Le!==null;){if(Le.callback===null)r(g);else if(Le.startTime<=ae)r(g),Le.sortIndex=Le.expirationTime,e(h,Le);else break;Le=n(g)}}function Q(ae){if(S=!1,Y(ae),!E)if(n(h)!==null)E=!0,K||(K=!0,re());else{var Le=n(g);Le!==null&&We(Q,Le.startTime-ae)}}var K=!1,z=-1,ee=5,se=-1;function oe(){return k?!0:!(t.unstable_now()-se<ee)}function Ee(){if(k=!1,K){var ae=t.unstable_now();se=ae;var Le=!0;try{e:{E=!1,S&&(S=!1,A(z),z=-1),y=!0;var Re=_;try{t:{for(Y(ae),v=n(h);v!==null&&!(v.expirationTime>ae&&oe());){var jt=v.callback;if(typeof jt=="function"){v.callback=null,_=v.priorityLevel;var P=jt(v.expirationTime<=ae);if(ae=t.unstable_now(),typeof P=="function"){v.callback=P,Y(ae),Le=!0;break t}v===n(h)&&r(h),Y(ae)}else r(h);v=n(h)}if(v!==null)Le=!0;else{var ce=n(g);ce!==null&&We(Q,ce.startTime-ae),Le=!1}}break e}finally{v=null,_=Re,y=!1}Le=void 0}}finally{Le?re():K=!1}}}var re;if(typeof M=="function")re=function(){M(Ee)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,je=me.port2;me.port1.onmessage=Ee,re=function(){je.postMessage(null)}}else re=function(){D(Ee,0)};function We(ae,Le){z=D(function(){ae(t.unstable_now())},Le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(ae){switch(_){case 1:case 2:case 3:var Le=3;break;default:Le=_}var Re=_;_=Le;try{return ae()}finally{_=Re}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(ae,Le){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Re=_;_=ae;try{return Le()}finally{_=Re}},t.unstable_scheduleCallback=function(ae,Le,Re){var jt=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?jt+Re:jt):Re=jt,ae){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Re+P,ae={id:p++,callback:Le,priorityLevel:ae,startTime:Re,expirationTime:P,sortIndex:-1},Re>jt?(ae.sortIndex=Re,e(g,ae),n(h)===null&&ae===n(g)&&(S?(A(z),z=-1):S=!0,We(Q,Re-jt))):(ae.sortIndex=P,e(h,ae),E||y||(E=!0,K||(K=!0,re()))),ae},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(ae){var Le=_;return function(){var Re=_;_=Le;try{return ae.apply(this,arguments)}finally{_=Re}}}}(Zp)),Zp}var T_;function A4(){return T_||(T_=1,Kp.exports=j4()),Kp.exports}var Qp={exports:{}},Ks={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function O4(){if(N_)return Ks;N_=1;var t=Px();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,g,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:g,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ks.createPortal=function(h,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(h,g,null,p)},Ks.flushSync=function(h){var g=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=g,r.p=p,r.d.f()}},Ks.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},Ks.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ks.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var p=g.as,v=d(p,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,y=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:y}):p==="script"&&r.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:y,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ks.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=d(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},Ks.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,v=d(p,g.crossOrigin);r.d.L(h,p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ks.preloadModule=function(h,g){if(typeof h=="string")if(g){var p=d(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},Ks.requestFormReset=function(h){r.d.r(h)},Ks.unstable_batchedUpdates=function(h,g){return h(g)},Ks.useFormState=function(h,g,p){return c.H.useFormState(h,g,p)},Ks.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ks.version="19.1.0",Ks}var C_;function D4(){if(C_)return Qp.exports;C_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qp.exports=O4(),Qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function R4(){if(j_)return Yu;j_=1;var t=A4(),e=Px(),n=D4();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var u=i,f=a;;){var m=u.return;if(m===null)break;var b=m.alternate;if(b===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===u)return d(m),i;if(b===f)return d(m),a;b=b.sibling}throw Error(r(188))}if(u.return!==f.return)u=m,f=b;else{for(var N=!1,W=m.child;W;){if(W===u){N=!0,u=m,f=b;break}if(W===f){N=!0,f=m,u=b;break}W=W.sibling}if(!N){for(W=b.child;W;){if(W===u){N=!0,u=b,f=m;break}if(W===f){N=!0,f=b,u=m;break}W=W.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=Ee&&i[Ee]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function je(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case Q:return"Suspense";case K:return"SuspenseList";case se:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case M:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case Y:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return a=i.displayName||null,a!==null?a:je(i.type)||"Memo";case ee:a=i._payload,i=i._init;try{return je(i(a))}catch{}}return null}var We=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},jt=[],P=-1;function ce(i){return{current:i}}function L(i){0>P||(i.current=jt[P],jt[P]=null,P--)}function F(i,a){P++,jt[P]=i.current,i.current=a}var C=ce(null),H=ce(null),de=ce(null),tt=ce(null);function rt(i,a){switch(F(de,a),F(H,i),F(C,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?qb(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=qb(a),i=Xb(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(C),F(C,i)}function Ze(){L(C),L(H),L(de)}function Et(i){i.memoizedState!==null&&F(tt,i);var a=C.current,u=Xb(a,i.type);a!==u&&(F(H,i),F(C,u))}function bn(i){H.current===i&&(L(C),L(H)),tt.current===i&&(L(tt),Bu._currentValue=Re)}var Mt=Object.prototype.hasOwnProperty,_n=t.unstable_scheduleCallback,Jt=t.unstable_cancelCallback,on=t.unstable_shouldYield,Kt=t.unstable_requestPaint,Ue=t.unstable_now,Nn=t.unstable_getCurrentPriorityLevel,Xt=t.unstable_ImmediatePriority,xt=t.unstable_UserBlockingPriority,Qt=t.unstable_NormalPriority,Yt=t.unstable_LowPriority,ln=t.unstable_IdlePriority,lt=t.log,Qn=t.unstable_setDisableYieldValue,Yn=null,he=null;function $e(i){if(typeof lt=="function"&&Qn(i),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(Yn,i)}catch{}}var qe=Math.clz32?Math.clz32:R,ze=Math.log,Be=Math.LN2;function R(i){return i>>>=0,i===0?32:31-(ze(i)/Be|0)|0}var ge=256,Ie=4194304;function wt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ht(i,a,u){var f=i.pendingLanes;if(f===0)return 0;var m=0,b=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var W=f&134217727;return W!==0?(f=W&~b,f!==0?m=wt(f):(N&=W,N!==0?m=wt(N):u||(u=W&~i,u!==0&&(m=wt(u))))):(W=f&~b,W!==0?m=wt(W):N!==0?m=wt(N):u||(u=f&~i,u!==0&&(m=wt(u)))),m===0?0:a!==0&&a!==m&&(a&b)===0&&(b=m&-m,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:m}function $t(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function sn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bt(){var i=ge;return ge<<=1,(ge&4194048)===0&&(ge=256),i}function ot(){var i=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),i}function ct(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Wt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vn(i,a,u,f,m,b){var N=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var W=i.entanglements,le=i.expirationTimes,Fe=i.hiddenUpdates;for(u=N&~u;0<u;){var mt=31-qe(u),kt=1<<mt;W[mt]=0,le[mt]=-1;var Ve=Fe[mt];if(Ve!==null)for(Fe[mt]=null,mt=0;mt<Ve.length;mt++){var Ge=Ve[mt];Ge!==null&&(Ge.lane&=-536870913)}u&=~kt}f!==0&&Wn(i,f,0),b!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=b&~(N&~a))}function Wn(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-qe(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function gn(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var f=31-qe(u),m=1<<f;m&a|i[f]&a&&(i[f]|=a),u&=~m}}function Pn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Dn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function pn(){var i=Le.p;return i!==0?i:(i=window.event,i===void 0?32:g_(i.type))}function te(i,a){var u=Le.p;try{return Le.p=i,a()}finally{Le.p=u}}var Pe=Math.random().toString(36).slice(2),He="__reactFiber$"+Pe,Bt="__reactProps$"+Pe,Ke="__reactContainer$"+Pe,st="__reactEvents$"+Pe,it="__reactListeners$"+Pe,j="__reactHandles$"+Pe,G="__reactResources$"+Pe,B="__reactMarker$"+Pe;function q(i){delete i[He],delete i[Bt],delete i[st],delete i[it],delete i[j]}function V(i){var a=i[He];if(a)return a;for(var u=i.parentNode;u;){if(a=u[Ke]||u[He]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=Qb(i);i!==null;){if(u=i[He])return u;i=Qb(i)}return a}i=u,u=i.parentNode}return null}function J(i){if(i=i[He]||i[Ke]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function we(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ne(i){var a=i[G];return a||(a=i[G]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xe(i){i[B]=!0}var Se=new Set,De={};function gt(i,a){vt(i,a),vt(i+"Capture",a)}function vt(i,a){for(De[i]=a,i=0;i<a.length;i++)Se.add(a[i])}var Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_t={},Ht={};function en(i){return Mt.call(Ht,i)?!0:Mt.call(_t,i)?!1:Je.test(i)?Ht[i]=!0:(_t[i]=!0,!1)}function hn(i,a,u){if(en(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+u)}}function On(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+u)}}function Cn(i,a,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(a,u,""+f)}}var kr,Ar;function fr(i){if(kr===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);kr=a&&a[1]||"",Ar=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+i+Ar}var or=!1;function Mr(i,a){if(!i||or)return"";or=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(Ge){var Ve=Ge}Reflect.construct(i,[],kt)}else{try{kt.call()}catch(Ge){Ve=Ge}i.call(kt.prototype)}}else{try{throw Error()}catch(Ge){Ve=Ge}(kt=i())&&typeof kt.catch=="function"&&kt.catch(function(){})}}catch(Ge){if(Ge&&Ve&&typeof Ge.stack=="string")return[Ge.stack,Ve.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),N=b[0],W=b[1];if(N&&W){var le=N.split(`
`),Fe=W.split(`
`);for(m=f=0;f<le.length&&!le[f].includes("DetermineComponentFrameRoot");)f++;for(;m<Fe.length&&!Fe[m].includes("DetermineComponentFrameRoot");)m++;if(f===le.length||m===Fe.length)for(f=le.length-1,m=Fe.length-1;1<=f&&0<=m&&le[f]!==Fe[m];)m--;for(;1<=f&&0<=m;f--,m--)if(le[f]!==Fe[m]){if(f!==1||m!==1)do if(f--,m--,0>m||le[f]!==Fe[m]){var mt=`
`+le[f].replace(" at new "," at ");return i.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",i.displayName)),mt}while(1<=f&&0<=m);break}}}finally{or=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?fr(u):""}function yn(i){switch(i.tag){case 26:case 27:case 5:return fr(i.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Mr(i.type,!1);case 11:return Mr(i.type.render,!1);case 1:return Mr(i.type,!0);case 31:return fr("Activity");default:return""}}function ke(i){try{var a="";do a+=yn(i),i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function nt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yt(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qt(i){var a=yt(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,b=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(N){f=""+N,b.call(this,N)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function tn(i){i._valueTracker||(i._valueTracker=qt(i))}function cn(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return i&&(f=yt(i)?i.checked?"true":"false":i.value),i=f,i!==u?(a.setValue(i),!0):!1}function Oe(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ye=/[\n"\\]/g;function ye(i){return i.replace(Ye,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Tt(i,a,u,f,m,b,N,W){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),a!=null?N==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+nt(a)):i.value!==""+nt(a)&&(i.value=""+nt(a)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),a!=null?pt(i,N,nt(a)):u!=null?pt(i,N,nt(u)):f!=null&&i.removeAttribute("value"),m==null&&b!=null&&(i.defaultChecked=!!b),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?i.name=""+nt(W):i.removeAttribute("name")}function Xe(i,a,u,f,m,b,N,W){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+nt(u):"",a=a!=null?""+nt(a):u,W||a===i.value||(i.value=a),i.defaultValue=a}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=W?i.checked:!!f,i.defaultChecked=!!f,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N)}function pt(i,a,u){a==="number"&&Oe(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Z(i,a,u,f){if(i=i.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=a.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+nt(u),a=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function X(i,a,u){if(a!=null&&(a=""+nt(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+nt(u):""}function ve(i,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(r(92));if(We(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=nt(a),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Nt(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ut(i,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,u):typeof u!="number"||u===0||et.has(a)?a==="float"?i.cssFloat=u:i[a]=(""+u).trim():i[a]=u+"px"}function Gt(i,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in a)f=a[m],a.hasOwnProperty(m)&&u[m]!==f&&ut(i,m,f)}else for(var b in a)a.hasOwnProperty(b)&&ut(i,b,a[b])}function Ft(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ut=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(i){return Vn.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Kn=null;function Rn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rn=null,Xr=null;function un(i){var a=J(i);if(a&&(i=a.stateNode)){var u=i[Bt]||null;e:switch(i=a.stateNode,a.type){case"input":if(Tt(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ye(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==i&&f.form===i.form){var m=f[Bt]||null;if(!m)throw Error(r(90));Tt(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===i.form&&cn(f)}break e;case"textarea":X(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Z(i,!!u.multiple,a,!1)}}}var cs=!1;function dn(i,a,u){if(cs)return i(a,u);cs=!0;try{var f=i(a);return f}finally{if(cs=!1,(rn!==null||Xr!==null)&&(Bf(),rn&&(a=rn,i=Xr,Xr=rn=null,un(a),i)))for(a=0;a<i.length;a++)un(i[a])}}function mr(i,a){var u=i.stateNode;if(u===null)return null;var f=u[Bt]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(ir)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Tr=!1}var vr=null,hr=null,as=null;function mn(){if(as)return as;var i,a=hr,u=a.length,f,m="value"in vr?vr.value:vr.textContent,b=m.length;for(i=0;i<u&&a[i]===m[i];i++);var N=u-i;for(f=1;f<=N&&a[u-f]===m[b-f];f++);return as=m.slice(i,1<f?1-f:void 0)}function Dr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function nr(){return!0}function bi(){return!1}function Jr(i){function a(u,f,m,b,N){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(u=i[W],this[W]=u?u(b):b[W]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?nr:bi,this.isPropagationStopped=bi,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),a}var Te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rt=Jr(Te),Un=p({},Te,{view:0,detail:0}),us=Jr(Un),ks,Pt,Xs,wn=p({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xs&&(Xs&&i.type==="mousemove"?(ks=i.screenX-Xs.screenX,Pt=i.screenY-Xs.screenY):Pt=ks=0,Xs=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Pt}}),ya=Jr(wn),rr=p({},wn,{dataTransfer:0}),U=Jr(rr),pe=p({},Un,{relatedTarget:0}),_e=Jr(pe),ft=p({},Te,{animationName:0,elapsedTime:0,pseudoElement:0}),Ct=Jr(ft),Lt=p({},Te,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xn=Jr(Lt),Ot=p({},Te,{data:0}),kn=Jr(Ot),an={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=In[i])?!!a[i]:!1}function xr(){return Tn}var ys=p({},Un,{key:function(i){if(i.key){var a=an[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Dr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?er[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(i){return i.type==="keypress"?Dr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Dr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yr=Jr(ys),ea=p({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=Jr(ea),lo=p({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),ba=Jr(lo),Kr=p({},Te,{propertyName:0,elapsedTime:0,pseudoElement:0}),ri=Jr(Kr),ci=p({},wn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),O=Jr(ci),w=p({},Te,{newState:0,oldState:0}),T=Jr(w),I=[9,13,27,32],ne=ir&&"CompositionEvent"in window,ie=null;ir&&"documentMode"in document&&(ie=document.documentMode);var fe=ir&&"TextEvent"in window&&!ie,Ce=ir&&(!ne||ie&&8<ie&&11>=ie),ue=" ",Qe=!1;function It(i,a){switch(i){case"keyup":return I.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jn=!1;function ur(i,a){switch(i){case"compositionend":return fn(a);case"keypress":return a.which!==32?null:(Qe=!0,ue);case"textInput":return i=a.data,i===ue&&Qe?null:i;default:return null}}function Nr(i,a){if(jn)return i==="compositionend"||!ne&&It(i,a)?(i=mn(),as=hr=vr=null,jn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ce&&a.locale!=="ko"?null:a.data;default:return null}}var dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _i(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!dr[i.type]:a==="textarea"}function lf(i,a,u,f){rn?Xr?Xr.push(f):Xr=[f]:rn=f,a=Yf(a,"onChange"),0<a.length&&(u=new Rt("onChange","change",null,u,f),i.push({event:u,listeners:a}))}var oo=null,ta=null;function Yr(i){$b(i,0)}function na(i){var a=we(i);if(cn(a))return i}function Ua(i,a){if(i==="change")return a}var dv=!1;if(ir){var sg;if(ir){var ig="oninput"in document;if(!ig){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),ig=typeof fv.oninput=="function"}sg=ig}else sg=!1;dv=sg&&(!document.documentMode||9<document.documentMode)}function hv(){oo&&(oo.detachEvent("onpropertychange",gv),ta=oo=null)}function gv(i){if(i.propertyName==="value"&&na(ta)){var a=[];lf(a,ta,i,Rn(i)),dn(Yr,a)}}function eC(i,a,u){i==="focusin"?(hv(),oo=a,ta=u,oo.attachEvent("onpropertychange",gv)):i==="focusout"&&hv()}function tC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return na(ta)}function nC(i,a){if(i==="click")return na(a)}function rC(i,a){if(i==="input"||i==="change")return na(a)}function sC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Si=typeof Object.is=="function"?Object.is:sC;function au(i,a){if(Si(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!Mt.call(a,m)||!Si(i[m],a[m]))return!1}return!0}function pv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mv(i,a){var u=pv(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=a&&f>=a)return{node:u,offset:a-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=pv(u)}}function xv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?xv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function vv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Oe(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=Oe(i.document)}return a}function ag(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var iC=ir&&"documentMode"in document&&11>=document.documentMode,Xo=null,lg=null,lu=null,og=!1;function yv(i,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;og||Xo==null||Xo!==Oe(f)||(f=Xo,"selectionStart"in f&&ag(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),lu&&au(lu,f)||(lu=f,f=Yf(lg,"onSelect"),0<f.length&&(a=new Rt("onSelect","select",null,a,u),i.push({event:a,listeners:f}),a.target=Xo)))}function co(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var Jo={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionrun:co("Transition","TransitionRun"),transitionstart:co("Transition","TransitionStart"),transitioncancel:co("Transition","TransitionCancel"),transitionend:co("Transition","TransitionEnd")},cg={},bv={};ir&&(bv=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function uo(i){if(cg[i])return cg[i];if(!Jo[i])return i;var a=Jo[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in bv)return cg[i]=a[u];return i}var _v=uo("animationend"),Sv=uo("animationiteration"),wv=uo("animationstart"),aC=uo("transitionrun"),lC=uo("transitionstart"),oC=uo("transitioncancel"),Ev=uo("transitionend"),kv=new Map,ug="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ug.push("scrollEnd");function ra(i,a){kv.set(i,a),gt(a,[i])}var Tv=new WeakMap;function Ii(i,a){if(typeof i=="object"&&i!==null){var u=Tv.get(i);return u!==void 0?u:(a={value:i,source:a,stack:ke(a)},Tv.set(i,a),a)}return{value:i,source:a,stack:ke(a)}}var Pi=[],Ko=0,dg=0;function of(){for(var i=Ko,a=dg=Ko=0;a<i;){var u=Pi[a];Pi[a++]=null;var f=Pi[a];Pi[a++]=null;var m=Pi[a];Pi[a++]=null;var b=Pi[a];if(Pi[a++]=null,f!==null&&m!==null){var N=f.pending;N===null?m.next=m:(m.next=N.next,N.next=m),f.pending=m}b!==0&&Nv(u,m,b)}}function cf(i,a,u,f){Pi[Ko++]=i,Pi[Ko++]=a,Pi[Ko++]=u,Pi[Ko++]=f,dg|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function fg(i,a,u,f){return cf(i,a,u,f),uf(i)}function Zo(i,a){return cf(i,null,null,a),uf(i)}function Nv(i,a,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var m=!1,b=i.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(m=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,m&&a!==null&&(m=31-qe(u),i=b.hiddenUpdates,f=i[m],f===null?i[m]=[a]:f.push(a),a.lane=u|536870912),b):null}function uf(i){if(50<Du)throw Du=0,vp=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Qo={};function cC(i,a,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(i,a,u,f){return new cC(i,a,u,f)}function hg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $a(i,a){var u=i.alternate;return u===null?(u=wi(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Cv(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function df(i,a,u,f,m,b){var N=0;if(f=i,typeof i=="function")hg(i)&&(N=1);else if(typeof i=="string")N=d4(i,u,C.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case se:return i=wi(31,u,a,m),i.elementType=se,i.lanes=b,i;case E:return fo(u.children,m,b,a);case S:N=8,m|=24;break;case k:return i=wi(12,u,a,m|2),i.elementType=k,i.lanes=b,i;case Q:return i=wi(13,u,a,m),i.elementType=Q,i.lanes=b,i;case K:return i=wi(19,u,a,m),i.elementType=K,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:case M:N=10;break e;case A:N=9;break e;case Y:N=11;break e;case z:N=14;break e;case ee:N=16,f=null;break e}N=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=wi(N,u,a,m),a.elementType=i,a.type=f,a.lanes=b,a}function fo(i,a,u,f){return i=wi(7,i,f,a),i.lanes=u,i}function gg(i,a,u){return i=wi(6,i,null,a),i.lanes=u,i}function pg(i,a,u){return a=wi(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var ec=[],tc=0,ff=null,hf=0,Fi=[],zi=0,ho=null,Wa=1,Va="";function go(i,a){ec[tc++]=hf,ec[tc++]=ff,ff=i,hf=a}function jv(i,a,u){Fi[zi++]=Wa,Fi[zi++]=Va,Fi[zi++]=ho,ho=i;var f=Wa;i=Va;var m=32-qe(f)-1;f&=~(1<<m),u+=1;var b=32-qe(a)+m;if(30<b){var N=m-m%5;b=(f&(1<<N)-1).toString(32),f>>=N,m-=N,Wa=1<<32-qe(a)+m|u<<m|f,Va=b+i}else Wa=1<<b|u<<m|f,Va=i}function mg(i){i.return!==null&&(go(i,1),jv(i,1,0))}function xg(i){for(;i===ff;)ff=ec[--tc],ec[tc]=null,hf=ec[--tc],ec[tc]=null;for(;i===ho;)ho=Fi[--zi],Fi[zi]=null,Va=Fi[--zi],Fi[zi]=null,Wa=Fi[--zi],Fi[zi]=null}var si=null,ds=null,Cr=!1,po=null,_a=!1,vg=Error(r(519));function mo(i){var a=Error(r(418,""));throw uu(Ii(a,i)),vg}function Av(i){var a=i.stateNode,u=i.type,f=i.memoizedProps;switch(a[He]=i,a[Bt]=f,u){case"dialog":lr("cancel",a),lr("close",a);break;case"iframe":case"object":case"embed":lr("load",a);break;case"video":case"audio":for(u=0;u<Mu.length;u++)lr(Mu[u],a);break;case"source":lr("error",a);break;case"img":case"image":case"link":lr("error",a),lr("load",a);break;case"details":lr("toggle",a);break;case"input":lr("invalid",a),Xe(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),tn(a);break;case"select":lr("invalid",a);break;case"textarea":lr("invalid",a),ve(a,f.value,f.defaultValue,f.children),tn(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||Gb(a.textContent,u)?(f.popover!=null&&(lr("beforetoggle",a),lr("toggle",a)),f.onScroll!=null&&lr("scroll",a),f.onScrollEnd!=null&&lr("scrollend",a),f.onClick!=null&&(a.onclick=Gf),a=!0):a=!1,a||mo(i)}function Ov(i){for(si=i.return;si;)switch(si.tag){case 5:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:si=si.return}}function ou(i){if(i!==si)return!1;if(!Cr)return Ov(i),Cr=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Mp(i.type,i.memoizedProps)),u=!u),u&&ds&&mo(i),Ov(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(a===0){ds=ia(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;i=i.nextSibling}ds=null}}else a===27?(a=ds,Fl(i.type)?(i=Fp,Fp=null,ds=i):ds=a):ds=si?ia(i.stateNode.nextSibling):null;return!0}function cu(){ds=si=null,Cr=!1}function Dv(){var i=po;return i!==null&&(fi===null?fi=i:fi.push.apply(fi,i),po=null),i}function uu(i){po===null?po=[i]:po.push(i)}var yg=ce(null),xo=null,Ya=null;function wl(i,a,u){F(yg,a._currentValue),a._currentValue=u}function Ga(i){i._currentValue=yg.current,L(yg)}function bg(i,a,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===u)break;i=i.return}}function _g(i,a,u,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var b=m.dependencies;if(b!==null){var N=m.child;b=b.firstContext;e:for(;b!==null;){var W=b;b=m;for(var le=0;le<a.length;le++)if(W.context===a[le]){b.lanes|=u,W=b.alternate,W!==null&&(W.lanes|=u),bg(b.return,u,i),f||(N=null);break e}b=W.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(r(341));N.lanes|=u,b=N.alternate,b!==null&&(b.lanes|=u),bg(N,u,i),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===i){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function du(i,a,u,f){i=null;for(var m=a,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var W=m.type;Si(m.pendingProps.value,N.value)||(i!==null?i.push(W):i=[W])}}else if(m===tt.current){if(N=m.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Bu):i=[Bu])}m=m.return}i!==null&&_g(a,i,u,f),a.flags|=262144}function gf(i){for(i=i.firstContext;i!==null;){if(!Si(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function vo(i){xo=i,Ya=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Js(i){return Rv(xo,i)}function pf(i,a){return xo===null&&vo(i),Rv(i,a)}function Rv(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Ya===null){if(i===null)throw Error(r(308));Ya=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ya=Ya.next=a;return u}var uC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},dC=t.unstable_scheduleCallback,fC=t.unstable_NormalPriority,Ts={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sg(){return{controller:new uC,data:new Map,refCount:0}}function fu(i){i.refCount--,i.refCount===0&&dC(fC,function(){i.controller.abort()})}var hu=null,wg=0,nc=0,rc=null;function hC(i,a){if(hu===null){var u=hu=[];wg=0,nc=kp(),rc={status:"pending",value:void 0,then:function(f){u.push(f)}}}return wg++,a.then(Mv,Mv),a}function Mv(){if(--wg===0&&hu!==null){rc!==null&&(rc.status="fulfilled");var i=hu;hu=null,nc=0,rc=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function gC(i,a){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var Lv=ae.S;ae.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&hC(i,a),Lv!==null&&Lv(i,a)};var yo=ce(null);function Eg(){var i=yo.current;return i!==null?i:Zr.pooledCache}function mf(i,a){a===null?F(yo,yo.current):F(yo,a.pool)}function Iv(){var i=Eg();return i===null?null:{parent:Ts._currentValue,pool:i}}var gu=Error(r(460)),Pv=Error(r(474)),xf=Error(r(542)),kg={then:function(){}};function Fv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vf(){}function zv(i,a,u){switch(u=i[u],u===void 0?i.push(a):u!==a&&(a.then(vf,vf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Hv(i),i;default:if(typeof a.status=="string")a.then(vf,vf);else{if(i=Zr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=f}},function(f){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Hv(i),i}throw pu=a,gu}}var pu=null;function Bv(){if(pu===null)throw Error(r(459));var i=pu;return pu=null,i}function Hv(i){if(i===gu||i===xf)throw Error(r(483))}var El=!1;function Tg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ng(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function kl(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Tl(i,a,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Lr&2)!==0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,a=uf(i),Nv(i,null,u),a}return cf(i,f,a,u),uf(i)}function mu(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,u|=f,a.lanes=u,gn(i,u)}}function Cg(i,a){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?m=b=N:b=b.next=N,u=u.next}while(u!==null);b===null?m=b=a:b=b.next=a}else m=b=a;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}var jg=!1;function xu(){if(jg){var i=rc;if(i!==null)throw i}}function vu(i,a,u,f){jg=!1;var m=i.updateQueue;El=!1;var b=m.firstBaseUpdate,N=m.lastBaseUpdate,W=m.shared.pending;if(W!==null){m.shared.pending=null;var le=W,Fe=le.next;le.next=null,N===null?b=Fe:N.next=Fe,N=le;var mt=i.alternate;mt!==null&&(mt=mt.updateQueue,W=mt.lastBaseUpdate,W!==N&&(W===null?mt.firstBaseUpdate=Fe:W.next=Fe,mt.lastBaseUpdate=le))}if(b!==null){var kt=m.baseState;N=0,mt=Fe=le=null,W=b;do{var Ve=W.lane&-536870913,Ge=Ve!==W.lane;if(Ge?(gr&Ve)===Ve:(f&Ve)===Ve){Ve!==0&&Ve===nc&&(jg=!0),mt!==null&&(mt=mt.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var $n=i,zn=W;Ve=a;var $r=u;switch(zn.tag){case 1:if($n=zn.payload,typeof $n=="function"){kt=$n.call($r,kt,Ve);break e}kt=$n;break e;case 3:$n.flags=$n.flags&-65537|128;case 0:if($n=zn.payload,Ve=typeof $n=="function"?$n.call($r,kt,Ve):$n,Ve==null)break e;kt=p({},kt,Ve);break e;case 2:El=!0}}Ve=W.callback,Ve!==null&&(i.flags|=64,Ge&&(i.flags|=8192),Ge=m.callbacks,Ge===null?m.callbacks=[Ve]:Ge.push(Ve))}else Ge={lane:Ve,tag:W.tag,payload:W.payload,callback:W.callback,next:null},mt===null?(Fe=mt=Ge,le=kt):mt=mt.next=Ge,N|=Ve;if(W=W.next,W===null){if(W=m.shared.pending,W===null)break;Ge=W,W=Ge.next,Ge.next=null,m.lastBaseUpdate=Ge,m.shared.pending=null}}while(!0);mt===null&&(le=kt),m.baseState=le,m.firstBaseUpdate=Fe,m.lastBaseUpdate=mt,b===null&&(m.shared.lanes=0),Ml|=N,i.lanes=N,i.memoizedState=kt}}function Uv(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function $v(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Uv(u[i],a)}var sc=ce(null),yf=ce(0);function Wv(i,a){i=el,F(yf,i),F(sc,a),el=i|a.baseLanes}function Ag(){F(yf,el),F(sc,sc.current)}function Og(){el=yf.current,L(sc),L(yf)}var Nl=0,tr=null,Hr=null,bs=null,bf=!1,ic=!1,bo=!1,_f=0,yu=0,ac=null,pC=0;function ps(){throw Error(r(321))}function Dg(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Si(i[u],a[u]))return!1;return!0}function Rg(i,a,u,f,m,b){return Nl=b,tr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ae.H=i===null||i.memoizedState===null?Ny:Cy,bo=!1,b=u(f,m),bo=!1,ic&&(b=Yv(a,u,f,m)),Vv(i),b}function Vv(i){ae.H=Nf;var a=Hr!==null&&Hr.next!==null;if(Nl=0,bs=Hr=tr=null,bf=!1,yu=0,ac=null,a)throw Error(r(300));i===null||As||(i=i.dependencies,i!==null&&gf(i)&&(As=!0))}function Yv(i,a,u,f){tr=i;var m=0;do{if(ic&&(ac=null),yu=0,ic=!1,25<=m)throw Error(r(301));if(m+=1,bs=Hr=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ae.H=SC,b=a(u,f)}while(ic);return b}function mC(){var i=ae.H,a=i.useState()[0];return a=typeof a.then=="function"?bu(a):a,i=i.useState()[0],(Hr!==null?Hr.memoizedState:null)!==i&&(tr.flags|=1024),a}function Mg(){var i=_f!==0;return _f=0,i}function Lg(i,a,u){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~u}function Ig(i){if(bf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}bf=!1}Nl=0,bs=Hr=tr=null,ic=!1,yu=_f=0,ac=null}function ui(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bs===null?tr.memoizedState=bs=i:bs=bs.next=i,bs}function _s(){if(Hr===null){var i=tr.alternate;i=i!==null?i.memoizedState:null}else i=Hr.next;var a=bs===null?tr.memoizedState:bs.next;if(a!==null)bs=a,Hr=i;else{if(i===null)throw tr.alternate===null?Error(r(467)):Error(r(310));Hr=i,i={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},bs===null?tr.memoizedState=bs=i:bs=bs.next=i}return bs}function Pg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(i){var a=yu;return yu+=1,ac===null&&(ac=[]),i=zv(ac,i,a),a=tr,(bs===null?a.memoizedState:bs.next)===null&&(a=a.alternate,ae.H=a===null||a.memoizedState===null?Ny:Cy),i}function Sf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bu(i);if(i.$$typeof===M)return Js(i)}throw Error(r(438,String(i)))}function Fg(i){var a=null,u=tr.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=tr.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Pg(),tr.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(i),f=0;f<i;f++)u[f]=oe;return a.index++,u}function qa(i,a){return typeof a=="function"?a(i):a}function wf(i){var a=_s();return zg(a,Hr,i)}function zg(i,a,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var m=i.baseQueue,b=f.pending;if(b!==null){if(m!==null){var N=m.next;m.next=b.next,b.next=N}a.baseQueue=m=b,f.pending=null}if(b=i.baseState,m===null)i.memoizedState=b;else{a=m.next;var W=N=null,le=null,Fe=a,mt=!1;do{var kt=Fe.lane&-536870913;if(kt!==Fe.lane?(gr&kt)===kt:(Nl&kt)===kt){var Ve=Fe.revertLane;if(Ve===0)le!==null&&(le=le.next={lane:0,revertLane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),kt===nc&&(mt=!0);else if((Nl&Ve)===Ve){Fe=Fe.next,Ve===nc&&(mt=!0);continue}else kt={lane:0,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},le===null?(W=le=kt,N=b):le=le.next=kt,tr.lanes|=Ve,Ml|=Ve;kt=Fe.action,bo&&u(b,kt),b=Fe.hasEagerState?Fe.eagerState:u(b,kt)}else Ve={lane:kt,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},le===null?(W=le=Ve,N=b):le=le.next=Ve,tr.lanes|=kt,Ml|=kt;Fe=Fe.next}while(Fe!==null&&Fe!==a);if(le===null?N=b:le.next=W,!Si(b,i.memoizedState)&&(As=!0,mt&&(u=rc,u!==null)))throw u;i.memoizedState=b,i.baseState=N,i.baseQueue=le,f.lastRenderedState=b}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Bg(i){var a=_s(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,b=a.memoizedState;if(m!==null){u.pending=null;var N=m=m.next;do b=i(b,N.action),N=N.next;while(N!==m);Si(b,a.memoizedState)||(As=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function Gv(i,a,u){var f=tr,m=_s(),b=Cr;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=a();var N=!Si((Hr||m).memoizedState,u);N&&(m.memoizedState=u,As=!0),m=m.queue;var W=Jv.bind(null,f,m,i);if(_u(2048,8,W,[i]),m.getSnapshot!==a||N||bs!==null&&bs.memoizedState.tag&1){if(f.flags|=2048,lc(9,Ef(),Xv.bind(null,f,m,u,a),null),Zr===null)throw Error(r(349));b||(Nl&124)!==0||qv(f,a,u)}return u}function qv(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=tr.updateQueue,a===null?(a=Pg(),tr.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function Xv(i,a,u,f){a.value=u,a.getSnapshot=f,Kv(a)&&Zv(i)}function Jv(i,a,u){return u(function(){Kv(a)&&Zv(i)})}function Kv(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Si(i,u)}catch{return!0}}function Zv(i){var a=Zo(i,2);a!==null&&Ci(a,i,2)}function Hg(i){var a=ui();if(typeof i=="function"){var u=i;if(i=u(),bo){$e(!0);try{u()}finally{$e(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:i},a}function Qv(i,a,u,f){return i.baseState=u,zg(i,Hr,typeof f=="function"?f:qa)}function xC(i,a,u,f,m){if(Tf(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};ae.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,ey(a,b)):(b.next=u.next,a.pending=u.next=b)}}function ey(i,a){var u=a.action,f=a.payload,m=i.state;if(a.isTransition){var b=ae.T,N={};ae.T=N;try{var W=u(m,f),le=ae.S;le!==null&&le(N,W),ty(i,a,W)}catch(Fe){Ug(i,a,Fe)}finally{ae.T=b}}else try{b=u(m,f),ty(i,a,b)}catch(Fe){Ug(i,a,Fe)}}function ty(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){ny(i,a,f)},function(f){return Ug(i,a,f)}):ny(i,a,u)}function ny(i,a,u){a.status="fulfilled",a.value=u,ry(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,ey(i,u)))}function Ug(i,a,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,ry(a),a=a.next;while(a!==f)}i.action=null}function ry(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function sy(i,a){return a}function iy(i,a){if(Cr){var u=Zr.formState;if(u!==null){e:{var f=tr;if(Cr){if(ds){t:{for(var m=ds,b=_a;m.nodeType!==8;){if(!b){m=null;break t}if(m=ia(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){ds=ia(m.nextSibling),f=m.data==="F!";break e}}mo(f)}f=!1}f&&(a=u[0])}}return u=ui(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:a},u.queue=f,u=Ey.bind(null,tr,f),f.dispatch=u,f=Hg(!1),b=Gg.bind(null,tr,!1,f.queue),f=ui(),m={state:a,dispatch:null,action:i,pending:null},f.queue=m,u=xC.bind(null,tr,m,b,u),m.dispatch=u,f.memoizedState=i,[a,u,!1]}function ay(i){var a=_s();return ly(a,Hr,i)}function ly(i,a,u){if(a=zg(i,a,sy)[0],i=wf(qa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=bu(a)}catch(N){throw N===gu?xf:N}else f=a;a=_s();var m=a.queue,b=m.dispatch;return u!==a.memoizedState&&(tr.flags|=2048,lc(9,Ef(),vC.bind(null,m,u),null)),[f,b,i]}function vC(i,a){i.action=a}function oy(i){var a=_s(),u=Hr;if(u!==null)return ly(a,u,i);_s(),a=a.memoizedState,u=_s();var f=u.queue.dispatch;return u.memoizedState=i,[a,f,!1]}function lc(i,a,u,f){return i={tag:i,create:u,deps:f,inst:a,next:null},a=tr.updateQueue,a===null&&(a=Pg(),tr.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,a.lastEffect=i),i}function Ef(){return{destroy:void 0,resource:void 0}}function cy(){return _s().memoizedState}function kf(i,a,u,f){var m=ui();f=f===void 0?null:f,tr.flags|=i,m.memoizedState=lc(1|a,Ef(),u,f)}function _u(i,a,u,f){var m=_s();f=f===void 0?null:f;var b=m.memoizedState.inst;Hr!==null&&f!==null&&Dg(f,Hr.memoizedState.deps)?m.memoizedState=lc(a,b,u,f):(tr.flags|=i,m.memoizedState=lc(1|a,b,u,f))}function uy(i,a){kf(8390656,8,i,a)}function dy(i,a){_u(2048,8,i,a)}function fy(i,a){return _u(4,2,i,a)}function hy(i,a){return _u(4,4,i,a)}function gy(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function py(i,a,u){u=u!=null?u.concat([i]):null,_u(4,4,gy.bind(null,a,i),u)}function $g(){}function my(i,a){var u=_s();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&Dg(a,f[1])?f[0]:(u.memoizedState=[i,a],i)}function xy(i,a){var u=_s();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&Dg(a,f[1]))return f[0];if(f=i(),bo){$e(!0);try{i()}finally{$e(!1)}}return u.memoizedState=[f,a],f}function Wg(i,a,u){return u===void 0||(Nl&1073741824)!==0?i.memoizedState=a:(i.memoizedState=u,i=bb(),tr.lanes|=i,Ml|=i,u)}function vy(i,a,u,f){return Si(u,a)?u:sc.current!==null?(i=Wg(i,u,f),Si(i,a)||(As=!0),i):(Nl&42)===0?(As=!0,i.memoizedState=u):(i=bb(),tr.lanes|=i,Ml|=i,a)}function yy(i,a,u,f,m){var b=Le.p;Le.p=b!==0&&8>b?b:8;var N=ae.T,W={};ae.T=W,Gg(i,!1,a,u);try{var le=m(),Fe=ae.S;if(Fe!==null&&Fe(W,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var mt=gC(le,f);Su(i,a,mt,Ni(i))}else Su(i,a,f,Ni(i))}catch(kt){Su(i,a,{then:function(){},status:"rejected",reason:kt},Ni())}finally{Le.p=b,ae.T=N}}function yC(){}function Vg(i,a,u,f){if(i.tag!==5)throw Error(r(476));var m=by(i).queue;yy(i,m,a,Re,u===null?yC:function(){return _y(i),u(f)})}function by(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:Re},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function _y(i){var a=by(i).next.queue;Su(i,a,{},Ni())}function Yg(){return Js(Bu)}function Sy(){return _s().memoizedState}function wy(){return _s().memoizedState}function bC(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var u=Ni();i=kl(u);var f=Tl(a,i,u);f!==null&&(Ci(f,a,u),mu(f,a,u)),a={cache:Sg()},i.payload=a;return}a=a.return}}function _C(i,a,u){var f=Ni();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Tf(i)?ky(a,u):(u=fg(i,a,u,f),u!==null&&(Ci(u,i,f),Ty(u,a,f)))}function Ey(i,a,u){var f=Ni();Su(i,a,u,f)}function Su(i,a,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Tf(i))ky(a,m);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var N=a.lastRenderedState,W=b(N,u);if(m.hasEagerState=!0,m.eagerState=W,Si(W,N))return cf(i,a,m,0),Zr===null&&of(),!1}catch{}finally{}if(u=fg(i,a,m,f),u!==null)return Ci(u,i,f),Ty(u,a,f),!0}return!1}function Gg(i,a,u,f){if(f={lane:2,revertLane:kp(),action:f,hasEagerState:!1,eagerState:null,next:null},Tf(i)){if(a)throw Error(r(479))}else a=fg(i,u,f,2),a!==null&&Ci(a,i,2)}function Tf(i){var a=i.alternate;return i===tr||a!==null&&a===tr}function ky(i,a){ic=bf=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function Ty(i,a,u){if((u&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,u|=f,a.lanes=u,gn(i,u)}}var Nf={readContext:Js,use:Sf,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useLayoutEffect:ps,useInsertionEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useSyncExternalStore:ps,useId:ps,useHostTransitionStatus:ps,useFormState:ps,useActionState:ps,useOptimistic:ps,useMemoCache:ps,useCacheRefresh:ps},Ny={readContext:Js,use:Sf,useCallback:function(i,a){return ui().memoizedState=[i,a===void 0?null:a],i},useContext:Js,useEffect:uy,useImperativeHandle:function(i,a,u){u=u!=null?u.concat([i]):null,kf(4194308,4,gy.bind(null,a,i),u)},useLayoutEffect:function(i,a){return kf(4194308,4,i,a)},useInsertionEffect:function(i,a){kf(4,2,i,a)},useMemo:function(i,a){var u=ui();a=a===void 0?null:a;var f=i();if(bo){$e(!0);try{i()}finally{$e(!1)}}return u.memoizedState=[f,a],f},useReducer:function(i,a,u){var f=ui();if(u!==void 0){var m=u(a);if(bo){$e(!0);try{u(a)}finally{$e(!1)}}}else m=a;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=_C.bind(null,tr,i),[f.memoizedState,i]},useRef:function(i){var a=ui();return i={current:i},a.memoizedState=i},useState:function(i){i=Hg(i);var a=i.queue,u=Ey.bind(null,tr,a);return a.dispatch=u,[i.memoizedState,u]},useDebugValue:$g,useDeferredValue:function(i,a){var u=ui();return Wg(u,i,a)},useTransition:function(){var i=Hg(!1);return i=yy.bind(null,tr,i.queue,!0,!1),ui().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,u){var f=tr,m=ui();if(Cr){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Zr===null)throw Error(r(349));(gr&124)!==0||qv(f,a,u)}m.memoizedState=u;var b={value:u,getSnapshot:a};return m.queue=b,uy(Jv.bind(null,f,b,i),[i]),f.flags|=2048,lc(9,Ef(),Xv.bind(null,f,b,u,a),null),u},useId:function(){var i=ui(),a=Zr.identifierPrefix;if(Cr){var u=Va,f=Wa;u=(f&~(1<<32-qe(f)-1)).toString(32)+u,a=""+a+"R"+u,u=_f++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=pC++,a=""+a+"r"+u.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Yg,useFormState:iy,useActionState:iy,useOptimistic:function(i){var a=ui();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Gg.bind(null,tr,!0,u),u.dispatch=a,[i,a]},useMemoCache:Fg,useCacheRefresh:function(){return ui().memoizedState=bC.bind(null,tr)}},Cy={readContext:Js,use:Sf,useCallback:my,useContext:Js,useEffect:dy,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:hy,useMemo:xy,useReducer:wf,useRef:cy,useState:function(){return wf(qa)},useDebugValue:$g,useDeferredValue:function(i,a){var u=_s();return vy(u,Hr.memoizedState,i,a)},useTransition:function(){var i=wf(qa)[0],a=_s().memoizedState;return[typeof i=="boolean"?i:bu(i),a]},useSyncExternalStore:Gv,useId:Sy,useHostTransitionStatus:Yg,useFormState:ay,useActionState:ay,useOptimistic:function(i,a){var u=_s();return Qv(u,Hr,i,a)},useMemoCache:Fg,useCacheRefresh:wy},SC={readContext:Js,use:Sf,useCallback:my,useContext:Js,useEffect:dy,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:hy,useMemo:xy,useReducer:Bg,useRef:cy,useState:function(){return Bg(qa)},useDebugValue:$g,useDeferredValue:function(i,a){var u=_s();return Hr===null?Wg(u,i,a):vy(u,Hr.memoizedState,i,a)},useTransition:function(){var i=Bg(qa)[0],a=_s().memoizedState;return[typeof i=="boolean"?i:bu(i),a]},useSyncExternalStore:Gv,useId:Sy,useHostTransitionStatus:Yg,useFormState:oy,useActionState:oy,useOptimistic:function(i,a){var u=_s();return Hr!==null?Qv(u,Hr,i,a):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Fg,useCacheRefresh:wy},oc=null,wu=0;function Cf(i){var a=wu;return wu+=1,oc===null&&(oc=[]),zv(oc,i,a)}function Eu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function jf(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function jy(i){var a=i._init;return a(i._payload)}function Ay(i){function a(Ae,be){if(i){var Me=Ae.deletions;Me===null?(Ae.deletions=[be],Ae.flags|=16):Me.push(be)}}function u(Ae,be){if(!i)return null;for(;be!==null;)a(Ae,be),be=be.sibling;return null}function f(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function m(Ae,be){return Ae=$a(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function b(Ae,be,Me){return Ae.index=Me,i?(Me=Ae.alternate,Me!==null?(Me=Me.index,Me<be?(Ae.flags|=67108866,be):Me):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function N(Ae){return i&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function W(Ae,be,Me,St){return be===null||be.tag!==6?(be=gg(Me,Ae.mode,St),be.return=Ae,be):(be=m(be,Me),be.return=Ae,be)}function le(Ae,be,Me,St){var En=Me.type;return En===E?mt(Ae,be,Me.props.children,St,Me.key):be!==null&&(be.elementType===En||typeof En=="object"&&En!==null&&En.$$typeof===ee&&jy(En)===be.type)?(be=m(be,Me.props),Eu(be,Me),be.return=Ae,be):(be=df(Me.type,Me.key,Me.props,null,Ae.mode,St),Eu(be,Me),be.return=Ae,be)}function Fe(Ae,be,Me,St){return be===null||be.tag!==4||be.stateNode.containerInfo!==Me.containerInfo||be.stateNode.implementation!==Me.implementation?(be=pg(Me,Ae.mode,St),be.return=Ae,be):(be=m(be,Me.children||[]),be.return=Ae,be)}function mt(Ae,be,Me,St,En){return be===null||be.tag!==7?(be=fo(Me,Ae.mode,St,En),be.return=Ae,be):(be=m(be,Me),be.return=Ae,be)}function kt(Ae,be,Me){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=gg(""+be,Ae.mode,Me),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case _:return Me=df(be.type,be.key,be.props,null,Ae.mode,Me),Eu(Me,be),Me.return=Ae,Me;case y:return be=pg(be,Ae.mode,Me),be.return=Ae,be;case ee:var St=be._init;return be=St(be._payload),kt(Ae,be,Me)}if(We(be)||re(be))return be=fo(be,Ae.mode,Me,null),be.return=Ae,be;if(typeof be.then=="function")return kt(Ae,Cf(be),Me);if(be.$$typeof===M)return kt(Ae,pf(Ae,be),Me);jf(Ae,be)}return null}function Ve(Ae,be,Me,St){var En=be!==null?be.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return En!==null?null:W(Ae,be,""+Me,St);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:return Me.key===En?le(Ae,be,Me,St):null;case y:return Me.key===En?Fe(Ae,be,Me,St):null;case ee:return En=Me._init,Me=En(Me._payload),Ve(Ae,be,Me,St)}if(We(Me)||re(Me))return En!==null?null:mt(Ae,be,Me,St,null);if(typeof Me.then=="function")return Ve(Ae,be,Cf(Me),St);if(Me.$$typeof===M)return Ve(Ae,be,pf(Ae,Me),St);jf(Ae,Me)}return null}function Ge(Ae,be,Me,St,En){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return Ae=Ae.get(Me)||null,W(be,Ae,""+St,En);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case _:return Ae=Ae.get(St.key===null?Me:St.key)||null,le(be,Ae,St,En);case y:return Ae=Ae.get(St.key===null?Me:St.key)||null,Fe(be,Ae,St,En);case ee:var sr=St._init;return St=sr(St._payload),Ge(Ae,be,Me,St,En)}if(We(St)||re(St))return Ae=Ae.get(Me)||null,mt(be,Ae,St,En,null);if(typeof St.then=="function")return Ge(Ae,be,Me,Cf(St),En);if(St.$$typeof===M)return Ge(Ae,be,Me,pf(be,St),En);jf(be,St)}return null}function $n(Ae,be,Me,St){for(var En=null,sr=null,An=be,Hn=be=0,Ds=null;An!==null&&Hn<Me.length;Hn++){An.index>Hn?(Ds=An,An=null):Ds=An.sibling;var br=Ve(Ae,An,Me[Hn],St);if(br===null){An===null&&(An=Ds);break}i&&An&&br.alternate===null&&a(Ae,An),be=b(br,be,Hn),sr===null?En=br:sr.sibling=br,sr=br,An=Ds}if(Hn===Me.length)return u(Ae,An),Cr&&go(Ae,Hn),En;if(An===null){for(;Hn<Me.length;Hn++)An=kt(Ae,Me[Hn],St),An!==null&&(be=b(An,be,Hn),sr===null?En=An:sr.sibling=An,sr=An);return Cr&&go(Ae,Hn),En}for(An=f(An);Hn<Me.length;Hn++)Ds=Ge(An,Ae,Hn,Me[Hn],St),Ds!==null&&(i&&Ds.alternate!==null&&An.delete(Ds.key===null?Hn:Ds.key),be=b(Ds,be,Hn),sr===null?En=Ds:sr.sibling=Ds,sr=Ds);return i&&An.forEach(function($l){return a(Ae,$l)}),Cr&&go(Ae,Hn),En}function zn(Ae,be,Me,St){if(Me==null)throw Error(r(151));for(var En=null,sr=null,An=be,Hn=be=0,Ds=null,br=Me.next();An!==null&&!br.done;Hn++,br=Me.next()){An.index>Hn?(Ds=An,An=null):Ds=An.sibling;var $l=Ve(Ae,An,br.value,St);if($l===null){An===null&&(An=Ds);break}i&&An&&$l.alternate===null&&a(Ae,An),be=b($l,be,Hn),sr===null?En=$l:sr.sibling=$l,sr=$l,An=Ds}if(br.done)return u(Ae,An),Cr&&go(Ae,Hn),En;if(An===null){for(;!br.done;Hn++,br=Me.next())br=kt(Ae,br.value,St),br!==null&&(be=b(br,be,Hn),sr===null?En=br:sr.sibling=br,sr=br);return Cr&&go(Ae,Hn),En}for(An=f(An);!br.done;Hn++,br=Me.next())br=Ge(An,Ae,Hn,br.value,St),br!==null&&(i&&br.alternate!==null&&An.delete(br.key===null?Hn:br.key),be=b(br,be,Hn),sr===null?En=br:sr.sibling=br,sr=br);return i&&An.forEach(function(w4){return a(Ae,w4)}),Cr&&go(Ae,Hn),En}function $r(Ae,be,Me,St){if(typeof Me=="object"&&Me!==null&&Me.type===E&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:e:{for(var En=Me.key;be!==null;){if(be.key===En){if(En=Me.type,En===E){if(be.tag===7){u(Ae,be.sibling),St=m(be,Me.props.children),St.return=Ae,Ae=St;break e}}else if(be.elementType===En||typeof En=="object"&&En!==null&&En.$$typeof===ee&&jy(En)===be.type){u(Ae,be.sibling),St=m(be,Me.props),Eu(St,Me),St.return=Ae,Ae=St;break e}u(Ae,be);break}else a(Ae,be);be=be.sibling}Me.type===E?(St=fo(Me.props.children,Ae.mode,St,Me.key),St.return=Ae,Ae=St):(St=df(Me.type,Me.key,Me.props,null,Ae.mode,St),Eu(St,Me),St.return=Ae,Ae=St)}return N(Ae);case y:e:{for(En=Me.key;be!==null;){if(be.key===En)if(be.tag===4&&be.stateNode.containerInfo===Me.containerInfo&&be.stateNode.implementation===Me.implementation){u(Ae,be.sibling),St=m(be,Me.children||[]),St.return=Ae,Ae=St;break e}else{u(Ae,be);break}else a(Ae,be);be=be.sibling}St=pg(Me,Ae.mode,St),St.return=Ae,Ae=St}return N(Ae);case ee:return En=Me._init,Me=En(Me._payload),$r(Ae,be,Me,St)}if(We(Me))return $n(Ae,be,Me,St);if(re(Me)){if(En=re(Me),typeof En!="function")throw Error(r(150));return Me=En.call(Me),zn(Ae,be,Me,St)}if(typeof Me.then=="function")return $r(Ae,be,Cf(Me),St);if(Me.$$typeof===M)return $r(Ae,be,pf(Ae,Me),St);jf(Ae,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,be!==null&&be.tag===6?(u(Ae,be.sibling),St=m(be,Me),St.return=Ae,Ae=St):(u(Ae,be),St=gg(Me,Ae.mode,St),St.return=Ae,Ae=St),N(Ae)):u(Ae,be)}return function(Ae,be,Me,St){try{wu=0;var En=$r(Ae,be,Me,St);return oc=null,En}catch(An){if(An===gu||An===xf)throw An;var sr=wi(29,An,null,Ae.mode);return sr.lanes=St,sr.return=Ae,sr}finally{}}}var cc=Ay(!0),Oy=Ay(!1),Bi=ce(null),Sa=null;function Cl(i){var a=i.alternate;F(Ns,Ns.current&1),F(Bi,i),Sa===null&&(a===null||sc.current!==null||a.memoizedState!==null)&&(Sa=i)}function Dy(i){if(i.tag===22){if(F(Ns,Ns.current),F(Bi,i),Sa===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Sa=i)}}else jl()}function jl(){F(Ns,Ns.current),F(Bi,Bi.current)}function Xa(i){L(Bi),Sa===i&&(Sa=null),L(Ns)}var Ns=ce(0);function Af(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Pp(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function qg(i,a,u,f){a=i.memoizedState,u=u(f,a),u=u==null?a:p({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Xg={enqueueSetState:function(i,a,u){i=i._reactInternals;var f=Ni(),m=kl(f);m.payload=a,u!=null&&(m.callback=u),a=Tl(i,m,f),a!==null&&(Ci(a,i,f),mu(a,i,f))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var f=Ni(),m=kl(f);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=Tl(i,m,f),a!==null&&(Ci(a,i,f),mu(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Ni(),f=kl(u);f.tag=2,a!=null&&(f.callback=a),a=Tl(i,f,u),a!==null&&(Ci(a,i,u),mu(a,i,u))}};function Ry(i,a,u,f,m,b,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,N):a.prototype&&a.prototype.isPureReactComponent?!au(u,f)||!au(m,b):!0}function My(i,a,u,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==i&&Xg.enqueueReplaceState(a,a.state,null)}function _o(i,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(i=i.defaultProps){u===a&&(u=p({},u));for(var m in i)u[m]===void 0&&(u[m]=i[m])}return u}var Of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Ly(i){Of(i)}function Iy(i){console.error(i)}function Py(i){Of(i)}function Df(i,a){try{var u=i.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function Fy(i,a,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Jg(i,a,u){return u=kl(u),u.tag=3,u.payload={element:null},u.callback=function(){Df(i,a)},u}function zy(i){return i=kl(i),i.tag=3,i}function By(i,a,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var b=f.value;i.payload=function(){return m(b)},i.callback=function(){Fy(a,u,f)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){Fy(a,u,f),typeof m!="function"&&(Ll===null?Ll=new Set([this]):Ll.add(this));var W=f.stack;this.componentDidCatch(f.value,{componentStack:W!==null?W:""})})}function wC(i,a,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&du(a,u,m,!0),u=Bi.current,u!==null){switch(u.tag){case 13:return Sa===null?bp():u.alternate===null&&fs===0&&(fs=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===kg?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),Sp(i,f,m)),!1;case 22:return u.flags|=65536,f===kg?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),Sp(i,f,m)),!1}throw Error(r(435,u.tag))}return Sp(i,f,m),bp(),!1}if(Cr)return a=Bi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,f!==vg&&(i=Error(r(422),{cause:f}),uu(Ii(i,u)))):(f!==vg&&(a=Error(r(423),{cause:f}),uu(Ii(a,u))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=Ii(f,u),m=Jg(i.stateNode,f,m),Cg(i,m),fs!==4&&(fs=2)),!1;var b=Error(r(520),{cause:f});if(b=Ii(b,u),Ou===null?Ou=[b]:Ou.push(b),fs!==4&&(fs=2),a===null)return!0;f=Ii(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=m&-m,u.lanes|=i,i=Jg(u.stateNode,f,i),Cg(u,i),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ll===null||!Ll.has(b))))return u.flags|=65536,m&=-m,u.lanes|=m,m=zy(m),By(m,i,u,f),Cg(u,m),!1}u=u.return}while(u!==null);return!1}var Hy=Error(r(461)),As=!1;function Fs(i,a,u,f){a.child=i===null?Oy(a,null,u,f):cc(a,i.child,u,f)}function Uy(i,a,u,f,m){u=u.render;var b=a.ref;if("ref"in f){var N={};for(var W in f)W!=="ref"&&(N[W]=f[W])}else N=f;return vo(a),f=Rg(i,a,u,N,b,m),W=Mg(),i!==null&&!As?(Lg(i,a,m),Ja(i,a,m)):(Cr&&W&&mg(a),a.flags|=1,Fs(i,a,f,m),a.child)}function $y(i,a,u,f,m){if(i===null){var b=u.type;return typeof b=="function"&&!hg(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,Wy(i,a,b,f,m)):(i=df(u.type,null,f,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!sp(i,m)){var N=b.memoizedProps;if(u=u.compare,u=u!==null?u:au,u(N,f)&&i.ref===a.ref)return Ja(i,a,m)}return a.flags|=1,i=$a(b,f),i.ref=a.ref,i.return=a,a.child=i}function Wy(i,a,u,f,m){if(i!==null){var b=i.memoizedProps;if(au(b,f)&&i.ref===a.ref)if(As=!1,a.pendingProps=f=b,sp(i,m))(i.flags&131072)!==0&&(As=!0);else return a.lanes=i.lanes,Ja(i,a,m)}return Kg(i,a,u,f,m)}function Vy(i,a,u){var f=a.pendingProps,m=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,i!==null){for(m=a.child=i.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;a.childLanes=b&~f}else a.childLanes=0,a.child=null;return Yy(i,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&mf(a,b!==null?b.cachePool:null),b!==null?Wv(a,b):Ag(),Dy(a);else return a.lanes=a.childLanes=536870912,Yy(i,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(mf(a,b.cachePool),Wv(a,b),jl(),a.memoizedState=null):(i!==null&&mf(a,null),Ag(),jl());return Fs(i,a,m,u),a.child}function Yy(i,a,u,f){var m=Eg();return m=m===null?null:{parent:Ts._currentValue,pool:m},a.memoizedState={baseLanes:u,cachePool:m},i!==null&&mf(a,null),Ag(),Dy(a),i!==null&&du(i,a,f,!0),null}function Rf(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(a.flags|=4194816)}}function Kg(i,a,u,f,m){return vo(a),u=Rg(i,a,u,f,void 0,m),f=Mg(),i!==null&&!As?(Lg(i,a,m),Ja(i,a,m)):(Cr&&f&&mg(a),a.flags|=1,Fs(i,a,u,m),a.child)}function Gy(i,a,u,f,m,b){return vo(a),a.updateQueue=null,u=Yv(a,f,u,m),Vv(i),f=Mg(),i!==null&&!As?(Lg(i,a,b),Ja(i,a,b)):(Cr&&f&&mg(a),a.flags|=1,Fs(i,a,u,b),a.child)}function qy(i,a,u,f,m){if(vo(a),a.stateNode===null){var b=Qo,N=u.contextType;typeof N=="object"&&N!==null&&(b=Js(N)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Xg,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},Tg(a),N=u.contextType,b.context=typeof N=="object"&&N!==null?Js(N):Qo,b.state=a.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(qg(a,u,N,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&Xg.enqueueReplaceState(b,b.state,null),vu(a,f,b,m),xu(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){b=a.stateNode;var W=a.memoizedProps,le=_o(u,W);b.props=le;var Fe=b.context,mt=u.contextType;N=Qo,typeof mt=="object"&&mt!==null&&(N=Js(mt));var kt=u.getDerivedStateFromProps;mt=typeof kt=="function"||typeof b.getSnapshotBeforeUpdate=="function",W=a.pendingProps!==W,mt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(W||Fe!==N)&&My(a,b,f,N),El=!1;var Ve=a.memoizedState;b.state=Ve,vu(a,f,b,m),xu(),Fe=a.memoizedState,W||Ve!==Fe||El?(typeof kt=="function"&&(qg(a,u,kt,f),Fe=a.memoizedState),(le=El||Ry(a,u,le,f,Ve,Fe,N))?(mt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Fe),b.props=f,b.state=Fe,b.context=N,f=le):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,Ng(i,a),N=a.memoizedProps,mt=_o(u,N),b.props=mt,kt=a.pendingProps,Ve=b.context,Fe=u.contextType,le=Qo,typeof Fe=="object"&&Fe!==null&&(le=Js(Fe)),W=u.getDerivedStateFromProps,(Fe=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==kt||Ve!==le)&&My(a,b,f,le),El=!1,Ve=a.memoizedState,b.state=Ve,vu(a,f,b,m),xu();var Ge=a.memoizedState;N!==kt||Ve!==Ge||El||i!==null&&i.dependencies!==null&&gf(i.dependencies)?(typeof W=="function"&&(qg(a,u,W,f),Ge=a.memoizedState),(mt=El||Ry(a,u,mt,f,Ve,Ge,le)||i!==null&&i.dependencies!==null&&gf(i.dependencies))?(Fe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,Ge,le),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,Ge,le)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===i.memoizedProps&&Ve===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Ve===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ge),b.props=f,b.state=Ge,b.context=le,f=mt):(typeof b.componentDidUpdate!="function"||N===i.memoizedProps&&Ve===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Ve===i.memoizedState||(a.flags|=1024),f=!1)}return b=f,Rf(i,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&f?(a.child=cc(a,i.child,null,m),a.child=cc(a,null,u,m)):Fs(i,a,u,m),a.memoizedState=b.state,i=a.child):i=Ja(i,a,m),i}function Xy(i,a,u,f){return cu(),a.flags|=256,Fs(i,a,u,f),a.child}var Zg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qg(i){return{baseLanes:i,cachePool:Iv()}}function ep(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=Hi),i}function Jy(i,a,u){var f=a.pendingProps,m=!1,b=(a.flags&128)!==0,N;if((N=b)||(N=i!==null&&i.memoizedState===null?!1:(Ns.current&2)!==0),N&&(m=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,i===null){if(Cr){if(m?Cl(a):jl(),Cr){var W=ds,le;if(le=W){e:{for(le=W,W=_a;le.nodeType!==8;){if(!W){W=null;break e}if(le=ia(le.nextSibling),le===null){W=null;break e}}W=le}W!==null?(a.memoizedState={dehydrated:W,treeContext:ho!==null?{id:Wa,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},le=wi(18,null,null,0),le.stateNode=W,le.return=a,a.child=le,si=a,ds=null,le=!0):le=!1}le||mo(a)}if(W=a.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return Pp(W)?a.lanes=32:a.lanes=536870912,null;Xa(a)}return W=f.children,f=f.fallback,m?(jl(),m=a.mode,W=Mf({mode:"hidden",children:W},m),f=fo(f,m,u,null),W.return=a,f.return=a,W.sibling=f,a.child=W,m=a.child,m.memoizedState=Qg(u),m.childLanes=ep(i,N,u),a.memoizedState=Zg,f):(Cl(a),tp(a,W))}if(le=i.memoizedState,le!==null&&(W=le.dehydrated,W!==null)){if(b)a.flags&256?(Cl(a),a.flags&=-257,a=np(i,a,u)):a.memoizedState!==null?(jl(),a.child=i.child,a.flags|=128,a=null):(jl(),m=f.fallback,W=a.mode,f=Mf({mode:"visible",children:f.children},W),m=fo(m,W,u,null),m.flags|=2,f.return=a,m.return=a,f.sibling=m,a.child=f,cc(a,i.child,null,u),f=a.child,f.memoizedState=Qg(u),f.childLanes=ep(i,N,u),a.memoizedState=Zg,a=m);else if(Cl(a),Pp(W)){if(N=W.nextSibling&&W.nextSibling.dataset,N)var Fe=N.dgst;N=Fe,f=Error(r(419)),f.stack="",f.digest=N,uu({value:f,source:null,stack:null}),a=np(i,a,u)}else if(As||du(i,a,u,!1),N=(u&i.childLanes)!==0,As||N){if(N=Zr,N!==null&&(f=u&-u,f=(f&42)!==0?1:Pn(f),f=(f&(N.suspendedLanes|u))!==0?0:f,f!==0&&f!==le.retryLane))throw le.retryLane=f,Zo(i,f),Ci(N,i,f),Hy;W.data==="$?"||bp(),a=np(i,a,u)}else W.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=le.treeContext,ds=ia(W.nextSibling),si=a,Cr=!0,po=null,_a=!1,i!==null&&(Fi[zi++]=Wa,Fi[zi++]=Va,Fi[zi++]=ho,Wa=i.id,Va=i.overflow,ho=a),a=tp(a,f.children),a.flags|=4096);return a}return m?(jl(),m=f.fallback,W=a.mode,le=i.child,Fe=le.sibling,f=$a(le,{mode:"hidden",children:f.children}),f.subtreeFlags=le.subtreeFlags&65011712,Fe!==null?m=$a(Fe,m):(m=fo(m,W,u,null),m.flags|=2),m.return=a,f.return=a,f.sibling=m,a.child=f,f=m,m=a.child,W=i.child.memoizedState,W===null?W=Qg(u):(le=W.cachePool,le!==null?(Fe=Ts._currentValue,le=le.parent!==Fe?{parent:Fe,pool:Fe}:le):le=Iv(),W={baseLanes:W.baseLanes|u,cachePool:le}),m.memoizedState=W,m.childLanes=ep(i,N,u),a.memoizedState=Zg,f):(Cl(a),u=i.child,i=u.sibling,u=$a(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,i!==null&&(N=a.deletions,N===null?(a.deletions=[i],a.flags|=16):N.push(i)),a.child=u,a.memoizedState=null,u)}function tp(i,a){return a=Mf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Mf(i,a){return i=wi(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function np(i,a,u){return cc(a,i.child,null,u),i=tp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Ky(i,a,u){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),bg(i.return,a,u)}function rp(i,a,u,f,m){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=m)}function Zy(i,a,u){var f=a.pendingProps,m=f.revealOrder,b=f.tail;if(Fs(i,a,f.children,u),f=Ns.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ky(i,u,a);else if(i.tag===19)Ky(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(F(Ns,f),m){case"forwards":for(u=a.child,m=null;u!==null;)i=u.alternate,i!==null&&Af(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),rp(a,!1,m,u,b);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Af(i)===null){a.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}rp(a,!0,u,null,b);break;case"together":rp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ja(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Ml|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(du(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,u=$a(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=$a(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function sp(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&gf(i)))}function EC(i,a,u){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),wl(a,Ts,i.memoizedState.cache),cu();break;case 27:case 5:Et(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:wl(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Cl(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Jy(i,a,u):(Cl(a),i=Ja(i,a,u),i!==null?i.sibling:null);Cl(a);break;case 19:var m=(i.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(du(i,a,u,!1),f=(u&a.childLanes)!==0),m){if(f)return Zy(i,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),F(Ns,Ns.current),f)break;return null;case 22:case 23:return a.lanes=0,Vy(i,a,u);case 24:wl(a,Ts,i.memoizedState.cache)}return Ja(i,a,u)}function Qy(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps)As=!0;else{if(!sp(i,u)&&(a.flags&128)===0)return As=!1,EC(i,a,u);As=(i.flags&131072)!==0}else As=!1,Cr&&(a.flags&1048576)!==0&&jv(a,hf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var f=a.elementType,m=f._init;if(f=m(f._payload),a.type=f,typeof f=="function")hg(f)?(i=_o(f,i),a.tag=1,a=qy(null,a,f,i,u)):(a.tag=0,a=Kg(null,a,f,i,u));else{if(f!=null){if(m=f.$$typeof,m===Y){a.tag=11,a=Uy(null,a,f,i,u);break e}else if(m===z){a.tag=14,a=$y(null,a,f,i,u);break e}}throw a=je(f)||f,Error(r(306,a,""))}}return a;case 0:return Kg(i,a,a.type,a.pendingProps,u);case 1:return f=a.type,m=_o(f,a.pendingProps),qy(i,a,f,m,u);case 3:e:{if(rt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var b=a.memoizedState;m=b.element,Ng(i,a),vu(a,f,null,u);var N=a.memoizedState;if(f=N.cache,wl(a,Ts,f),f!==b.cache&&_g(a,[Ts],u,!0),xu(),f=N.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Xy(i,a,f,u);break e}else if(f!==m){m=Ii(Error(r(424)),a),uu(m),a=Xy(i,a,f,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ds=ia(i.firstChild),si=a,Cr=!0,po=null,_a=!0,u=Oy(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(cu(),f===m){a=Ja(i,a,u);break e}Fs(i,a,f,u)}a=a.child}return a;case 26:return Rf(i,a),i===null?(u=r_(a.type,null,a.pendingProps,null))?a.memoizedState=u:Cr||(u=a.type,i=a.pendingProps,f=qf(de.current).createElement(u),f[He]=a,f[Bt]=i,Bs(f,u,i),xe(f),a.stateNode=f):a.memoizedState=r_(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Et(a),i===null&&Cr&&(f=a.stateNode=e_(a.type,a.pendingProps,de.current),si=a,_a=!0,m=ds,Fl(a.type)?(Fp=m,ds=ia(f.firstChild)):ds=m),Fs(i,a,a.pendingProps.children,u),Rf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Cr&&((m=f=ds)&&(f=ZC(f,a.type,a.pendingProps,_a),f!==null?(a.stateNode=f,si=a,ds=ia(f.firstChild),_a=!1,m=!0):m=!1),m||mo(a)),Et(a),m=a.type,b=a.pendingProps,N=i!==null?i.memoizedProps:null,f=b.children,Mp(m,b)?f=null:N!==null&&Mp(m,N)&&(a.flags|=32),a.memoizedState!==null&&(m=Rg(i,a,mC,null,null,u),Bu._currentValue=m),Rf(i,a),Fs(i,a,f,u),a.child;case 6:return i===null&&Cr&&((i=u=ds)&&(u=QC(u,a.pendingProps,_a),u!==null?(a.stateNode=u,si=a,ds=null,i=!0):i=!1),i||mo(a)),null;case 13:return Jy(i,a,u);case 4:return rt(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=cc(a,null,f,u):Fs(i,a,f,u),a.child;case 11:return Uy(i,a,a.type,a.pendingProps,u);case 7:return Fs(i,a,a.pendingProps,u),a.child;case 8:return Fs(i,a,a.pendingProps.children,u),a.child;case 12:return Fs(i,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,wl(a,a.type,f.value),Fs(i,a,f.children,u),a.child;case 9:return m=a.type._context,f=a.pendingProps.children,vo(a),m=Js(m),f=f(m),a.flags|=1,Fs(i,a,f,u),a.child;case 14:return $y(i,a,a.type,a.pendingProps,u);case 15:return Wy(i,a,a.type,a.pendingProps,u);case 19:return Zy(i,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},i===null?(u=Mf(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=$a(i.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return Vy(i,a,u);case 24:return vo(a),f=Js(Ts),i===null?(m=Eg(),m===null&&(m=Zr,b=Sg(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=u),m=b),a.memoizedState={parent:f,cache:m},Tg(a),wl(a,Ts,m)):((i.lanes&u)!==0&&(Ng(i,a),vu(a,null,null,u),xu()),m=i.memoizedState,b=a.memoizedState,m.parent!==f?(m={parent:f,cache:f},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),wl(a,Ts,f)):(f=b.cache,wl(a,Ts,f),f!==m.cache&&_g(a,[Ts],u,!0))),Fs(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ka(i){i.flags|=4}function eb(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!o_(a)){if(a=Bi.current,a!==null&&((gr&4194048)===gr?Sa!==null:(gr&62914560)!==gr&&(gr&536870912)===0||a!==Sa))throw pu=kg,Pv;i.flags|=8192}}function Lf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ot():536870912,i.lanes|=a,hc|=a)}function ku(i,a){if(!Cr)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function ls(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(a)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,a}function kC(i,a,u){var f=a.pendingProps;switch(xg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ls(a),null;case 1:return ls(a),null;case 3:return u=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ga(Ts),Ze(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ou(a)?Ka(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Dv())),ls(a),null;case 26:return u=a.memoizedState,i===null?(Ka(a),u!==null?(ls(a),eb(a,u)):(ls(a),a.flags&=-16777217)):u?u!==i.memoizedState?(Ka(a),ls(a),eb(a,u)):(ls(a),a.flags&=-16777217):(i.memoizedProps!==f&&Ka(a),ls(a),a.flags&=-16777217),null;case 27:bn(a),u=de.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Ka(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return ls(a),null}i=C.current,ou(a)?Av(a):(i=e_(m,f,u),a.stateNode=i,Ka(a))}return ls(a),null;case 5:if(bn(a),u=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Ka(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return ls(a),null}if(i=C.current,ou(a))Av(a);else{switch(m=qf(de.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}i[He]=a,i[Bt]=f;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Bs(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ka(a)}}return ls(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&Ka(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=de.current,ou(a)){if(i=a.stateNode,u=a.memoizedProps,f=null,m=si,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[He]=a,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Gb(i.nodeValue,u)),i||mo(a)}else i=qf(i).createTextNode(f),i[He]=a,a.stateNode=i}return ls(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=ou(a),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[He]=a}else cu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ls(a),m=!1}else m=Dv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Xa(a),a):(Xa(a),null)}if(Xa(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=a.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==m&&(f.flags|=2048)}return u!==i&&u&&(a.child.flags|=8192),Lf(a,a.updateQueue),ls(a),null;case 4:return Ze(),i===null&&jp(a.stateNode.containerInfo),ls(a),null;case 10:return Ga(a.type),ls(a),null;case 19:if(L(Ns),m=a.memoizedState,m===null)return ls(a),null;if(f=(a.flags&128)!==0,b=m.rendering,b===null)if(f)ku(m,!1);else{if(fs!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=Af(i),b!==null){for(a.flags|=128,ku(m,!1),i=b.updateQueue,a.updateQueue=i,Lf(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)Cv(u,i),u=u.sibling;return F(Ns,Ns.current&1|2),a.child}i=i.sibling}m.tail!==null&&Ue()>Ff&&(a.flags|=128,f=!0,ku(m,!1),a.lanes=4194304)}else{if(!f)if(i=Af(b),i!==null){if(a.flags|=128,f=!0,i=i.updateQueue,a.updateQueue=i,Lf(a,i),ku(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!Cr)return ls(a),null}else 2*Ue()-m.renderingStartTime>Ff&&u!==536870912&&(a.flags|=128,f=!0,ku(m,!1),a.lanes=4194304);m.isBackwards?(b.sibling=a.child,a.child=b):(i=m.last,i!==null?i.sibling=b:a.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ue(),a.sibling=null,i=Ns.current,F(Ns,f?i&1|2:i&1),a):(ls(a),null);case 22:case 23:return Xa(a),Og(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(ls(a),a.subtreeFlags&6&&(a.flags|=8192)):ls(a),u=a.updateQueue,u!==null&&Lf(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),i!==null&&L(yo),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ga(Ts),ls(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function TC(i,a){switch(xg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ga(Ts),Ze(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return bn(a),null;case 13:if(Xa(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));cu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return L(Ns),null;case 4:return Ze(),null;case 10:return Ga(a.type),null;case 22:case 23:return Xa(a),Og(),i!==null&&L(yo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ga(Ts),null;case 25:return null;default:return null}}function tb(i,a){switch(xg(a),a.tag){case 3:Ga(Ts),Ze();break;case 26:case 27:case 5:bn(a);break;case 4:Ze();break;case 13:Xa(a);break;case 19:L(Ns);break;case 10:Ga(a.type);break;case 22:case 23:Xa(a),Og(),i!==null&&L(yo);break;case 24:Ga(Ts)}}function Tu(i,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){f=void 0;var b=u.create,N=u.inst;f=b(),N.destroy=f}u=u.next}while(u!==m)}}catch(W){Gr(a,a.return,W)}}function Al(i,a,u){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&i)===i){var N=f.inst,W=N.destroy;if(W!==void 0){N.destroy=void 0,m=a;var le=u,Fe=W;try{Fe()}catch(mt){Gr(m,le,mt)}}}f=f.next}while(f!==b)}}catch(mt){Gr(a,a.return,mt)}}function nb(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;try{$v(a,u)}catch(f){Gr(i,i.return,f)}}}function rb(i,a,u){u.props=_o(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Gr(i,a,f)}}function Nu(i,a){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(m){Gr(i,a,m)}}function wa(i,a){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){Gr(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Gr(i,a,m)}else u.current=null}function sb(i){var a=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){Gr(i,i.return,m)}}function ip(i,a,u){try{var f=i.stateNode;GC(f,i.type,u,a),f[Bt]=a}catch(m){Gr(i,i.return,m)}}function ib(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fl(i.type)||i.tag===4}function ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ib(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lp(i,a,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Gf));else if(f!==4&&(f===27&&Fl(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for(lp(i,a,u),i=i.sibling;i!==null;)lp(i,a,u),i=i.sibling}function If(i,a,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(f!==4&&(f===27&&Fl(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(If(i,a,u),i=i.sibling;i!==null;)If(i,a,u),i=i.sibling}function ab(i){var a=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Bs(a,f,u),a[He]=i,a[Bt]=u}catch(b){Gr(i,i.return,b)}}var Za=!1,ms=!1,op=!1,lb=typeof WeakSet=="function"?WeakSet:Set,Os=null;function NC(i,a){if(i=i.containerInfo,Dp=eh,i=vv(i),ag(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var N=0,W=-1,le=-1,Fe=0,mt=0,kt=i,Ve=null;t:for(;;){for(var Ge;kt!==u||m!==0&&kt.nodeType!==3||(W=N+m),kt!==b||f!==0&&kt.nodeType!==3||(le=N+f),kt.nodeType===3&&(N+=kt.nodeValue.length),(Ge=kt.firstChild)!==null;)Ve=kt,kt=Ge;for(;;){if(kt===i)break t;if(Ve===u&&++Fe===m&&(W=N),Ve===b&&++mt===f&&(le=N),(Ge=kt.nextSibling)!==null)break;kt=Ve,Ve=kt.parentNode}kt=Ge}u=W===-1||le===-1?null:{start:W,end:le}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rp={focusedElem:i,selectionRange:u},eh=!1,Os=a;Os!==null;)if(a=Os,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Os=i;else for(;Os!==null;){switch(a=Os,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=a,m=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var $n=_o(u.type,m,u.elementType===u.type);i=f.getSnapshotBeforeUpdate($n,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(zn){Gr(u,u.return,zn)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,u=i.nodeType,u===9)Ip(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ip(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Os=i;break}Os=a.return}}function ob(i,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ol(i,u),f&4&&Tu(5,u);break;case 1:if(Ol(i,u),f&4)if(i=u.stateNode,a===null)try{i.componentDidMount()}catch(N){Gr(u,u.return,N)}else{var m=_o(u.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(N){Gr(u,u.return,N)}}f&64&&nb(u),f&512&&Nu(u,u.return);break;case 3:if(Ol(i,u),f&64&&(i=u.updateQueue,i!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{$v(i,a)}catch(N){Gr(u,u.return,N)}}break;case 27:a===null&&f&4&&ab(u);case 26:case 5:Ol(i,u),a===null&&f&4&&sb(u),f&512&&Nu(u,u.return);break;case 12:Ol(i,u);break;case 13:Ol(i,u),f&4&&db(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=IC.bind(null,u),e4(i,u))));break;case 22:if(f=u.memoizedState!==null||Za,!f){a=a!==null&&a.memoizedState!==null||ms,m=Za;var b=ms;Za=f,(ms=a)&&!b?Dl(i,u,(u.subtreeFlags&8772)!==0):Ol(i,u),Za=m,ms=b}break;case 30:break;default:Ol(i,u)}}function cb(i){var a=i.alternate;a!==null&&(i.alternate=null,cb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&q(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ss=null,di=!1;function Qa(i,a,u){for(u=u.child;u!==null;)ub(i,a,u),u=u.sibling}function ub(i,a,u){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(Yn,u)}catch{}switch(u.tag){case 26:ms||wa(u,a),Qa(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ms||wa(u,a);var f=ss,m=di;Fl(u.type)&&(ss=u.stateNode,di=!1),Qa(i,a,u),Iu(u.stateNode),ss=f,di=m;break;case 5:ms||wa(u,a);case 6:if(f=ss,m=di,ss=null,Qa(i,a,u),ss=f,di=m,ss!==null)if(di)try{(ss.nodeType===9?ss.body:ss.nodeName==="HTML"?ss.ownerDocument.body:ss).removeChild(u.stateNode)}catch(b){Gr(u,a,b)}else try{ss.removeChild(u.stateNode)}catch(b){Gr(u,a,b)}break;case 18:ss!==null&&(di?(i=ss,Zb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Wu(i)):Zb(ss,u.stateNode));break;case 4:f=ss,m=di,ss=u.stateNode.containerInfo,di=!0,Qa(i,a,u),ss=f,di=m;break;case 0:case 11:case 14:case 15:ms||Al(2,u,a),ms||Al(4,u,a),Qa(i,a,u);break;case 1:ms||(wa(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&rb(u,a,f)),Qa(i,a,u);break;case 21:Qa(i,a,u);break;case 22:ms=(f=ms)||u.memoizedState!==null,Qa(i,a,u),ms=f;break;default:Qa(i,a,u)}}function db(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wu(i)}catch(u){Gr(a,a.return,u)}}function CC(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new lb),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new lb),a;default:throw Error(r(435,i.tag))}}function cp(i,a){var u=CC(i);a.forEach(function(f){var m=PC.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}function Ei(i,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],b=i,N=a,W=N;e:for(;W!==null;){switch(W.tag){case 27:if(Fl(W.type)){ss=W.stateNode,di=!1;break e}break;case 5:ss=W.stateNode,di=!1;break e;case 3:case 4:ss=W.stateNode.containerInfo,di=!0;break e}W=W.return}if(ss===null)throw Error(r(160));ub(b,N,m),ss=null,di=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)fb(a,i),a=a.sibling}var sa=null;function fb(i,a){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ei(a,i),ki(i),f&4&&(Al(3,i,i.return),Tu(3,i),Al(5,i,i.return));break;case 1:Ei(a,i),ki(i),f&512&&(ms||u===null||wa(u,u.return)),f&64&&Za&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=sa;if(Ei(a,i),ki(i),f&512&&(ms||u===null||wa(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":b=m.getElementsByTagName("title")[0],(!b||b[B]||b[He]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(f),m.head.insertBefore(b,m.querySelector("head > title"))),Bs(b,f,u),b[He]=i,xe(b),f=b;break e;case"link":var N=a_("link","href",m).get(f+(u.href||""));if(N){for(var W=0;W<N.length;W++)if(b=N[W],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(W,1);break t}}b=m.createElement(f),Bs(b,f,u),m.head.appendChild(b);break;case"meta":if(N=a_("meta","content",m).get(f+(u.content||""))){for(W=0;W<N.length;W++)if(b=N[W],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(W,1);break t}}b=m.createElement(f),Bs(b,f,u),m.head.appendChild(b);break;default:throw Error(r(468,f))}b[He]=i,xe(b),f=b}i.stateNode=f}else l_(m,i.type,i.stateNode);else i.stateNode=i_(m,f,i.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?l_(m,i.type,i.stateNode):i_(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&ip(i,i.memoizedProps,u.memoizedProps)}break;case 27:Ei(a,i),ki(i),f&512&&(ms||u===null||wa(u,u.return)),u!==null&&f&4&&ip(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Ei(a,i),ki(i),f&512&&(ms||u===null||wa(u,u.return)),i.flags&32){m=i.stateNode;try{Nt(m,"")}catch(Ge){Gr(i,i.return,Ge)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,ip(i,m,u!==null?u.memoizedProps:m)),f&1024&&(op=!0);break;case 6:if(Ei(a,i),ki(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(Ge){Gr(i,i.return,Ge)}}break;case 3:if(Kf=null,m=sa,sa=Xf(a.containerInfo),Ei(a,i),sa=m,ki(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Wu(a.containerInfo)}catch(Ge){Gr(i,i.return,Ge)}op&&(op=!1,hb(i));break;case 4:f=sa,sa=Xf(i.stateNode.containerInfo),Ei(a,i),ki(i),sa=f;break;case 12:Ei(a,i),ki(i);break;case 13:Ei(a,i),ki(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(pp=Ue()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,cp(i,f)));break;case 22:m=i.memoizedState!==null;var le=u!==null&&u.memoizedState!==null,Fe=Za,mt=ms;if(Za=Fe||m,ms=mt||le,Ei(a,i),ms=mt,Za=Fe,ki(i),f&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(u===null||le||Za||ms||So(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){le=u=a;try{if(b=le.stateNode,m)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{W=le.stateNode;var kt=le.memoizedProps.style,Ve=kt!=null&&kt.hasOwnProperty("display")?kt.display:null;W.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Ge){Gr(le,le.return,Ge)}}}else if(a.tag===6){if(u===null){le=a;try{le.stateNode.nodeValue=m?"":le.memoizedProps}catch(Ge){Gr(le,le.return,Ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,cp(i,u))));break;case 19:Ei(a,i),ki(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,cp(i,f)));break;case 30:break;case 21:break;default:Ei(a,i),ki(i)}}function ki(i){var a=i.flags;if(a&2){try{for(var u,f=i.return;f!==null;){if(ib(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var m=u.stateNode,b=ap(i);If(i,b,m);break;case 5:var N=u.stateNode;u.flags&32&&(Nt(N,""),u.flags&=-33);var W=ap(i);If(i,W,N);break;case 3:case 4:var le=u.stateNode.containerInfo,Fe=ap(i);lp(i,Fe,le);break;default:throw Error(r(161))}}catch(mt){Gr(i,i.return,mt)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function hb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;hb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ol(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ob(i,a.alternate,a),a=a.sibling}function So(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Al(4,a,a.return),So(a);break;case 1:wa(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&rb(a,a.return,u),So(a);break;case 27:Iu(a.stateNode);case 26:case 5:wa(a,a.return),So(a);break;case 22:a.memoizedState===null&&So(a);break;case 30:So(a);break;default:So(a)}i=i.sibling}}function Dl(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,m=i,b=a,N=b.flags;switch(b.tag){case 0:case 11:case 15:Dl(m,b,u),Tu(4,b);break;case 1:if(Dl(m,b,u),f=b,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Fe){Gr(f,f.return,Fe)}if(f=b,m=f.updateQueue,m!==null){var W=f.stateNode;try{var le=m.shared.hiddenCallbacks;if(le!==null)for(m.shared.hiddenCallbacks=null,m=0;m<le.length;m++)Uv(le[m],W)}catch(Fe){Gr(f,f.return,Fe)}}u&&N&64&&nb(b),Nu(b,b.return);break;case 27:ab(b);case 26:case 5:Dl(m,b,u),u&&f===null&&N&4&&sb(b),Nu(b,b.return);break;case 12:Dl(m,b,u);break;case 13:Dl(m,b,u),u&&N&4&&db(m,b);break;case 22:b.memoizedState===null&&Dl(m,b,u),Nu(b,b.return);break;case 30:break;default:Dl(m,b,u)}a=a.sibling}}function up(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&fu(u))}function dp(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&fu(i))}function Ea(i,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)gb(i,a,u,f),a=a.sibling}function gb(i,a,u,f){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(i,a,u,f),m&2048&&Tu(9,a);break;case 1:Ea(i,a,u,f);break;case 3:Ea(i,a,u,f),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&fu(i)));break;case 12:if(m&2048){Ea(i,a,u,f),i=a.stateNode;try{var b=a.memoizedProps,N=b.id,W=b.onPostCommit;typeof W=="function"&&W(N,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(le){Gr(a,a.return,le)}}else Ea(i,a,u,f);break;case 13:Ea(i,a,u,f);break;case 23:break;case 22:b=a.stateNode,N=a.alternate,a.memoizedState!==null?b._visibility&2?Ea(i,a,u,f):Cu(i,a):b._visibility&2?Ea(i,a,u,f):(b._visibility|=2,uc(i,a,u,f,(a.subtreeFlags&10256)!==0)),m&2048&&up(N,a);break;case 24:Ea(i,a,u,f),m&2048&&dp(a.alternate,a);break;default:Ea(i,a,u,f)}}function uc(i,a,u,f,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,N=a,W=u,le=f,Fe=N.flags;switch(N.tag){case 0:case 11:case 15:uc(b,N,W,le,m),Tu(8,N);break;case 23:break;case 22:var mt=N.stateNode;N.memoizedState!==null?mt._visibility&2?uc(b,N,W,le,m):Cu(b,N):(mt._visibility|=2,uc(b,N,W,le,m)),m&&Fe&2048&&up(N.alternate,N);break;case 24:uc(b,N,W,le,m),m&&Fe&2048&&dp(N.alternate,N);break;default:uc(b,N,W,le,m)}a=a.sibling}}function Cu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,f=a,m=f.flags;switch(f.tag){case 22:Cu(u,f),m&2048&&up(f.alternate,f);break;case 24:Cu(u,f),m&2048&&dp(f.alternate,f);break;default:Cu(u,f)}a=a.sibling}}var ju=8192;function dc(i){if(i.subtreeFlags&ju)for(i=i.child;i!==null;)pb(i),i=i.sibling}function pb(i){switch(i.tag){case 26:dc(i),i.flags&ju&&i.memoizedState!==null&&h4(sa,i.memoizedState,i.memoizedProps);break;case 5:dc(i);break;case 3:case 4:var a=sa;sa=Xf(i.stateNode.containerInfo),dc(i),sa=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=ju,ju=16777216,dc(i),ju=a):dc(i));break;default:dc(i)}}function mb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Au(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Os=f,vb(f,i)}mb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xb(i),i=i.sibling}function xb(i){switch(i.tag){case 0:case 11:case 15:Au(i),i.flags&2048&&Al(9,i,i.return);break;case 3:Au(i);break;case 12:Au(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Pf(i)):Au(i);break;default:Au(i)}}function Pf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Os=f,vb(f,i)}mb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Al(8,a,a.return),Pf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Pf(a));break;default:Pf(a)}i=i.sibling}}function vb(i,a){for(;Os!==null;){var u=Os;switch(u.tag){case 0:case 11:case 15:Al(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:fu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Os=f;else e:for(u=i;Os!==null;){f=Os;var m=f.sibling,b=f.return;if(cb(f),f===u){Os=null;break e}if(m!==null){m.return=b,Os=m;break e}Os=b}}}var jC={getCacheForType:function(i){var a=Js(Ts),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u}},AC=typeof WeakMap=="function"?WeakMap:Map,Lr=0,Zr=null,ar=null,gr=0,Ir=0,Ti=null,Rl=!1,fc=!1,fp=!1,el=0,fs=0,Ml=0,wo=0,hp=0,Hi=0,hc=0,Ou=null,fi=null,gp=!1,pp=0,Ff=1/0,zf=null,Ll=null,zs=0,Il=null,gc=null,pc=0,mp=0,xp=null,yb=null,Du=0,vp=null;function Ni(){if((Lr&2)!==0&&gr!==0)return gr&-gr;if(ae.T!==null){var i=nc;return i!==0?i:kp()}return pn()}function bb(){Hi===0&&(Hi=(gr&536870912)===0||Cr?bt():536870912);var i=Bi.current;return i!==null&&(i.flags|=32),Hi}function Ci(i,a,u){(i===Zr&&(Ir===2||Ir===9)||i.cancelPendingCommit!==null)&&(mc(i,0),Pl(i,gr,Hi,!1)),Wt(i,u),((Lr&2)===0||i!==Zr)&&(i===Zr&&((Lr&2)===0&&(wo|=u),fs===4&&Pl(i,gr,Hi,!1)),ka(i))}function _b(i,a,u){if((Lr&6)!==0)throw Error(r(327));var f=!u&&(a&124)===0&&(a&i.expiredLanes)===0||$t(i,a),m=f?RC(i,a):_p(i,a,!0),b=f;do{if(m===0){fc&&!f&&Pl(i,a,0,!1);break}else{if(u=i.current.alternate,b&&!OC(u)){m=_p(i,a,!1),b=!1;continue}if(m===2){if(b=a,i.errorRecoveryDisabledLanes&b)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var W=i;m=Ou;var le=W.current.memoizedState.isDehydrated;if(le&&(mc(W,N).flags|=256),N=_p(W,N,!1),N!==2){if(fp&&!le){W.errorRecoveryDisabledLanes|=b,wo|=b,m=4;break e}b=fi,fi=m,b!==null&&(fi===null?fi=b:fi.push.apply(fi,b))}m=N}if(b=!1,m!==2)continue}}if(m===1){mc(i,0),Pl(i,a,0,!0);break}e:{switch(f=i,b=m,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Pl(f,a,Hi,!Rl);break e;case 2:fi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=pp+300-Ue(),10<m)){if(Pl(f,a,Hi,!Rl),ht(f,0,!0)!==0)break e;f.timeoutHandle=Jb(Sb.bind(null,f,u,fi,zf,gp,a,Hi,wo,hc,Rl,b,2,-0,0),m);break e}Sb(f,u,fi,zf,gp,a,Hi,wo,hc,Rl,b,0,-0,0)}}break}while(!0);ka(i)}function Sb(i,a,u,f,m,b,N,W,le,Fe,mt,kt,Ve,Ge){if(i.timeoutHandle=-1,kt=a.subtreeFlags,(kt&8192||(kt&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:f4},pb(a),kt=g4(),kt!==null)){i.cancelPendingCommit=kt(jb.bind(null,i,a,b,u,f,m,N,W,le,mt,1,Ve,Ge)),Pl(i,b,N,!Fe);return}jb(i,a,b,u,f,m,N,W,le)}function OC(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],b=m.getSnapshot;m=m.value;try{if(!Si(b(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Pl(i,a,u,f){a&=~hp,a&=~wo,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var m=a;0<m;){var b=31-qe(m),N=1<<b;f[b]=-1,m&=~N}u!==0&&Wn(i,u,a)}function Bf(){return(Lr&6)===0?(Ru(0),!1):!0}function yp(){if(ar!==null){if(Ir===0)var i=ar.return;else i=ar,Ya=xo=null,Ig(i),oc=null,wu=0,i=ar;for(;i!==null;)tb(i.alternate,i),i=i.return;ar=null}}function mc(i,a){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,XC(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),yp(),Zr=i,ar=u=$a(i.current,null),gr=a,Ir=0,Ti=null,Rl=!1,fc=$t(i,a),fp=!1,hc=Hi=hp=wo=Ml=fs=0,fi=Ou=null,gp=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var m=31-qe(f),b=1<<m;a|=i[m],f&=~b}return el=a,of(),u}function wb(i,a){tr=null,ae.H=Nf,a===gu||a===xf?(a=Bv(),Ir=3):a===Pv?(a=Bv(),Ir=4):Ir=a===Hy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ti=a,ar===null&&(fs=1,Df(i,Ii(a,i.current)))}function Eb(){var i=ae.H;return ae.H=Nf,i===null?Nf:i}function kb(){var i=ae.A;return ae.A=jC,i}function bp(){fs=4,Rl||(gr&4194048)!==gr&&Bi.current!==null||(fc=!0),(Ml&134217727)===0&&(wo&134217727)===0||Zr===null||Pl(Zr,gr,Hi,!1)}function _p(i,a,u){var f=Lr;Lr|=2;var m=Eb(),b=kb();(Zr!==i||gr!==a)&&(zf=null,mc(i,a)),a=!1;var N=fs;e:do try{if(Ir!==0&&ar!==null){var W=ar,le=Ti;switch(Ir){case 8:yp(),N=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(a=!0);var Fe=Ir;if(Ir=0,Ti=null,xc(i,W,le,Fe),u&&fc){N=0;break e}break;default:Fe=Ir,Ir=0,Ti=null,xc(i,W,le,Fe)}}DC(),N=fs;break}catch(mt){wb(i,mt)}while(!0);return a&&i.shellSuspendCounter++,Ya=xo=null,Lr=f,ae.H=m,ae.A=b,ar===null&&(Zr=null,gr=0,of()),N}function DC(){for(;ar!==null;)Tb(ar)}function RC(i,a){var u=Lr;Lr|=2;var f=Eb(),m=kb();Zr!==i||gr!==a?(zf=null,Ff=Ue()+500,mc(i,a)):fc=$t(i,a);e:do try{if(Ir!==0&&ar!==null){a=ar;var b=Ti;t:switch(Ir){case 1:Ir=0,Ti=null,xc(i,a,b,1);break;case 2:case 9:if(Fv(b)){Ir=0,Ti=null,Nb(a);break}a=function(){Ir!==2&&Ir!==9||Zr!==i||(Ir=7),ka(i)},b.then(a,a);break e;case 3:Ir=7;break e;case 4:Ir=5;break e;case 7:Fv(b)?(Ir=0,Ti=null,Nb(a)):(Ir=0,Ti=null,xc(i,a,b,7));break;case 5:var N=null;switch(ar.tag){case 26:N=ar.memoizedState;case 5:case 27:var W=ar;if(!N||o_(N)){Ir=0,Ti=null;var le=W.sibling;if(le!==null)ar=le;else{var Fe=W.return;Fe!==null?(ar=Fe,Hf(Fe)):ar=null}break t}}Ir=0,Ti=null,xc(i,a,b,5);break;case 6:Ir=0,Ti=null,xc(i,a,b,6);break;case 8:yp(),fs=6;break e;default:throw Error(r(462))}}MC();break}catch(mt){wb(i,mt)}while(!0);return Ya=xo=null,ae.H=f,ae.A=m,Lr=u,ar!==null?0:(Zr=null,gr=0,of(),fs)}function MC(){for(;ar!==null&&!on();)Tb(ar)}function Tb(i){var a=Qy(i.alternate,i,el);i.memoizedProps=i.pendingProps,a===null?Hf(i):ar=a}function Nb(i){var a=i,u=a.alternate;switch(a.tag){case 15:case 0:a=Gy(u,a,a.pendingProps,a.type,void 0,gr);break;case 11:a=Gy(u,a,a.pendingProps,a.type.render,a.ref,gr);break;case 5:Ig(a);default:tb(u,a),a=ar=Cv(a,el),a=Qy(u,a,el)}i.memoizedProps=i.pendingProps,a===null?Hf(i):ar=a}function xc(i,a,u,f){Ya=xo=null,Ig(a),oc=null,wu=0;var m=a.return;try{if(wC(i,m,a,u,gr)){fs=1,Df(i,Ii(u,i.current)),ar=null;return}}catch(b){if(m!==null)throw ar=m,b;fs=1,Df(i,Ii(u,i.current)),ar=null;return}a.flags&32768?(Cr||f===1?i=!0:fc||(gr&536870912)!==0?i=!1:(Rl=i=!0,(f===2||f===9||f===3||f===6)&&(f=Bi.current,f!==null&&f.tag===13&&(f.flags|=16384))),Cb(a,i)):Hf(a)}function Hf(i){var a=i;do{if((a.flags&32768)!==0){Cb(a,Rl);return}i=a.return;var u=kC(a.alternate,a,el);if(u!==null){ar=u;return}if(a=a.sibling,a!==null){ar=a;return}ar=a=i}while(a!==null);fs===0&&(fs=5)}function Cb(i,a){do{var u=TC(i.alternate,i);if(u!==null){u.flags&=32767,ar=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){ar=i;return}ar=i=u}while(i!==null);fs=6,ar=null}function jb(i,a,u,f,m,b,N,W,le){i.cancelPendingCommit=null;do Uf();while(zs!==0);if((Lr&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=dg,vn(i,u,b,N,W,le),i===Zr&&(ar=Zr=null,gr=0),gc=a,Il=i,pc=u,mp=b,xp=m,yb=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FC(Qt,function(){return Mb(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=ae.T,ae.T=null,m=Le.p,Le.p=2,N=Lr,Lr|=4;try{NC(i,a,u)}finally{Lr=N,Le.p=m,ae.T=f}}zs=1,Ab(),Ob(),Db()}}function Ab(){if(zs===1){zs=0;var i=Il,a=gc,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null;var f=Le.p;Le.p=2;var m=Lr;Lr|=4;try{fb(a,i);var b=Rp,N=vv(i.containerInfo),W=b.focusedElem,le=b.selectionRange;if(N!==W&&W&&W.ownerDocument&&xv(W.ownerDocument.documentElement,W)){if(le!==null&&ag(W)){var Fe=le.start,mt=le.end;if(mt===void 0&&(mt=Fe),"selectionStart"in W)W.selectionStart=Fe,W.selectionEnd=Math.min(mt,W.value.length);else{var kt=W.ownerDocument||document,Ve=kt&&kt.defaultView||window;if(Ve.getSelection){var Ge=Ve.getSelection(),$n=W.textContent.length,zn=Math.min(le.start,$n),$r=le.end===void 0?zn:Math.min(le.end,$n);!Ge.extend&&zn>$r&&(N=$r,$r=zn,zn=N);var Ae=mv(W,zn),be=mv(W,$r);if(Ae&&be&&(Ge.rangeCount!==1||Ge.anchorNode!==Ae.node||Ge.anchorOffset!==Ae.offset||Ge.focusNode!==be.node||Ge.focusOffset!==be.offset)){var Me=kt.createRange();Me.setStart(Ae.node,Ae.offset),Ge.removeAllRanges(),zn>$r?(Ge.addRange(Me),Ge.extend(be.node,be.offset)):(Me.setEnd(be.node,be.offset),Ge.addRange(Me))}}}}for(kt=[],Ge=W;Ge=Ge.parentNode;)Ge.nodeType===1&&kt.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<kt.length;W++){var St=kt[W];St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}eh=!!Dp,Rp=Dp=null}finally{Lr=m,Le.p=f,ae.T=u}}i.current=a,zs=2}}function Ob(){if(zs===2){zs=0;var i=Il,a=gc,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=ae.T,ae.T=null;var f=Le.p;Le.p=2;var m=Lr;Lr|=4;try{ob(i,a.alternate,a)}finally{Lr=m,Le.p=f,ae.T=u}}zs=3}}function Db(){if(zs===4||zs===3){zs=0,Kt();var i=Il,a=gc,u=pc,f=yb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zs=5:(zs=0,gc=Il=null,Rb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ll=null),Dn(u),a=a.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(Yn,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=ae.T,m=Le.p,Le.p=2,ae.T=null;try{for(var b=i.onRecoverableError,N=0;N<f.length;N++){var W=f[N];b(W.value,{componentStack:W.stack})}}finally{ae.T=a,Le.p=m}}(pc&3)!==0&&Uf(),ka(i),m=i.pendingLanes,(u&4194090)!==0&&(m&42)!==0?i===vp?Du++:(Du=0,vp=i):Du=0,Ru(0)}}function Rb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,fu(a)))}function Uf(i){return Ab(),Ob(),Db(),Mb()}function Mb(){if(zs!==5)return!1;var i=Il,a=mp;mp=0;var u=Dn(pc),f=ae.T,m=Le.p;try{Le.p=32>u?32:u,ae.T=null,u=xp,xp=null;var b=Il,N=pc;if(zs=0,gc=Il=null,pc=0,(Lr&6)!==0)throw Error(r(331));var W=Lr;if(Lr|=4,xb(b.current),gb(b,b.current,N,u),Lr=W,Ru(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(Yn,b)}catch{}return!0}finally{Le.p=m,ae.T=f,Rb(i,a)}}function Lb(i,a,u){a=Ii(u,a),a=Jg(i.stateNode,a,2),i=Tl(i,a,2),i!==null&&(Wt(i,2),ka(i))}function Gr(i,a,u){if(i.tag===3)Lb(i,i,u);else for(;a!==null;){if(a.tag===3){Lb(a,i,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ll===null||!Ll.has(f))){i=Ii(u,i),u=zy(2),f=Tl(a,u,2),f!==null&&(By(u,f,a,i),Wt(f,2),ka(f));break}}a=a.return}}function Sp(i,a,u){var f=i.pingCache;if(f===null){f=i.pingCache=new AC;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(u)||(fp=!0,m.add(u),i=LC.bind(null,i,a,u),a.then(i,i))}function LC(i,a,u){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Zr===i&&(gr&u)===u&&(fs===4||fs===3&&(gr&62914560)===gr&&300>Ue()-pp?(Lr&2)===0&&mc(i,0):hp|=u,hc===gr&&(hc=0)),ka(i)}function Ib(i,a){a===0&&(a=ot()),i=Zo(i,a),i!==null&&(Wt(i,a),ka(i))}function IC(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),Ib(i,u)}function PC(i,a){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),Ib(i,u)}function FC(i,a){return _n(i,a)}var $f=null,vc=null,wp=!1,Wf=!1,Ep=!1,Eo=0;function ka(i){i!==vc&&i.next===null&&(vc===null?$f=vc=i:vc=vc.next=i),Wf=!0,wp||(wp=!0,BC())}function Ru(i,a){if(!Ep&&Wf){Ep=!0;do for(var u=!1,f=$f;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var b=0;else{var N=f.suspendedLanes,W=f.pingedLanes;b=(1<<31-qe(42|i)+1)-1,b&=m&~(N&~W),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Bb(f,b))}else b=gr,b=ht(f,f===Zr?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||$t(f,b)||(u=!0,Bb(f,b));f=f.next}while(u);Ep=!1}}function zC(){Pb()}function Pb(){Wf=wp=!1;var i=0;Eo!==0&&(qC()&&(i=Eo),Eo=0);for(var a=Ue(),u=null,f=$f;f!==null;){var m=f.next,b=Fb(f,a);b===0?(f.next=null,u===null?$f=m:u.next=m,m===null&&(vc=u)):(u=f,(i!==0||(b&3)!==0)&&(Wf=!0)),f=m}Ru(i)}function Fb(i,a){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var N=31-qe(b),W=1<<N,le=m[N];le===-1?((W&u)===0||(W&f)!==0)&&(m[N]=sn(W,a)):le<=a&&(i.expiredLanes|=W),b&=~W}if(a=Zr,u=gr,u=ht(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===a&&(Ir===2||Ir===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Jt(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||$t(i,u)){if(a=u&-u,a===i.callbackPriority)return a;switch(f!==null&&Jt(f),Dn(u)){case 2:case 8:u=xt;break;case 32:u=Qt;break;case 268435456:u=ln;break;default:u=Qt}return f=zb.bind(null,i),u=_n(u,f),i.callbackPriority=a,i.callbackNode=u,a}return f!==null&&f!==null&&Jt(f),i.callbackPriority=2,i.callbackNode=null,2}function zb(i,a){if(zs!==0&&zs!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Uf()&&i.callbackNode!==u)return null;var f=gr;return f=ht(i,i===Zr?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(_b(i,f,a),Fb(i,Ue()),i.callbackNode!=null&&i.callbackNode===u?zb.bind(null,i):null)}function Bb(i,a){if(Uf())return null;_b(i,a,!0)}function BC(){JC(function(){(Lr&6)!==0?_n(Xt,zC):Pb()})}function kp(){return Eo===0&&(Eo=bt()),Eo}function Hb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ln(""+i)}function Ub(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function HC(i,a,u,f,m){if(a==="submit"&&u&&u.stateNode===m){var b=Hb((m[Bt]||null).action),N=f.submitter;N&&(a=(a=N[Bt]||null)?Hb(a.formAction):N.getAttribute("formAction"),a!==null&&(b=a,N=null));var W=new Rt("action","action",null,f,m);i.push({event:W,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Eo!==0){var le=N?Ub(m,N):new FormData(m);Vg(u,{pending:!0,data:le,method:m.method,action:b},null,le)}}else typeof b=="function"&&(W.preventDefault(),le=N?Ub(m,N):new FormData(m),Vg(u,{pending:!0,data:le,method:m.method,action:b},b,le))},currentTarget:m}]})}}for(var Tp=0;Tp<ug.length;Tp++){var Np=ug[Tp],UC=Np.toLowerCase(),$C=Np[0].toUpperCase()+Np.slice(1);ra(UC,"on"+$C)}ra(_v,"onAnimationEnd"),ra(Sv,"onAnimationIteration"),ra(wv,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(aC,"onTransitionRun"),ra(lC,"onTransitionStart"),ra(oC,"onTransitionCancel"),ra(Ev,"onTransitionEnd"),vt("onMouseEnter",["mouseout","mouseover"]),vt("onMouseLeave",["mouseout","mouseover"]),vt("onPointerEnter",["pointerout","pointerover"]),vt("onPointerLeave",["pointerout","pointerover"]),gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function $b(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var N=f.length-1;0<=N;N--){var W=f[N],le=W.instance,Fe=W.currentTarget;if(W=W.listener,le!==b&&m.isPropagationStopped())break e;b=W,m.currentTarget=Fe;try{b(m)}catch(mt){Of(mt)}m.currentTarget=null,b=le}else for(N=0;N<f.length;N++){if(W=f[N],le=W.instance,Fe=W.currentTarget,W=W.listener,le!==b&&m.isPropagationStopped())break e;b=W,m.currentTarget=Fe;try{b(m)}catch(mt){Of(mt)}m.currentTarget=null,b=le}}}}function lr(i,a){var u=a[st];u===void 0&&(u=a[st]=new Set);var f=i+"__bubble";u.has(f)||(Wb(a,i,2,!1),u.add(f))}function Cp(i,a,u){var f=0;a&&(f|=4),Wb(u,i,f,a)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function jp(i){if(!i[Vf]){i[Vf]=!0,Se.forEach(function(u){u!=="selectionchange"&&(WC.has(u)||Cp(u,!1,i),Cp(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Vf]||(a[Vf]=!0,Cp("selectionchange",!1,a))}}function Wb(i,a,u,f){switch(g_(a)){case 2:var m=x4;break;case 8:m=v4;break;default:m=$p}u=m.bind(null,a,u,i),m=void 0,!Tr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(a,u,{capture:!0,passive:m}):i.addEventListener(a,u,!0):m!==void 0?i.addEventListener(a,u,{passive:m}):i.addEventListener(a,u,!1)}function Ap(i,a,u,f,m){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var W=f.stateNode.containerInfo;if(W===m)break;if(N===4)for(N=f.return;N!==null;){var le=N.tag;if((le===3||le===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;W!==null;){if(N=V(W),N===null)return;if(le=N.tag,le===5||le===6||le===26||le===27){f=b=N;continue e}W=W.parentNode}}f=f.return}dn(function(){var Fe=b,mt=Rn(u),kt=[];e:{var Ve=kv.get(i);if(Ve!==void 0){var Ge=Rt,$n=i;switch(i){case"keypress":if(Dr(u)===0)break e;case"keydown":case"keyup":Ge=yr;break;case"focusin":$n="focus",Ge=_e;break;case"focusout":$n="blur",Ge=_e;break;case"beforeblur":case"afterblur":Ge=_e;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=U;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=ba;break;case _v:case Sv:case wv:Ge=Ct;break;case Ev:Ge=ri;break;case"scroll":case"scrollend":Ge=us;break;case"wheel":Ge=O;break;case"copy":case"cut":case"paste":Ge=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=ao;break;case"toggle":case"beforetoggle":Ge=T}var zn=(a&4)!==0,$r=!zn&&(i==="scroll"||i==="scrollend"),Ae=zn?Ve!==null?Ve+"Capture":null:Ve;zn=[];for(var be=Fe,Me;be!==null;){var St=be;if(Me=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||Me===null||Ae===null||(St=mr(be,Ae),St!=null&&zn.push(Lu(be,St,Me))),$r)break;be=be.return}0<zn.length&&(Ve=new Ge(Ve,$n,null,u,mt),kt.push({event:Ve,listeners:zn}))}}if((a&7)===0){e:{if(Ve=i==="mouseover"||i==="pointerover",Ge=i==="mouseout"||i==="pointerout",Ve&&u!==Kn&&($n=u.relatedTarget||u.fromElement)&&(V($n)||$n[Ke]))break e;if((Ge||Ve)&&(Ve=mt.window===mt?mt:(Ve=mt.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Ge?($n=u.relatedTarget||u.toElement,Ge=Fe,$n=$n?V($n):null,$n!==null&&($r=l($n),zn=$n.tag,$n!==$r||zn!==5&&zn!==27&&zn!==6)&&($n=null)):(Ge=null,$n=Fe),Ge!==$n)){if(zn=ya,St="onMouseLeave",Ae="onMouseEnter",be="mouse",(i==="pointerout"||i==="pointerover")&&(zn=ao,St="onPointerLeave",Ae="onPointerEnter",be="pointer"),$r=Ge==null?Ve:we(Ge),Me=$n==null?Ve:we($n),Ve=new zn(St,be+"leave",Ge,u,mt),Ve.target=$r,Ve.relatedTarget=Me,St=null,V(mt)===Fe&&(zn=new zn(Ae,be+"enter",$n,u,mt),zn.target=Me,zn.relatedTarget=$r,St=zn),$r=St,Ge&&$n)t:{for(zn=Ge,Ae=$n,be=0,Me=zn;Me;Me=yc(Me))be++;for(Me=0,St=Ae;St;St=yc(St))Me++;for(;0<be-Me;)zn=yc(zn),be--;for(;0<Me-be;)Ae=yc(Ae),Me--;for(;be--;){if(zn===Ae||Ae!==null&&zn===Ae.alternate)break t;zn=yc(zn),Ae=yc(Ae)}zn=null}else zn=null;Ge!==null&&Vb(kt,Ve,Ge,zn,!1),$n!==null&&$r!==null&&Vb(kt,$r,$n,zn,!0)}}e:{if(Ve=Fe?we(Fe):window,Ge=Ve.nodeName&&Ve.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Ve.type==="file")var En=Ua;else if(_i(Ve))if(dv)En=rC;else{En=tC;var sr=eC}else Ge=Ve.nodeName,!Ge||Ge.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?Fe&&Ft(Fe.elementType)&&(En=Ua):En=nC;if(En&&(En=En(i,Fe))){lf(kt,En,u,mt);break e}sr&&sr(i,Ve,Fe),i==="focusout"&&Fe&&Ve.type==="number"&&Fe.memoizedProps.value!=null&&pt(Ve,"number",Ve.value)}switch(sr=Fe?we(Fe):window,i){case"focusin":(_i(sr)||sr.contentEditable==="true")&&(Xo=sr,lg=Fe,lu=null);break;case"focusout":lu=lg=Xo=null;break;case"mousedown":og=!0;break;case"contextmenu":case"mouseup":case"dragend":og=!1,yv(kt,u,mt);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":yv(kt,u,mt)}var An;if(ne)e:{switch(i){case"compositionstart":var Hn="onCompositionStart";break e;case"compositionend":Hn="onCompositionEnd";break e;case"compositionupdate":Hn="onCompositionUpdate";break e}Hn=void 0}else jn?It(i,u)&&(Hn="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Hn="onCompositionStart");Hn&&(Ce&&u.locale!=="ko"&&(jn||Hn!=="onCompositionStart"?Hn==="onCompositionEnd"&&jn&&(An=mn()):(vr=mt,hr="value"in vr?vr.value:vr.textContent,jn=!0)),sr=Yf(Fe,Hn),0<sr.length&&(Hn=new kn(Hn,i,null,u,mt),kt.push({event:Hn,listeners:sr}),An?Hn.data=An:(An=fn(u),An!==null&&(Hn.data=An)))),(An=fe?ur(i,u):Nr(i,u))&&(Hn=Yf(Fe,"onBeforeInput"),0<Hn.length&&(sr=new kn("onBeforeInput","beforeinput",null,u,mt),kt.push({event:sr,listeners:Hn}),sr.data=An)),HC(kt,i,Fe,u,mt)}$b(kt,a)})}function Lu(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Yf(i,a){for(var u=a+"Capture",f=[];i!==null;){var m=i,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=mr(i,u),m!=null&&f.unshift(Lu(i,m,b)),m=mr(i,a),m!=null&&f.push(Lu(i,m,b))),i.tag===3)return f;i=i.return}return[]}function yc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Vb(i,a,u,f,m){for(var b=a._reactName,N=[];u!==null&&u!==f;){var W=u,le=W.alternate,Fe=W.stateNode;if(W=W.tag,le!==null&&le===f)break;W!==5&&W!==26&&W!==27||Fe===null||(le=Fe,m?(Fe=mr(u,b),Fe!=null&&N.unshift(Lu(u,Fe,le))):m||(Fe=mr(u,b),Fe!=null&&N.push(Lu(u,Fe,le)))),u=u.return}N.length!==0&&i.push({event:a,listeners:N})}var VC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function Yb(i){return(typeof i=="string"?i:""+i).replace(VC,`
`).replace(YC,"")}function Gb(i,a){return a=Yb(a),Yb(i)===a}function Gf(){}function Ur(i,a,u,f,m,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Nt(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Nt(i,""+f);break;case"className":On(i,"class",f);break;case"tabIndex":On(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":On(i,u,f);break;case"style":Gt(i,f,b);break;case"data":if(a!=="object"){On(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ln(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Ur(i,a,"name",m.name,m,null),Ur(i,a,"formEncType",m.formEncType,m,null),Ur(i,a,"formMethod",m.formMethod,m,null),Ur(i,a,"formTarget",m.formTarget,m,null)):(Ur(i,a,"encType",m.encType,m,null),Ur(i,a,"method",m.method,m,null),Ur(i,a,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ln(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Gf);break;case"onScroll":f!=null&&lr("scroll",i);break;case"onScrollEnd":f!=null&&lr("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Ln(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":lr("beforetoggle",i),lr("toggle",i),hn(i,"popover",f);break;case"xlinkActuate":Cn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Cn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Cn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Cn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Cn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Cn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":hn(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ut.get(u)||u,hn(i,u,f))}}function Op(i,a,u,f,m,b){switch(u){case"style":Gt(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Nt(i,f):(typeof f=="number"||typeof f=="bigint")&&Nt(i,""+f);break;case"onScroll":f!=null&&lr("scroll",i);break;case"onScrollEnd":f!=null&&lr("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!De.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),b=i[Bt]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(a,b,m),typeof f=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,f,m);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):hn(i,u,f)}}}function Bs(i,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lr("error",i),lr("load",i);var f=!1,m=!1,b;for(b in u)if(u.hasOwnProperty(b)){var N=u[b];if(N!=null)switch(b){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ur(i,a,b,N,u,null)}}m&&Ur(i,a,"srcSet",u.srcSet,u,null),f&&Ur(i,a,"src",u.src,u,null);return;case"input":lr("invalid",i);var W=b=N=m=null,le=null,Fe=null;for(f in u)if(u.hasOwnProperty(f)){var mt=u[f];if(mt!=null)switch(f){case"name":m=mt;break;case"type":N=mt;break;case"checked":le=mt;break;case"defaultChecked":Fe=mt;break;case"value":b=mt;break;case"defaultValue":W=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(r(137,a));break;default:Ur(i,a,f,mt,u,null)}}Xe(i,b,W,le,Fe,N,m,!1),tn(i);return;case"select":lr("invalid",i),f=N=b=null;for(m in u)if(u.hasOwnProperty(m)&&(W=u[m],W!=null))switch(m){case"value":b=W;break;case"defaultValue":N=W;break;case"multiple":f=W;default:Ur(i,a,m,W,u,null)}a=b,u=N,i.multiple=!!f,a!=null?Z(i,!!f,a,!1):u!=null&&Z(i,!!f,u,!0);return;case"textarea":lr("invalid",i),b=m=f=null;for(N in u)if(u.hasOwnProperty(N)&&(W=u[N],W!=null))switch(N){case"value":f=W;break;case"defaultValue":m=W;break;case"children":b=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:Ur(i,a,N,W,u,null)}ve(i,f,m,b),tn(i);return;case"option":for(le in u)if(u.hasOwnProperty(le)&&(f=u[le],f!=null))switch(le){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ur(i,a,le,f,u,null)}return;case"dialog":lr("beforetoggle",i),lr("toggle",i),lr("cancel",i),lr("close",i);break;case"iframe":case"object":lr("load",i);break;case"video":case"audio":for(f=0;f<Mu.length;f++)lr(Mu[f],i);break;case"image":lr("error",i),lr("load",i);break;case"details":lr("toggle",i);break;case"embed":case"source":case"link":lr("error",i),lr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in u)if(u.hasOwnProperty(Fe)&&(f=u[Fe],f!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ur(i,a,Fe,f,u,null)}return;default:if(Ft(a)){for(mt in u)u.hasOwnProperty(mt)&&(f=u[mt],f!==void 0&&Op(i,a,mt,f,u,void 0));return}}for(W in u)u.hasOwnProperty(W)&&(f=u[W],f!=null&&Ur(i,a,W,f,u,null))}function GC(i,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,N=null,W=null,le=null,Fe=null,mt=null;for(Ge in u){var kt=u[Ge];if(u.hasOwnProperty(Ge)&&kt!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":le=kt;default:f.hasOwnProperty(Ge)||Ur(i,a,Ge,null,f,kt)}}for(var Ve in f){var Ge=f[Ve];if(kt=u[Ve],f.hasOwnProperty(Ve)&&(Ge!=null||kt!=null))switch(Ve){case"type":b=Ge;break;case"name":m=Ge;break;case"checked":Fe=Ge;break;case"defaultChecked":mt=Ge;break;case"value":N=Ge;break;case"defaultValue":W=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(137,a));break;default:Ge!==kt&&Ur(i,a,Ve,Ge,f,kt)}}Tt(i,N,W,le,Fe,mt,b,m);return;case"select":Ge=N=W=Ve=null;for(b in u)if(le=u[b],u.hasOwnProperty(b)&&le!=null)switch(b){case"value":break;case"multiple":Ge=le;default:f.hasOwnProperty(b)||Ur(i,a,b,null,f,le)}for(m in f)if(b=f[m],le=u[m],f.hasOwnProperty(m)&&(b!=null||le!=null))switch(m){case"value":Ve=b;break;case"defaultValue":W=b;break;case"multiple":N=b;default:b!==le&&Ur(i,a,m,b,f,le)}a=W,u=N,f=Ge,Ve!=null?Z(i,!!u,Ve,!1):!!f!=!!u&&(a!=null?Z(i,!!u,a,!0):Z(i,!!u,u?[]:"",!1));return;case"textarea":Ge=Ve=null;for(W in u)if(m=u[W],u.hasOwnProperty(W)&&m!=null&&!f.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Ur(i,a,W,null,f,m)}for(N in f)if(m=f[N],b=u[N],f.hasOwnProperty(N)&&(m!=null||b!=null))switch(N){case"value":Ve=m;break;case"defaultValue":Ge=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==b&&Ur(i,a,N,m,f,b)}X(i,Ve,Ge);return;case"option":for(var $n in u)if(Ve=u[$n],u.hasOwnProperty($n)&&Ve!=null&&!f.hasOwnProperty($n))switch($n){case"selected":i.selected=!1;break;default:Ur(i,a,$n,null,f,Ve)}for(le in f)if(Ve=f[le],Ge=u[le],f.hasOwnProperty(le)&&Ve!==Ge&&(Ve!=null||Ge!=null))switch(le){case"selected":i.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Ur(i,a,le,Ve,f,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zn in u)Ve=u[zn],u.hasOwnProperty(zn)&&Ve!=null&&!f.hasOwnProperty(zn)&&Ur(i,a,zn,null,f,Ve);for(Fe in f)if(Ve=f[Fe],Ge=u[Fe],f.hasOwnProperty(Fe)&&Ve!==Ge&&(Ve!=null||Ge!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,a));break;default:Ur(i,a,Fe,Ve,f,Ge)}return;default:if(Ft(a)){for(var $r in u)Ve=u[$r],u.hasOwnProperty($r)&&Ve!==void 0&&!f.hasOwnProperty($r)&&Op(i,a,$r,void 0,f,Ve);for(mt in f)Ve=f[mt],Ge=u[mt],!f.hasOwnProperty(mt)||Ve===Ge||Ve===void 0&&Ge===void 0||Op(i,a,mt,Ve,f,Ge);return}}for(var Ae in u)Ve=u[Ae],u.hasOwnProperty(Ae)&&Ve!=null&&!f.hasOwnProperty(Ae)&&Ur(i,a,Ae,null,f,Ve);for(kt in f)Ve=f[kt],Ge=u[kt],!f.hasOwnProperty(kt)||Ve===Ge||Ve==null&&Ge==null||Ur(i,a,kt,Ve,f,Ge)}var Dp=null,Rp=null;function qf(i){return i.nodeType===9?i:i.ownerDocument}function qb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Mp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lp=null;function qC(){var i=window.event;return i&&i.type==="popstate"?i===Lp?!1:(Lp=i,!0):(Lp=null,!1)}var Jb=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(i){return Kb.resolve(null).then(i).catch(KC)}:Jb;function KC(i){setTimeout(function(){throw i})}function Fl(i){return i==="head"}function Zb(i,a){var u=a,f=0,m=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var N=i.ownerDocument;if(u&1&&Iu(N.documentElement),u&2&&Iu(N.body),u&4)for(u=N.head,Iu(u),N=u.firstChild;N;){var W=N.nextSibling,le=N.nodeName;N[B]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=W}}if(m===0){i.removeChild(b),Wu(a);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);Wu(a)}function Ip(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ip(u),q(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function ZC(i,a,u,f){for(;i.nodeType===1;){var m=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[B])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=ia(i.nextSibling),i===null)break}return null}function QC(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ia(i.nextSibling),i===null))return null;return i}function Pp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function e4(i,a){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function ia(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Fp=null;function Qb(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}function e_(i,a,u){switch(a=qf(u),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Iu(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);q(i)}var Ui=new Map,t_=new Set;function Xf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var tl=Le.d;Le.d={f:t4,r:n4,D:r4,C:s4,L:i4,m:a4,X:o4,S:l4,M:c4};function t4(){var i=tl.f(),a=Bf();return i||a}function n4(i){var a=J(i);a!==null&&a.tag===5&&a.type==="form"?_y(a):tl.r(i)}var bc=typeof document>"u"?null:document;function n_(i,a,u){var f=bc;if(f&&typeof a=="string"&&a){var m=ye(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),t_.has(m)||(t_.add(m),i={rel:i,crossOrigin:u,href:a},f.querySelector(m)===null&&(a=f.createElement("link"),Bs(a,"link",i),xe(a),f.head.appendChild(a)))}}function r4(i){tl.D(i),n_("dns-prefetch",i,null)}function s4(i,a){tl.C(i,a),n_("preconnect",i,a)}function i4(i,a,u){tl.L(i,a,u);var f=bc;if(f&&i&&a){var m='link[rel="preload"][as="'+ye(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+ye(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+ye(u.imageSizes)+'"]')):m+='[href="'+ye(i)+'"]';var b=m;switch(a){case"style":b=_c(i);break;case"script":b=Sc(i)}Ui.has(b)||(i=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),Ui.set(b,i),f.querySelector(m)!==null||a==="style"&&f.querySelector(Pu(b))||a==="script"&&f.querySelector(Fu(b))||(a=f.createElement("link"),Bs(a,"link",i),xe(a),f.head.appendChild(a)))}}function a4(i,a){tl.m(i,a);var u=bc;if(u&&i){var f=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+ye(f)+'"][href="'+ye(i)+'"]',b=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Sc(i)}if(!Ui.has(b)&&(i=p({rel:"modulepreload",href:i},a),Ui.set(b,i),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Fu(b)))return}f=u.createElement("link"),Bs(f,"link",i),xe(f),u.head.appendChild(f)}}}function l4(i,a,u){tl.S(i,a,u);var f=bc;if(f&&i){var m=Ne(f).hoistableStyles,b=_c(i);a=a||"default";var N=m.get(b);if(!N){var W={loading:0,preload:null};if(N=f.querySelector(Pu(b)))W.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},u),(u=Ui.get(b))&&zp(i,u);var le=N=f.createElement("link");xe(le),Bs(le,"link",i),le._p=new Promise(function(Fe,mt){le.onload=Fe,le.onerror=mt}),le.addEventListener("load",function(){W.loading|=1}),le.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Jf(N,a,f)}N={type:"stylesheet",instance:N,count:1,state:W},m.set(b,N)}}}function o4(i,a){tl.X(i,a);var u=bc;if(u&&i){var f=Ne(u).hoistableScripts,m=Sc(i),b=f.get(m);b||(b=u.querySelector(Fu(m)),b||(i=p({src:i,async:!0},a),(a=Ui.get(m))&&Bp(i,a),b=u.createElement("script"),xe(b),Bs(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function c4(i,a){tl.M(i,a);var u=bc;if(u&&i){var f=Ne(u).hoistableScripts,m=Sc(i),b=f.get(m);b||(b=u.querySelector(Fu(m)),b||(i=p({src:i,async:!0,type:"module"},a),(a=Ui.get(m))&&Bp(i,a),b=u.createElement("script"),xe(b),Bs(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function r_(i,a,u,f){var m=(m=de.current)?Xf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=_c(u.href),u=Ne(m).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=_c(u.href);var b=Ne(m).hoistableStyles,N=b.get(i);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,N),(b=m.querySelector(Pu(i)))&&!b._p&&(N.instance=b,N.state.loading=5),Ui.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ui.set(i,u),b||u4(m,i,u,N.state))),a&&f===null)throw Error(r(528,""));return N}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Sc(u),u=Ne(m).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function _c(i){return'href="'+ye(i)+'"'}function Pu(i){return'link[rel="stylesheet"]['+i+"]"}function s_(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function u4(i,a,u,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Bs(a,"link",u),xe(a),i.head.appendChild(a))}function Sc(i){return'[src="'+ye(i)+'"]'}function Fu(i){return"script[async]"+i}function i_(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+ye(u.href)+'"]');if(f)return a.instance=f,xe(f),f;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),xe(f),Bs(f,"style",m),Jf(f,u.precedence,i),a.instance=f;case"stylesheet":m=_c(u.href);var b=i.querySelector(Pu(m));if(b)return a.state.loading|=4,a.instance=b,xe(b),b;f=s_(u),(m=Ui.get(m))&&zp(f,m),b=(i.ownerDocument||i).createElement("link"),xe(b);var N=b;return N._p=new Promise(function(W,le){N.onload=W,N.onerror=le}),Bs(b,"link",f),a.state.loading|=4,Jf(b,u.precedence,i),a.instance=b;case"script":return b=Sc(u.src),(m=i.querySelector(Fu(b)))?(a.instance=m,xe(m),m):(f=u,(m=Ui.get(b))&&(f=p({},u),Bp(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),xe(m),Bs(m,"link",f),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Jf(f,u.precedence,i));return a.instance}function Jf(i,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,b=m,N=0;N<f.length;N++){var W=f[N];if(W.dataset.precedence===a)b=W;else if(b!==m)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function zp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Bp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Kf=null;function a_(i,a,u){if(Kf===null){var f=new Map,m=Kf=new Map;m.set(u,f)}else m=Kf,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),m=0;m<u.length;m++){var b=u[m];if(!(b[B]||b[He]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(a)||"";N=i+N;var W=f.get(N);W?W.push(b):f.set(N,[b])}}return f}function l_(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function d4(i,a,u){if(u===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function o_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var zu=null;function f4(){}function h4(i,a,u){if(zu===null)throw Error(r(475));var f=zu;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=_c(u.href),b=i.querySelector(Pu(m));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Zf.bind(f),i.then(f,f)),a.state.loading|=4,a.instance=b,xe(b);return}b=i.ownerDocument||i,u=s_(u),(m=Ui.get(m))&&zp(u,m),b=b.createElement("link"),xe(b);var N=b;N._p=new Promise(function(W,le){N.onload=W,N.onerror=le}),Bs(b,"link",u),a.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Zf.bind(f),i.addEventListener("load",a),i.addEventListener("error",a))}}function g4(){if(zu===null)throw Error(r(475));var i=zu;return i.stylesheets&&i.count===0&&Hp(i,i.stylesheets),0<i.count?function(a){var u=setTimeout(function(){if(i.stylesheets&&Hp(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Zf(){if(this.count--,this.count===0){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qf=null;function Hp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qf=new Map,a.forEach(p4,i),Qf=null,Zf.call(i))}function p4(i,a){if(!(a.state.loading&4)){var u=Qf.get(i);if(u)var f=u.get(null);else{u=new Map,Qf.set(i,u);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var N=m[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),f=N)}f&&u.set(null,f)}m=a.instance,N=m.getAttribute("data-precedence"),b=u.get(N)||f,b===f&&u.set(null,m),u.set(N,m),this.count++,f=Zf.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),b?b.parentNode.insertBefore(m,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Bu={$$typeof:M,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function m4(i,a,u,f,m,b,N,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ct(0),this.hiddenUpdates=ct(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function c_(i,a,u,f,m,b,N,W,le,Fe,mt,kt){return i=new m4(i,a,u,N,W,le,Fe,kt),a=1,b===!0&&(a|=24),b=wi(3,null,null,a),i.current=b,b.stateNode=i,a=Sg(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},Tg(b),i}function u_(i){return i?(i=Qo,i):Qo}function d_(i,a,u,f,m,b){m=u_(m),f.context===null?f.context=m:f.pendingContext=m,f=kl(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Tl(i,f,a),u!==null&&(Ci(u,i,a),mu(u,i,a))}function f_(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Up(i,a){f_(i,a),(i=i.alternate)&&f_(i,a)}function h_(i){if(i.tag===13){var a=Zo(i,67108864);a!==null&&Ci(a,i,67108864),Up(i,67108864)}}var eh=!0;function x4(i,a,u,f){var m=ae.T;ae.T=null;var b=Le.p;try{Le.p=2,$p(i,a,u,f)}finally{Le.p=b,ae.T=m}}function v4(i,a,u,f){var m=ae.T;ae.T=null;var b=Le.p;try{Le.p=8,$p(i,a,u,f)}finally{Le.p=b,ae.T=m}}function $p(i,a,u,f){if(eh){var m=Wp(f);if(m===null)Ap(i,a,f,th,u),p_(i,f);else if(b4(m,i,a,u,f))f.stopPropagation();else if(p_(i,f),a&4&&-1<y4.indexOf(i)){for(;m!==null;){var b=J(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=wt(b.pendingLanes);if(N!==0){var W=b;for(W.pendingLanes|=2,W.entangledLanes|=2;N;){var le=1<<31-qe(N);W.entanglements[1]|=le,N&=~le}ka(b),(Lr&6)===0&&(Ff=Ue()+500,Ru(0))}}break;case 13:W=Zo(b,2),W!==null&&Ci(W,b,2),Bf(),Up(b,2)}if(b=Wp(f),b===null&&Ap(i,a,f,th,u),b===m)break;m=b}m!==null&&f.stopPropagation()}else Ap(i,a,f,null,u)}}function Wp(i){return i=Rn(i),Vp(i)}var th=null;function Vp(i){if(th=null,i=V(i),i!==null){var a=l(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=c(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return th=i,null}function g_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nn()){case Xt:return 2;case xt:return 8;case Qt:case Yt:return 32;case ln:return 268435456;default:return 32}default:return 32}}var Yp=!1,zl=null,Bl=null,Hl=null,Hu=new Map,Uu=new Map,Ul=[],y4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(i,a){switch(i){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":Hu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(a.pointerId)}}function $u(i,a,u,f,m,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[m]},a!==null&&(a=J(a),a!==null&&h_(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function b4(i,a,u,f,m){switch(a){case"focusin":return zl=$u(zl,i,a,u,f,m),!0;case"dragenter":return Bl=$u(Bl,i,a,u,f,m),!0;case"mouseover":return Hl=$u(Hl,i,a,u,f,m),!0;case"pointerover":var b=m.pointerId;return Hu.set(b,$u(Hu.get(b)||null,i,a,u,f,m)),!0;case"gotpointercapture":return b=m.pointerId,Uu.set(b,$u(Uu.get(b)||null,i,a,u,f,m)),!0}return!1}function m_(i){var a=V(i.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){i.blockedOn=a,te(i.priority,function(){if(u.tag===13){var f=Ni();f=Pn(f);var m=Zo(u,f);m!==null&&Ci(m,u,f),Up(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=Wp(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Kn=f,u.target.dispatchEvent(f),Kn=null}else return a=J(u),a!==null&&h_(a),i.blockedOn=u,!1;a.shift()}return!0}function x_(i,a,u){nh(i)&&u.delete(a)}function _4(){Yp=!1,zl!==null&&nh(zl)&&(zl=null),Bl!==null&&nh(Bl)&&(Bl=null),Hl!==null&&nh(Hl)&&(Hl=null),Hu.forEach(x_),Uu.forEach(x_)}function rh(i,a){i.blockedOn===a&&(i.blockedOn=null,Yp||(Yp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_4)))}var sh=null;function v_(i){sh!==i&&(sh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sh===i&&(sh=null);for(var a=0;a<i.length;a+=3){var u=i[a],f=i[a+1],m=i[a+2];if(typeof f!="function"){if(Vp(f||u)===null)continue;break}var b=J(u);b!==null&&(i.splice(a,3),a-=3,Vg(b,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function Wu(i){function a(le){return rh(le,i)}zl!==null&&rh(zl,i),Bl!==null&&rh(Bl,i),Hl!==null&&rh(Hl,i),Hu.forEach(a),Uu.forEach(a);for(var u=0;u<Ul.length;u++){var f=Ul[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ul.length&&(u=Ul[0],u.blockedOn===null);)m_(u),u.blockedOn===null&&Ul.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],b=u[f+1],N=m[Bt]||null;if(typeof b=="function")N||v_(u);else if(N){var W=null;if(b&&b.hasAttribute("formAction")){if(m=b,N=b[Bt]||null)W=N.formAction;else if(Vp(m)!==null)continue}else W=N.action;typeof W=="function"?u[f+1]=W:(u.splice(f,3),f-=3),v_(u)}}}function Gp(i){this._internalRoot=i}ih.prototype.render=Gp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,f=Ni();d_(u,f,i,a,null,null)},ih.prototype.unmount=Gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;d_(i.current,2,null,i,null,null),Bf(),a[Ke]=null}};function ih(i){this._internalRoot=i}ih.prototype.unstable_scheduleHydration=function(i){if(i){var a=pn();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Ul.length&&a!==0&&a<Ul[u].priority;u++);Ul.splice(u,0,i),u===0&&m_(i)}};var y_=e.version;if(y_!=="19.1.0")throw Error(r(527,y_,"19.1.0"));Le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var S4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Yn=ah.inject(S4),he=ah}catch{}}return Yu.createRoot=function(i,a){if(!s(i))throw Error(r(299));var u=!1,f="",m=Ly,b=Iy,N=Py,W=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(W=a.unstable_transitionCallbacks)),a=c_(i,1,!1,null,null,u,f,m,b,N,W,null),i[Ke]=a.current,jp(i),new Gp(a)},Yu.hydrateRoot=function(i,a,u){if(!s(i))throw Error(r(299));var f=!1,m="",b=Ly,N=Iy,W=Py,le=null,Fe=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(W=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(le=u.unstable_transitionCallbacks),u.formState!==void 0&&(Fe=u.formState)),a=c_(i,1,!0,a,u??null,f,m,b,N,W,le,Fe),a.context=u_(null),u=a.current,f=Ni(),f=Pn(f),m=kl(f),m.callback=null,Tl(u,m,f),u=f,a.current.lanes=u,Wt(a,u),ka(a),i[Ke]=a.current,jp(i),new ih(a)},Yu.version="19.1.0",Yu}var A_;function M4(){if(A_)return Jp.exports;A_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jp.exports=R4(),Jp.exports}var L4=M4();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O_="popstate";function I4(t={}){function e(r,s){let{pathname:l,search:c,hash:d}=r.location;return rx("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wd(s)}return F4(e,n,null,t)}function os(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ia(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P4(){return Math.random().toString(36).substring(2,10)}function D_(t,e){return{usr:t.state,key:t.key,idx:e}}function rx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gc(e):e,state:n,key:e&&e.key||r||P4()}}function wd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function F4(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,d="POP",h=null,g=p();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function p(){return(c.state||{idx:null}).idx}function v(){d="POP";let k=p(),D=k==null?null:k-g;g=k,h&&h({action:d,location:S.location,delta:D})}function _(k,D){d="PUSH";let A=rx(S.location,k,D);g=p()+1;let M=D_(A,g),Y=S.createHref(A);try{c.pushState(M,"",Y)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(Y)}l&&h&&h({action:d,location:S.location,delta:1})}function y(k,D){d="REPLACE";let A=rx(S.location,k,D);g=p();let M=D_(A,g),Y=S.createHref(A);c.replaceState(M,"",Y),l&&h&&h({action:d,location:S.location,delta:0})}function E(k){return z4(k)}let S={get action(){return d},get location(){return t(s,c)},listen(k){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(O_,v),h=k,()=>{s.removeEventListener(O_,v),h=null}},createHref(k){return e(s,k)},createURL:E,encodeLocation(k){let D=E(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:y,go(k){return c.go(k)}};return S}function z4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),os(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Hw(t,e,n="/"){return B4(t,e,n,!1)}function B4(t,e,n,r){let s=typeof e=="string"?Gc(e):e,l=pl(s.pathname||"/",n);if(l==null)return null;let c=Uw(t);H4(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let g=Z4(l);d=J4(c[h],g,r)}return d}function Uw(t,e=[],n=[],r=""){let s=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(os(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let g=cl([r,h.relativePath]),p=n.concat(h);l.children&&l.children.length>0&&(os(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Uw(l.children,e,p,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:q4(g,l.index),routesMeta:p})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let h of $w(l.path))s(l,c,h)}),e}function $w(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=$w(r.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),s&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function H4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:X4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var U4=/^:[\w-]+$/,$4=3,W4=2,V4=1,Y4=10,G4=-2,R_=t=>t==="*";function q4(t,e){let n=t.split("/"),r=n.length;return n.some(R_)&&(r+=G4),e&&(r+=W4),n.filter(s=>!R_(s)).reduce((s,l)=>s+(U4.test(l)?$4:l===""?V4:Y4),r)}function X4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function J4(t,e,n=!1){let{routesMeta:r}=t,s={},l="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],g=d===r.length-1,p=l==="/"?e:e.slice(l.length)||"/",v=Yh({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},p),_=h.route;if(!v&&g&&n&&!r[r.length-1].route.index&&(v=Yh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:cl([l,v.pathname]),pathnameBase:nj(cl([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=cl([l,v.pathnameBase]))}return c}function Yh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=K4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:v},_)=>{if(p==="*"){let E=d[_]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const y=d[_];return v&&!y?g[p]=void 0:g[p]=(y||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function K4(t,e=!1,n=!0){Ia(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Z4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ia(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Q4(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Gc(t):t;return{pathname:n?n.startsWith("/")?n:ej(n,e):e,search:rj(r),hash:sj(s)}}function ej(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function em(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ww(t){let e=tj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Vw(t,e,n,r=!1){let s;typeof t=="string"?s=Gc(t):(s={...t},os(!s.pathname||!s.pathname.includes("?"),em("?","pathname","search",s)),os(!s.pathname||!s.pathname.includes("#"),em("#","pathname","hash",s)),os(!s.search||!s.search.includes("#"),em("#","search","hash",s)));let l=t===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=Q4(s,d),g=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||p)&&(h.pathname+="/"),h}var cl=t=>t.join("/").replace(/\/\/+/g,"/"),nj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ij(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Yw=["POST","PUT","PATCH","DELETE"];new Set(Yw);var aj=["GET",...Yw];new Set(aj);var qc=x.createContext(null);qc.displayName="DataRouter";var v0=x.createContext(null);v0.displayName="DataRouterState";x.createContext(!1);var Gw=x.createContext({isTransitioning:!1});Gw.displayName="ViewTransition";var lj=x.createContext(new Map);lj.displayName="Fetchers";var oj=x.createContext(null);oj.displayName="Await";var za=x.createContext(null);za.displayName="Navigation";var $d=x.createContext(null);$d.displayName="Location";var yl=x.createContext({outlet:null,matches:[],isDataRoute:!1});yl.displayName="Route";var Fx=x.createContext(null);Fx.displayName="RouteError";function cj(t,{relative:e}={}){os(Wd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(za),{hash:s,pathname:l,search:c}=Vd(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:cl([n,l])),r.createHref({pathname:d,search:c,hash:s})}function Wd(){return x.useContext($d)!=null}function Ji(){return os(Wd(),"useLocation() may be used only in the context of a <Router> component."),x.useContext($d).location}var qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xw(t){x.useContext(za).static||x.useLayoutEffect(t)}function Xc(){let{isDataRoute:t}=x.useContext(yl);return t?Sj():uj()}function uj(){os(Wd(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(qc),{basename:e,navigator:n}=x.useContext(za),{matches:r}=x.useContext(yl),{pathname:s}=Ji(),l=JSON.stringify(Ww(r)),c=x.useRef(!1);return Xw(()=>{c.current=!0}),x.useCallback((h,g={})=>{if(Ia(c.current,qw),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=Vw(h,JSON.parse(l),s,g.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:cl([e,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[e,n,l,s,t])}x.createContext(null);function Vd(t,{relative:e}={}){let{matches:n}=x.useContext(yl),{pathname:r}=Ji(),s=JSON.stringify(Ww(n));return x.useMemo(()=>Vw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function dj(t,e){return Jw(t,e)}function Jw(t,e,n,r){var D;os(Wd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(za),{matches:l}=x.useContext(yl),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",g=c?c.pathnameBase:"/",p=c&&c.route;{let A=p&&p.path||"";Kw(h,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Ji(),_;if(e){let A=typeof e=="string"?Gc(e):e;os(g==="/"||((D=A.pathname)==null?void 0:D.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=v;let y=_.pathname||"/",E=y;if(g!=="/"){let A=g.replace(/^\//,"").split("/");E="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=Hw(t,{pathname:E});Ia(p||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ia(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=mj(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:cl([g,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:cl([g,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,n,r);return e&&k?x.createElement($d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function fj(){let t=_j(),e=ij(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,c)}var hj=x.createElement(fj,null),gj=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(yl.Provider,{value:this.props.routeContext},x.createElement(Fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pj({routeContext:t,match:e,children:n}){let r=x.useContext(qc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(yl.Provider,{value:t},n)}function mj(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let h=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);os(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:p,errors:v}=n,_=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||_){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,g,p)=>{let v,_=!1,y=null,E=null;n&&(v=l&&g.route.id?l[g.route.id]:void 0,y=g.route.errorElement||hj,c&&(d<0&&p===0?(Kw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):d===p&&(_=!0,E=g.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,p+1)),k=()=>{let D;return v?D=y:_?D=E:g.route.Component?D=x.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=h,x.createElement(pj,{match:g,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:D})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?x.createElement(gj,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function zx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xj(t){let e=x.useContext(qc);return os(e,zx(t)),e}function vj(t){let e=x.useContext(v0);return os(e,zx(t)),e}function yj(t){let e=x.useContext(yl);return os(e,zx(t)),e}function Bx(t){let e=yj(t),n=e.matches[e.matches.length-1];return os(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bj(){return Bx("useRouteId")}function _j(){var r;let t=x.useContext(Fx),e=vj("useRouteError"),n=Bx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Sj(){let{router:t}=xj("useNavigate"),e=Bx("useNavigate"),n=x.useRef(!1);return Xw(()=>{n.current=!0}),x.useCallback(async(s,l={})=>{Ia(n.current,qw),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...l}))},[t,e])}var M_={};function Kw(t,e,n){!e&&!M_[t]&&(M_[t]=!0,Ia(!1,n))}x.memo(wj);function wj({routes:t,future:e,state:n}){return Jw(t,void 0,n,e)}function Ca(t){os(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ej({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:l=!1}){os(!Wd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=Gc(n));let{pathname:h="/",search:g="",hash:p="",state:v=null,key:_="default"}=n,y=x.useMemo(()=>{let E=pl(h,c);return E==null?null:{location:{pathname:E,search:g,hash:p,state:v,key:_},navigationType:r}},[c,h,g,p,v,_,r]);return Ia(y!=null,`<Router basename="${c}"> is not able to match the URL "${h}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(za.Provider,{value:d},x.createElement($d.Provider,{children:e,value:y}))}function kj({children:t,location:e}){return dj(sx(t),e)}function sx(t,e=[]){let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let l=[...e,s];if(r.type===x.Fragment){n.push.apply(n,sx(r.props.children,l));return}os(r.type===Ca,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),os(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=sx(r.props.children,l)),n.push(c)}),n}var Ih="get",Ph="application/x-www-form-urlencoded";function y0(t){return t!=null&&typeof t.tagName=="string"}function Tj(t){return y0(t)&&t.tagName.toLowerCase()==="button"}function Nj(t){return y0(t)&&t.tagName.toLowerCase()==="form"}function Cj(t){return y0(t)&&t.tagName.toLowerCase()==="input"}function jj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Aj(t,e){return t.button===0&&(!e||e==="_self")&&!jj(t)}var lh=null;function Oj(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var Dj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tm(t){return t!=null&&!Dj.has(t)?(Ia(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):t}function Rj(t,e){let n,r,s,l,c;if(Nj(t)){let d=t.getAttribute("action");r=d?pl(d,e):null,n=t.getAttribute("method")||Ih,s=tm(t.getAttribute("enctype"))||Ph,l=new FormData(t)}else if(Tj(t)||Cj(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?pl(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ih,s=tm(t.getAttribute("formenctype"))||tm(d.getAttribute("enctype"))||Ph,l=new FormData(d,t),!Oj()){let{name:g,type:p,value:v}=t;if(p==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,v)}}else{if(y0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ih,r=null,s=Ph,c=t}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&pl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Lj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ij(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Pj(t,e,n){let r=await Promise.all(t.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await Lj(l,n);return c.links?c.links():[]}return[]}));return Hj(r.flat(1).filter(Ij).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function L_(t,e,n,r,s,l){let c=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,d=(h,g)=>{var p;return n[g].pathname!==h.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,g)=>c(h,g)||d(h,g)):l==="data"?e.filter((h,g)=>{var v;let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,g)||d(h,g))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Fj(t,e,{includeHydrateFallback:n}={}){return zj(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function zj(t){return[...new Set(t)]}function Bj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Hj(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let l=JSON.stringify(Bj(s));return n.has(l)||(n.add(l),r.push({key:l,link:s})),r},[])}function Zw(){let t=x.useContext(qc);return Hx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Uj(){let t=x.useContext(v0);return Hx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ux=x.createContext(void 0);Ux.displayName="FrameworkContext";function Qw(){let t=x.useContext(Ux);return Hx(t,"You must render this element inside a <HydratedRouter> element"),t}function $j(t,e){let n=x.useContext(Ux),[r,s]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:g,onMouseLeave:p,onTouchStart:v}=e,_=x.useRef(null);x.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=D=>{D.forEach(A=>{c(A.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[t]),x.useEffect(()=>{if(r){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{s(!0)},E=()=>{s(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Gu(d,y),onBlur:Gu(h,E),onMouseEnter:Gu(g,y),onMouseLeave:Gu(p,E),onTouchStart:Gu(v,y)}]:[!1,_,{}]}function Gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Wj({page:t,...e}){let{router:n}=Zw(),r=x.useMemo(()=>Hw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(Yj,{page:t,matches:r,...e}):null}function Vj(t){let{manifest:e,routeModules:n}=Qw(),[r,s]=x.useState([]);return x.useEffect(()=>{let l=!1;return Pj(t,e,n).then(c=>{l||s(c)}),()=>{l=!0}},[t,e,n]),r}function Yj({page:t,matches:e,...n}){let r=Ji(),{manifest:s,routeModules:l}=Qw(),{basename:c}=Zw(),{loaderData:d,matches:h}=Uj(),g=x.useMemo(()=>L_(t,e,h,s,r,"data"),[t,e,h,s,r]),p=x.useMemo(()=>L_(t,e,h,s,r,"assets"),[t,e,h,s,r]),v=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,S=!1;if(e.forEach(D=>{var M;let A=s.routes[D.route.id];!A||!A.hasLoader||(!g.some(Y=>Y.route.id===D.route.id)&&D.route.id in d&&((M=l[D.route.id])!=null&&M.shouldRevalidate)||A.hasClientLoader?S=!0:E.add(D.route.id))}),E.size===0)return[];let k=Mj(t,c,"data");return S&&E.size>0&&k.searchParams.set("_routes",e.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[k.pathname+k.search]},[c,d,r,s,g,e,t,l]),_=x.useMemo(()=>Fj(p,s),[p,s]),y=Vj(p);return x.createElement(x.Fragment,null,v.map(E=>x.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>x.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),y.map(({key:E,link:S})=>x.createElement("link",{key:E,...S})))}function Gj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eE&&(window.__reactRouterVersion="7.7.0")}catch{}function qj({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=I4({window:n,v5Compat:!0}));let s=r.current,[l,c]=x.useState({action:s.action,location:s.location}),d=x.useCallback(h=>{x.startTransition(()=>c(h))},[c]);return x.useLayoutEffect(()=>s.listen(d),[s,d]),x.createElement(Ej,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s})}var tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$x=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:d,target:h,to:g,preventScrollReset:p,viewTransition:v,..._},y){let{basename:E}=x.useContext(za),S=typeof g=="string"&&tE.test(g),k,D=!1;if(typeof g=="string"&&S&&(k=g,eE))try{let se=new URL(window.location.href),oe=g.startsWith("//")?new URL(se.protocol+g):new URL(g),Ee=pl(oe.pathname,E);oe.origin===se.origin&&Ee!=null?g=Ee+oe.search+oe.hash:D=!0}catch{Ia(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=cj(g,{relative:s}),[M,Y,Q]=$j(r,_),K=Kj(g,{replace:c,state:d,target:h,preventScrollReset:p,relative:s,viewTransition:v});function z(se){e&&e(se),se.defaultPrevented||K(se)}let ee=x.createElement("a",{..._,...Q,href:k||A,onClick:D||l?e:z,ref:Gj(y,Y),target:h,"data-discover":!S&&n==="render"?"true":void 0});return M&&!S?x.createElement(x.Fragment,null,ee,x.createElement(Wj,{page:A})):ee});$x.displayName="Link";var nE=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:d,children:h,...g},p){let v=Vd(c,{relative:g.relative}),_=Ji(),y=x.useContext(v0),{navigator:E,basename:S}=x.useContext(za),k=y!=null&&n3(v)&&d===!0,D=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,A=_.pathname,M=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(A=A.toLowerCase(),M=M?M.toLowerCase():null,D=D.toLowerCase()),M&&S&&(M=pl(M,S)||M);const Y=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Q=A===D||!s&&A.startsWith(D)&&A.charAt(Y)==="/",K=M!=null&&(M===D||!s&&M.startsWith(D)&&M.charAt(D.length)==="/"),z={isActive:Q,isPending:K,isTransitioning:k},ee=Q?e:void 0,se;typeof r=="function"?se=r(z):se=[r,Q?"active":null,K?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let oe=typeof l=="function"?l(z):l;return x.createElement($x,{...g,"aria-current":ee,className:se,ref:p,style:oe,to:c,viewTransition:d},typeof h=="function"?h(z):h)});nE.displayName="NavLink";var Xj=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:l,method:c=Ih,action:d,onSubmit:h,relative:g,preventScrollReset:p,viewTransition:v,..._},y)=>{let E=e3(),S=t3(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&tE.test(d),A=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let Y=M.nativeEvent.submitter,Q=(Y==null?void 0:Y.getAttribute("formmethod"))||c;E(Y||M.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:s,state:l,relative:g,preventScrollReset:p,viewTransition:v})};return x.createElement("form",{ref:y,method:k,action:S,onSubmit:r?h:A,..._,"data-discover":!D&&t==="render"?"true":void 0})});Xj.displayName="Form";function Jj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(t){let e=x.useContext(qc);return os(e,Jj(t)),e}function Kj(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Xc(),h=Ji(),g=Vd(t,{relative:l});return x.useCallback(p=>{if(Aj(p,e)){p.preventDefault();let v=n!==void 0?n:wd(h)===wd(g);d(t,{replace:v,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[h,d,g,n,r,e,t,s,l,c])}var Zj=0,Qj=()=>`__${String(++Zj)}__`;function e3(){let{router:t}=rE("useSubmit"),{basename:e}=x.useContext(za),n=bj();return x.useCallback(async(r,s={})=>{let{action:l,method:c,encType:d,formData:h,body:g}=Rj(r,e);if(s.navigate===!1){let p=s.fetcherKey||Qj();await t.fetch(p,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function t3(t,{relative:e}={}){let{basename:n}=x.useContext(za),r=x.useContext(yl);os(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...Vd(t||".",{relative:e})},c=Ji();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let p=d.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:cl([n,l.pathname])),wd(l)}function n3(t,e={}){let n=x.useContext(Gw);os(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rE("useViewTransitionState"),s=Vd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=pl(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=pl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yh(s.pathname,c)!=null||Yh(s.pathname,l)!=null}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var sE;function Dt(){return sE.apply(null,arguments)}function r3(t){sE=t}function ha(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ao(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function wr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wx(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(wr(t,e))return!1;return!0}function hi(t){return t===void 0}function ml(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Yd(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function iE(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function Jl(t,e){for(var n in e)wr(e,n)&&(t[n]=e[n]);return wr(e,"toString")&&(t.toString=e.toString),wr(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Ba(t,e,n,r){return CE(t,e,n,r,!0).utc()}function s3(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Jn(t){return t._pf==null&&(t._pf=s3()),t._pf}var ix;Array.prototype.some?ix=Array.prototype.some:ix=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function Vx(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=Jn(t),n=ix.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function b0(t){var e=Ba(NaN);return t!=null?Jl(Jn(e),t):Jn(e).userInvalidated=!0,e}var I_=Dt.momentProperties=[],nm=!1;function Yx(t,e){var n,r,s,l=I_.length;if(hi(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),hi(e._i)||(t._i=e._i),hi(e._f)||(t._f=e._f),hi(e._l)||(t._l=e._l),hi(e._strict)||(t._strict=e._strict),hi(e._tzm)||(t._tzm=e._tzm),hi(e._isUTC)||(t._isUTC=e._isUTC),hi(e._offset)||(t._offset=e._offset),hi(e._pf)||(t._pf=Jn(e)),hi(e._locale)||(t._locale=e._locale),l>0)for(n=0;n<l;n++)r=I_[n],s=e[r],hi(s)||(t[r]=s);return t}function Gd(t){Yx(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),nm===!1&&(nm=!0,Dt.updateOffset(this),nm=!1)}function ga(t){return t instanceof Gd||t!=null&&t._isAMomentObject!=null}function aE(t){Dt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Ki(t,e){var n=!0;return Jl(function(){if(Dt.deprecationHandler!=null&&Dt.deprecationHandler(null,t),n){var r=[],s,l,c,d=arguments.length;for(l=0;l<d;l++){if(s="",typeof arguments[l]=="object"){s+=`
[`+l+"] ";for(c in arguments[0])wr(arguments[0],c)&&(s+=c+": "+arguments[0][c]+", ");s=s.slice(0,-2)}else s=arguments[l];r.push(s)}aE(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var P_={};function lE(t,e){Dt.deprecationHandler!=null&&Dt.deprecationHandler(t,e),P_[t]||(aE(e),P_[t]=!0)}Dt.suppressDeprecationWarnings=!1;Dt.deprecationHandler=null;function Ha(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function i3(t){var e,n;for(n in t)wr(t,n)&&(e=t[n],Ha(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ax(t,e){var n=Jl({},t),r;for(r in e)wr(e,r)&&(Ao(t[r])&&Ao(e[r])?(n[r]={},Jl(n[r],t[r]),Jl(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)wr(t,r)&&!wr(e,r)&&Ao(t[r])&&(n[r]=Jl({},n[r]));return n}function Gx(t){t!=null&&this.set(t)}var lx;Object.keys?lx=Object.keys:lx=function(t){var e,n=[];for(e in t)wr(t,e)&&n.push(e);return n};var a3={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function l3(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Ha(r)?r.call(e,n):r}function Pa(t,e,n){var r=""+Math.abs(t),s=e-r.length,l=t>=0;return(l?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var qx=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,oh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,rm={},Lc={};function Mn(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(Lc[t]=s),e&&(Lc[e[0]]=function(){return Pa(s.apply(this,arguments),e[1],e[2])}),n&&(Lc[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function o3(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function c3(t){var e=t.match(qx),n,r;for(n=0,r=e.length;n<r;n++)Lc[e[n]]?e[n]=Lc[e[n]]:e[n]=o3(e[n]);return function(s){var l="",c;for(c=0;c<r;c++)l+=Ha(e[c])?e[c].call(s,t):e[c];return l}}function Fh(t,e){return t.isValid()?(e=oE(e,t.localeData()),rm[e]=rm[e]||c3(e),rm[e](t)):t.localeData().invalidDate()}function oE(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(oh.lastIndex=0;n>=0&&oh.test(t);)t=t.replace(oh,r),oh.lastIndex=0,n-=1;return t}var u3={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function d3(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(qx).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var f3="Invalid date";function h3(){return this._invalidDate}var g3="%d",p3=/\d{1,2}/;function m3(t){return this._ordinal.replace("%d",t)}var x3={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function v3(t,e,n,r){var s=this._relativeTime[n];return Ha(s)?s(t,e,n,r):s.replace(/%d/i,t)}function y3(t,e){var n=this._relativeTime[t>0?"future":"past"];return Ha(n)?n(e):n.replace(/%s/i,e)}var F_={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Zi(t){return typeof t=="string"?F_[t]||F_[t.toLowerCase()]:void 0}function Xx(t){var e={},n,r;for(r in t)wr(t,r)&&(n=Zi(r),n&&(e[n]=t[r]));return e}var b3={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function _3(t){var e=[],n;for(n in t)wr(t,n)&&e.push({unit:n,priority:b3[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}var cE=/\d/,Li=/\d\d/,uE=/\d{3}/,Jx=/\d{4}/,_0=/[+-]?\d{6}/,rs=/\d\d?/,dE=/\d\d\d\d?/,fE=/\d\d\d\d\d\d?/,S0=/\d{1,3}/,Kx=/\d{1,4}/,w0=/[+-]?\d{1,6}/,Jc=/\d+/,E0=/[+-]?\d+/,S3=/Z|[+-]\d\d:?\d\d/gi,k0=/Z|[+-]\d\d(?::?\d\d)?/gi,w3=/[+-]?\d+(\.\d{1,3})?/,qd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Kc=/^[1-9]\d?/,Zx=/^([1-9]\d|\d)/,Gh;Gh={};function Sn(t,e,n){Gh[t]=Ha(e)?e:function(r,s){return r&&n?n:e}}function E3(t,e){return wr(Gh,t)?Gh[t](e._strict,e._locale):new RegExp(k3(t))}function k3(t){return ul(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,l){return n||r||s||l}))}function ul(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function qi(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function cr(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=qi(e)),n}var ox={};function Vr(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),ml(e)&&(r=function(l,c){c[e]=cr(l)}),s=t.length,n=0;n<s;n++)ox[t[n]]=r}function Xd(t,e){Vr(t,function(n,r,s,l){s._w=s._w||{},e(n,s._w,s,l)})}function T3(t,e,n){e!=null&&wr(ox,t)&&ox[t](e,n._a,n,t)}function T0(t){return t%4===0&&t%100!==0||t%400===0}var Qs=0,il=1,Ra=2,js=3,ua=4,al=5,Co=6,N3=7,C3=8;Mn("Y",0,0,function(){var t=this.year();return t<=9999?Pa(t,4):"+"+t});Mn(0,["YY",2],0,function(){return this.year()%100});Mn(0,["YYYY",4],0,"year");Mn(0,["YYYYY",5],0,"year");Mn(0,["YYYYYY",6,!0],0,"year");Sn("Y",E0);Sn("YY",rs,Li);Sn("YYYY",Kx,Jx);Sn("YYYYY",w0,_0);Sn("YYYYYY",w0,_0);Vr(["YYYYY","YYYYYY"],Qs);Vr("YYYY",function(t,e){e[Qs]=t.length===2?Dt.parseTwoDigitYear(t):cr(t)});Vr("YY",function(t,e){e[Qs]=Dt.parseTwoDigitYear(t)});Vr("Y",function(t,e){e[Qs]=parseInt(t,10)});function dd(t){return T0(t)?366:365}Dt.parseTwoDigitYear=function(t){return cr(t)+(cr(t)>68?1900:2e3)};var hE=Zc("FullYear",!0);function j3(){return T0(this.year())}function Zc(t,e){return function(n){return n!=null?(gE(this,t,n),Dt.updateOffset(this,e),this):Ed(this,t)}}function Ed(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function gE(t,e,n){var r,s,l,c,d;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}l=n,c=t.month(),d=t.date(),d=d===29&&c===1&&!T0(l)?28:d,s?r.setUTCFullYear(l,c,d):r.setFullYear(l,c,d)}}function A3(t){return t=Zi(t),Ha(this[t])?this[t]():this}function O3(t,e){if(typeof t=="object"){t=Xx(t);var n=_3(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=Zi(t),Ha(this[t]))return this[t](e);return this}function D3(t,e){return(t%e+e)%e}var xs;Array.prototype.indexOf?xs=Array.prototype.indexOf:xs=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Qx(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=D3(e,12);return t+=(e-n)/12,n===1?T0(t)?29:28:31-n%7%2}Mn("M",["MM",2],"Mo",function(){return this.month()+1});Mn("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Mn("MMMM",0,0,function(t){return this.localeData().months(this,t)});Sn("M",rs,Kc);Sn("MM",rs,Li);Sn("MMM",function(t,e){return e.monthsShortRegex(t)});Sn("MMMM",function(t,e){return e.monthsRegex(t)});Vr(["M","MM"],function(t,e){e[il]=cr(t)-1});Vr(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[il]=s:Jn(n).invalidMonth=t});var R3="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,M3=qd,L3=qd;function I3(t,e){return t?ha(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||mE).test(e)?"format":"standalone"][t.month()]:ha(this._months)?this._months:this._months.standalone}function P3(t,e){return t?ha(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[mE.test(e)?"format":"standalone"][t.month()]:ha(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function F3(t,e,n){var r,s,l,c=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)l=Ba([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(l,"").toLocaleLowerCase();return n?e==="MMM"?(s=xs.call(this._shortMonthsParse,c),s!==-1?s:null):(s=xs.call(this._longMonthsParse,c),s!==-1?s:null):e==="MMM"?(s=xs.call(this._shortMonthsParse,c),s!==-1?s:(s=xs.call(this._longMonthsParse,c),s!==-1?s:null)):(s=xs.call(this._longMonthsParse,c),s!==-1?s:(s=xs.call(this._shortMonthsParse,c),s!==-1?s:null))}function z3(t,e,n){var r,s,l;if(this._monthsParseExact)return F3.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Ba([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(l="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(l.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function xE(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=cr(e);else if(e=t.localeData().monthsParse(e),!ml(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,Qx(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function vE(t){return t!=null?(xE(this,t),Dt.updateOffset(this,!0),this):Ed(this,"Month")}function B3(){return Qx(this.year(),this.month())}function H3(t){return this._monthsParseExact?(wr(this,"_monthsRegex")||yE.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(wr(this,"_monthsShortRegex")||(this._monthsShortRegex=M3),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function U3(t){return this._monthsParseExact?(wr(this,"_monthsRegex")||yE.call(this),t?this._monthsStrictRegex:this._monthsRegex):(wr(this,"_monthsRegex")||(this._monthsRegex=L3),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function yE(){function t(h,g){return g.length-h.length}var e=[],n=[],r=[],s,l,c,d;for(s=0;s<12;s++)l=Ba([2e3,s]),c=ul(this.monthsShort(l,"")),d=ul(this.months(l,"")),e.push(c),n.push(d),r.push(d),r.push(c);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function $3(t,e,n,r,s,l,c){var d;return t<100&&t>=0?(d=new Date(t+400,e,n,r,s,l,c),isFinite(d.getFullYear())&&d.setFullYear(t)):d=new Date(t,e,n,r,s,l,c),d}function kd(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function qh(t,e,n){var r=7+e-n,s=(7+kd(t,0,r).getUTCDay()-e)%7;return-s+r-1}function bE(t,e,n,r,s){var l=(7+n-r)%7,c=qh(t,r,s),d=1+7*(e-1)+l+c,h,g;return d<=0?(h=t-1,g=dd(h)+d):d>dd(t)?(h=t+1,g=d-dd(t)):(h=t,g=d),{year:h,dayOfYear:g}}function Td(t,e,n){var r=qh(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,l,c;return s<1?(c=t.year()-1,l=s+dl(c,e,n)):s>dl(t.year(),e,n)?(l=s-dl(t.year(),e,n),c=t.year()+1):(c=t.year(),l=s),{week:l,year:c}}function dl(t,e,n){var r=qh(t,e,n),s=qh(t+1,e,n);return(dd(t)-r+s)/7}Mn("w",["ww",2],"wo","week");Mn("W",["WW",2],"Wo","isoWeek");Sn("w",rs,Kc);Sn("ww",rs,Li);Sn("W",rs,Kc);Sn("WW",rs,Li);Xd(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=cr(t)});function W3(t){return Td(t,this._week.dow,this._week.doy).week}var V3={dow:0,doy:6};function Y3(){return this._week.dow}function G3(){return this._week.doy}function q3(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function X3(t){var e=Td(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Mn("d",0,"do","day");Mn("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Mn("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Mn("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Mn("e",0,0,"weekday");Mn("E",0,0,"isoWeekday");Sn("d",rs);Sn("e",rs);Sn("E",rs);Sn("dd",function(t,e){return e.weekdaysMinRegex(t)});Sn("ddd",function(t,e){return e.weekdaysShortRegex(t)});Sn("dddd",function(t,e){return e.weekdaysRegex(t)});Xd(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:Jn(n).invalidWeekday=t});Xd(["d","e","E"],function(t,e,n,r){e[r]=cr(t)});function J3(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function K3(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function e1(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Z3="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_E="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Q3="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),eA=qd,tA=qd,nA=qd;function rA(t,e){var n=ha(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?e1(n,this._week.dow):t?n[t.day()]:n}function sA(t){return t===!0?e1(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function iA(t){return t===!0?e1(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function aA(t,e,n){var r,s,l,c=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)l=Ba([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(l,"").toLocaleLowerCase();return n?e==="dddd"?(s=xs.call(this._weekdaysParse,c),s!==-1?s:null):e==="ddd"?(s=xs.call(this._shortWeekdaysParse,c),s!==-1?s:null):(s=xs.call(this._minWeekdaysParse,c),s!==-1?s:null):e==="dddd"?(s=xs.call(this._weekdaysParse,c),s!==-1||(s=xs.call(this._shortWeekdaysParse,c),s!==-1)?s:(s=xs.call(this._minWeekdaysParse,c),s!==-1?s:null)):e==="ddd"?(s=xs.call(this._shortWeekdaysParse,c),s!==-1||(s=xs.call(this._weekdaysParse,c),s!==-1)?s:(s=xs.call(this._minWeekdaysParse,c),s!==-1?s:null)):(s=xs.call(this._minWeekdaysParse,c),s!==-1||(s=xs.call(this._weekdaysParse,c),s!==-1)?s:(s=xs.call(this._shortWeekdaysParse,c),s!==-1?s:null))}function lA(t,e,n){var r,s,l;if(this._weekdaysParseExact)return aA.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Ba([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(l="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(l.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function oA(t){if(!this.isValid())return t!=null?this:NaN;var e=Ed(this,"Day");return t!=null?(t=J3(t,this.localeData()),this.add(t-e,"d")):e}function cA(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function uA(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=K3(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function dA(t){return this._weekdaysParseExact?(wr(this,"_weekdaysRegex")||t1.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(wr(this,"_weekdaysRegex")||(this._weekdaysRegex=eA),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function fA(t){return this._weekdaysParseExact?(wr(this,"_weekdaysRegex")||t1.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(wr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tA),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function hA(t){return this._weekdaysParseExact?(wr(this,"_weekdaysRegex")||t1.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(wr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nA),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function t1(){function t(p,v){return v.length-p.length}var e=[],n=[],r=[],s=[],l,c,d,h,g;for(l=0;l<7;l++)c=Ba([2e3,1]).day(l),d=ul(this.weekdaysMin(c,"")),h=ul(this.weekdaysShort(c,"")),g=ul(this.weekdays(c,"")),e.push(d),n.push(h),r.push(g),s.push(d),s.push(h),s.push(g);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function n1(){return this.hours()%12||12}function gA(){return this.hours()||24}Mn("H",["HH",2],0,"hour");Mn("h",["hh",2],0,n1);Mn("k",["kk",2],0,gA);Mn("hmm",0,0,function(){return""+n1.apply(this)+Pa(this.minutes(),2)});Mn("hmmss",0,0,function(){return""+n1.apply(this)+Pa(this.minutes(),2)+Pa(this.seconds(),2)});Mn("Hmm",0,0,function(){return""+this.hours()+Pa(this.minutes(),2)});Mn("Hmmss",0,0,function(){return""+this.hours()+Pa(this.minutes(),2)+Pa(this.seconds(),2)});function SE(t,e){Mn(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}SE("a",!0);SE("A",!1);function wE(t,e){return e._meridiemParse}Sn("a",wE);Sn("A",wE);Sn("H",rs,Zx);Sn("h",rs,Kc);Sn("k",rs,Kc);Sn("HH",rs,Li);Sn("hh",rs,Li);Sn("kk",rs,Li);Sn("hmm",dE);Sn("hmmss",fE);Sn("Hmm",dE);Sn("Hmmss",fE);Vr(["H","HH"],js);Vr(["k","kk"],function(t,e,n){var r=cr(t);e[js]=r===24?0:r});Vr(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Vr(["h","hh"],function(t,e,n){e[js]=cr(t),Jn(n).bigHour=!0});Vr("hmm",function(t,e,n){var r=t.length-2;e[js]=cr(t.substr(0,r)),e[ua]=cr(t.substr(r)),Jn(n).bigHour=!0});Vr("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[js]=cr(t.substr(0,r)),e[ua]=cr(t.substr(r,2)),e[al]=cr(t.substr(s)),Jn(n).bigHour=!0});Vr("Hmm",function(t,e,n){var r=t.length-2;e[js]=cr(t.substr(0,r)),e[ua]=cr(t.substr(r))});Vr("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[js]=cr(t.substr(0,r)),e[ua]=cr(t.substr(r,2)),e[al]=cr(t.substr(s))});function pA(t){return(t+"").toLowerCase().charAt(0)==="p"}var mA=/[ap]\.?m?\.?/i,xA=Zc("Hours",!0);function vA(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var EE={calendar:a3,longDateFormat:u3,invalidDate:f3,ordinal:g3,dayOfMonthOrdinalParse:p3,relativeTime:x3,months:R3,monthsShort:pE,week:V3,weekdays:Z3,weekdaysMin:Q3,weekdaysShort:_E,meridiemParse:mA},is={},qu={},Nd;function yA(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function z_(t){return t&&t.toLowerCase().replace("_","-")}function bA(t){for(var e=0,n,r,s,l;e<t.length;){for(l=z_(t[e]).split("-"),n=l.length,r=z_(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=N0(l.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&yA(l,r)>=n-1)break;n--}e++}return Nd}function _A(t){return!!(t&&t.match("^[^/\\\\]*$"))}function N0(t){var e=null,n;if(is[t]===void 0&&typeof module<"u"&&module&&module.exports&&_A(t))try{e=Nd._abbr,n=require,n("./locale/"+t),eo(e)}catch{is[t]=null}return is[t]}function eo(t,e){var n;return t&&(hi(e)?n=bl(t):n=r1(t,e),n?Nd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Nd._abbr}function r1(t,e){if(e!==null){var n,r=EE;if(e.abbr=t,is[t]!=null)lE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=is[t]._config;else if(e.parentLocale!=null)if(is[e.parentLocale]!=null)r=is[e.parentLocale]._config;else if(n=N0(e.parentLocale),n!=null)r=n._config;else return qu[e.parentLocale]||(qu[e.parentLocale]=[]),qu[e.parentLocale].push({name:t,config:e}),null;return is[t]=new Gx(ax(r,e)),qu[t]&&qu[t].forEach(function(s){r1(s.name,s.config)}),eo(t),is[t]}else return delete is[t],null}function SA(t,e){if(e!=null){var n,r,s=EE;is[t]!=null&&is[t].parentLocale!=null?is[t].set(ax(is[t]._config,e)):(r=N0(t),r!=null&&(s=r._config),e=ax(s,e),r==null&&(e.abbr=t),n=new Gx(e),n.parentLocale=is[t],is[t]=n),eo(t)}else is[t]!=null&&(is[t].parentLocale!=null?(is[t]=is[t].parentLocale,t===eo()&&eo(t)):is[t]!=null&&delete is[t]);return is[t]}function bl(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Nd;if(!ha(t)){if(e=N0(t),e)return e;t=[t]}return bA(t)}function wA(){return lx(is)}function s1(t){var e,n=t._a;return n&&Jn(t).overflow===-2&&(e=n[il]<0||n[il]>11?il:n[Ra]<1||n[Ra]>Qx(n[Qs],n[il])?Ra:n[js]<0||n[js]>24||n[js]===24&&(n[ua]!==0||n[al]!==0||n[Co]!==0)?js:n[ua]<0||n[ua]>59?ua:n[al]<0||n[al]>59?al:n[Co]<0||n[Co]>999?Co:-1,Jn(t)._overflowDayOfYear&&(e<Qs||e>Ra)&&(e=Ra),Jn(t)._overflowWeeks&&e===-1&&(e=N3),Jn(t)._overflowWeekday&&e===-1&&(e=C3),Jn(t).overflow=e),t}var EA=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kA=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,TA=/Z|[+-]\d\d(?::?\d\d)?/,ch=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],sm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],NA=/^\/?Date\((-?\d+)/i,CA=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,jA={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function kE(t){var e,n,r=t._i,s=EA.exec(r)||kA.exec(r),l,c,d,h,g=ch.length,p=sm.length;if(s){for(Jn(t).iso=!0,e=0,n=g;e<n;e++)if(ch[e][1].exec(s[1])){c=ch[e][0],l=ch[e][2]!==!1;break}if(c==null){t._isValid=!1;return}if(s[3]){for(e=0,n=p;e<n;e++)if(sm[e][1].exec(s[3])){d=(s[2]||" ")+sm[e][0];break}if(d==null){t._isValid=!1;return}}if(!l&&d!=null){t._isValid=!1;return}if(s[4])if(TA.exec(s[4]))h="Z";else{t._isValid=!1;return}t._f=c+(d||"")+(h||""),a1(t)}else t._isValid=!1}function AA(t,e,n,r,s,l){var c=[OA(t),pE.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return l&&c.push(parseInt(l,10)),c}function OA(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function DA(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function RA(t,e,n){if(t){var r=_E.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return Jn(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function MA(t,e,n){if(t)return jA[t];if(e)return 0;var r=parseInt(n,10),s=r%100,l=(r-s)/100;return l*60+s}function TE(t){var e=CA.exec(DA(t._i)),n;if(e){if(n=AA(e[4],e[3],e[2],e[5],e[6],e[7]),!RA(e[1],n,t))return;t._a=n,t._tzm=MA(e[8],e[9],e[10]),t._d=kd.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Jn(t).rfc2822=!0}else t._isValid=!1}function LA(t){var e=NA.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(kE(t),t._isValid===!1)delete t._isValid;else return;if(TE(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Dt.createFromInputFallback(t)}Dt.createFromInputFallback=Ki("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function jc(t,e,n){return t??e??n}function IA(t){var e=new Date(Dt.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function i1(t){var e,n,r=[],s,l,c;if(!t._d){for(s=IA(t),t._w&&t._a[Ra]==null&&t._a[il]==null&&PA(t),t._dayOfYear!=null&&(c=jc(t._a[Qs],s[Qs]),(t._dayOfYear>dd(c)||t._dayOfYear===0)&&(Jn(t)._overflowDayOfYear=!0),n=kd(c,0,t._dayOfYear),t._a[il]=n.getUTCMonth(),t._a[Ra]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[js]===24&&t._a[ua]===0&&t._a[al]===0&&t._a[Co]===0&&(t._nextDay=!0,t._a[js]=0),t._d=(t._useUTC?kd:$3).apply(null,r),l=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[js]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==l&&(Jn(t).weekdayMismatch=!0)}}function PA(t){var e,n,r,s,l,c,d,h,g;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(l=1,c=4,n=jc(e.GG,t._a[Qs],Td(ts(),1,4).year),r=jc(e.W,1),s=jc(e.E,1),(s<1||s>7)&&(h=!0)):(l=t._locale._week.dow,c=t._locale._week.doy,g=Td(ts(),l,c),n=jc(e.gg,t._a[Qs],g.year),r=jc(e.w,g.week),e.d!=null?(s=e.d,(s<0||s>6)&&(h=!0)):e.e!=null?(s=e.e+l,(e.e<0||e.e>6)&&(h=!0)):s=l),r<1||r>dl(n,l,c)?Jn(t)._overflowWeeks=!0:h!=null?Jn(t)._overflowWeekday=!0:(d=bE(n,r,s,l,c),t._a[Qs]=d.year,t._dayOfYear=d.dayOfYear)}Dt.ISO_8601=function(){};Dt.RFC_2822=function(){};function a1(t){if(t._f===Dt.ISO_8601){kE(t);return}if(t._f===Dt.RFC_2822){TE(t);return}t._a=[],Jn(t).empty=!0;var e=""+t._i,n,r,s,l,c,d=e.length,h=0,g,p;for(s=oE(t._f,t._locale).match(qx)||[],p=s.length,n=0;n<p;n++)l=s[n],r=(e.match(E3(l,t))||[])[0],r&&(c=e.substr(0,e.indexOf(r)),c.length>0&&Jn(t).unusedInput.push(c),e=e.slice(e.indexOf(r)+r.length),h+=r.length),Lc[l]?(r?Jn(t).empty=!1:Jn(t).unusedTokens.push(l),T3(l,r,t)):t._strict&&!r&&Jn(t).unusedTokens.push(l);Jn(t).charsLeftOver=d-h,e.length>0&&Jn(t).unusedInput.push(e),t._a[js]<=12&&Jn(t).bigHour===!0&&t._a[js]>0&&(Jn(t).bigHour=void 0),Jn(t).parsedDateParts=t._a.slice(0),Jn(t).meridiem=t._meridiem,t._a[js]=FA(t._locale,t._a[js],t._meridiem),g=Jn(t).era,g!==null&&(t._a[Qs]=t._locale.erasConvertYear(g,t._a[Qs])),i1(t),s1(t)}function FA(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function zA(t){var e,n,r,s,l,c,d=!1,h=t._f.length;if(h===0){Jn(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<h;s++)l=0,c=!1,e=Yx({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],a1(e),Vx(e)&&(c=!0),l+=Jn(e).charsLeftOver,l+=Jn(e).unusedTokens.length*10,Jn(e).score=l,d?l<r&&(r=l,n=e):(r==null||l<r||c)&&(r=l,n=e,c&&(d=!0));Jl(t,n||e)}function BA(t){if(!t._d){var e=Xx(t._i),n=e.day===void 0?e.date:e.day;t._a=iE([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),i1(t)}}function HA(t){var e=new Gd(s1(NE(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function NE(t){var e=t._i,n=t._f;return t._locale=t._locale||bl(t._l),e===null||n===void 0&&e===""?b0({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ga(e)?new Gd(s1(e)):(Yd(e)?t._d=e:ha(n)?zA(t):n?a1(t):UA(t),Vx(t)||(t._d=null),t))}function UA(t){var e=t._i;hi(e)?t._d=new Date(Dt.now()):Yd(e)?t._d=new Date(e.valueOf()):typeof e=="string"?LA(t):ha(e)?(t._a=iE(e.slice(0),function(n){return parseInt(n,10)}),i1(t)):Ao(e)?BA(t):ml(e)?t._d=new Date(e):Dt.createFromInputFallback(t)}function CE(t,e,n,r,s){var l={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ao(t)&&Wx(t)||ha(t)&&t.length===0)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=t,l._f=e,l._strict=r,HA(l)}function ts(t,e,n,r){return CE(t,e,n,r,!1)}var $A=Ki("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ts.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:b0()}),WA=Ki("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ts.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:b0()});function jE(t,e){var n,r;if(e.length===1&&ha(e[0])&&(e=e[0]),!e.length)return ts();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function VA(){var t=[].slice.call(arguments,0);return jE("isBefore",t)}function YA(){var t=[].slice.call(arguments,0);return jE("isAfter",t)}var GA=function(){return Date.now?Date.now():+new Date},Xu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qA(t){var e,n=!1,r,s=Xu.length;for(e in t)if(wr(t,e)&&!(xs.call(Xu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[Xu[r]]){if(n)return!1;parseFloat(t[Xu[r]])!==cr(t[Xu[r]])&&(n=!0)}return!0}function XA(){return this._isValid}function JA(){return ma(NaN)}function C0(t){var e=Xx(t),n=e.year||0,r=e.quarter||0,s=e.month||0,l=e.week||e.isoWeek||0,c=e.day||0,d=e.hour||0,h=e.minute||0,g=e.second||0,p=e.millisecond||0;this._isValid=qA(e),this._milliseconds=+p+g*1e3+h*6e4+d*1e3*60*60,this._days=+c+l*7,this._months=+s+r*3+n*12,this._data={},this._locale=bl(),this._bubble()}function zh(t){return t instanceof C0}function cx(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function KA(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),l=0,c;for(c=0;c<r;c++)cr(t[c])!==cr(e[c])&&l++;return l+s}function AE(t,e){Mn(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Pa(~~(n/60),2)+e+Pa(~~n%60,2)})}AE("Z",":");AE("ZZ","");Sn("Z",k0);Sn("ZZ",k0);Vr(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=l1(k0,t)});var ZA=/([\+\-]|\d\d)/gi;function l1(t,e){var n=(e||"").match(t),r,s,l;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(ZA)||["-",0,0],l=+(s[1]*60)+cr(s[2]),l===0?0:s[0]==="+"?l:-l)}function o1(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(ga(t)||Yd(t)?t.valueOf():ts(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Dt.updateOffset(n,!1),n):ts(t).local()}function ux(t){return-Math.round(t._d.getTimezoneOffset())}Dt.updateOffset=function(){};function QA(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=l1(k0,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=ux(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?RE(this,ma(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Dt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:ux(this)}function eO(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function tO(t){return this.utcOffset(0,t)}function nO(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ux(this),"m")),this}function rO(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=l1(S3,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function sO(t){return this.isValid()?(t=t?ts(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function iO(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function aO(){if(!hi(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Yx(t,this),t=NE(t),t._a?(e=t._isUTC?Ba(t._a):ts(t._a),this._isDSTShifted=this.isValid()&&KA(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function lO(){return this.isValid()?!this._isUTC:!1}function oO(){return this.isValid()?this._isUTC:!1}function OE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var cO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,uO=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ma(t,e){var n=t,r=null,s,l,c;return zh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ml(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=cO.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:cr(r[Ra])*s,h:cr(r[js])*s,m:cr(r[ua])*s,s:cr(r[al])*s,ms:cr(cx(r[Co]*1e3))*s}):(r=uO.exec(t))?(s=r[1]==="-"?-1:1,n={y:ko(r[2],s),M:ko(r[3],s),w:ko(r[4],s),d:ko(r[5],s),h:ko(r[6],s),m:ko(r[7],s),s:ko(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(c=dO(ts(n.from),ts(n.to)),n={},n.ms=c.milliseconds,n.M=c.months),l=new C0(n),zh(t)&&wr(t,"_locale")&&(l._locale=t._locale),zh(t)&&wr(t,"_isValid")&&(l._isValid=t._isValid),l}ma.fn=C0.prototype;ma.invalid=JA;function ko(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function B_(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function dO(t,e){var n;return t.isValid()&&e.isValid()?(e=o1(e,t),t.isBefore(e)?n=B_(t,e):(n=B_(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function DE(t,e){return function(n,r){var s,l;return r!==null&&!isNaN(+r)&&(lE(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=n,n=r,r=l),s=ma(n,r),RE(this,s,t),this}}function RE(t,e,n,r){var s=e._milliseconds,l=cx(e._days),c=cx(e._months);t.isValid()&&(r=r??!0,c&&xE(t,Ed(t,"Month")+c*n),l&&gE(t,"Date",Ed(t,"Date")+l*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&Dt.updateOffset(t,l||c))}var fO=DE(1,"add"),hO=DE(-1,"subtract");function ME(t){return typeof t=="string"||t instanceof String}function gO(t){return ga(t)||Yd(t)||ME(t)||ml(t)||mO(t)||pO(t)||t===null||t===void 0}function pO(t){var e=Ao(t)&&!Wx(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,l,c=r.length;for(s=0;s<c;s+=1)l=r[s],n=n||wr(t,l);return e&&n}function mO(t){var e=ha(t),n=!1;return e&&(n=t.filter(function(r){return!ml(r)&&ME(t)}).length===0),e&&n}function xO(t){var e=Ao(t)&&!Wx(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,l;for(s=0;s<r.length;s+=1)l=r[s],n=n||wr(t,l);return e&&n}function vO(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function yO(t,e){arguments.length===1&&(arguments[0]?gO(arguments[0])?(t=arguments[0],e=void 0):xO(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||ts(),r=o1(n,this).startOf("day"),s=Dt.calendarFormat(this,r)||"sameElse",l=e&&(Ha(e[s])?e[s].call(this,n):e[s]);return this.format(l||this.localeData().calendar(s,this,ts(n)))}function bO(){return new Gd(this)}function _O(t,e){var n=ga(t)?t:ts(t);return this.isValid()&&n.isValid()?(e=Zi(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function SO(t,e){var n=ga(t)?t:ts(t);return this.isValid()&&n.isValid()?(e=Zi(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function wO(t,e,n,r){var s=ga(t)?t:ts(t),l=ga(e)?e:ts(e);return this.isValid()&&s.isValid()&&l.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(l,n):!this.isAfter(l,n))):!1}function EO(t,e){var n=ga(t)?t:ts(t),r;return this.isValid()&&n.isValid()?(e=Zi(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function kO(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function TO(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function NO(t,e,n){var r,s,l;if(!this.isValid())return NaN;if(r=o1(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=Zi(e),e){case"year":l=Bh(this,r)/12;break;case"month":l=Bh(this,r);break;case"quarter":l=Bh(this,r)/3;break;case"second":l=(this-r)/1e3;break;case"minute":l=(this-r)/6e4;break;case"hour":l=(this-r)/36e5;break;case"day":l=(this-r-s)/864e5;break;case"week":l=(this-r-s)/6048e5;break;default:l=this-r}return n?l:qi(l)}function Bh(t,e){if(t.date()<e.date())return-Bh(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,l;return e-r<0?(s=t.clone().add(n-1,"months"),l=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),l=(e-r)/(s-r)),-(n+l)||0}Dt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Dt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function CO(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jO(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Fh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ha(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fh(n,"Z")):Fh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function AO(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,l;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",l=e+'[")]',this.format(n+r+s+l)}function OO(t){t||(t=this.isUtc()?Dt.defaultFormatUtc:Dt.defaultFormat);var e=Fh(this,t);return this.localeData().postformat(e)}function DO(t,e){return this.isValid()&&(ga(t)&&t.isValid()||ts(t).isValid())?ma({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function RO(t){return this.from(ts(),t)}function MO(t,e){return this.isValid()&&(ga(t)&&t.isValid()||ts(t).isValid())?ma({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function LO(t){return this.to(ts(),t)}function LE(t){var e;return t===void 0?this._locale._abbr:(e=bl(t),e!=null&&(this._locale=e),this)}var IE=Ki("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function PE(){return this._locale}var Xh=1e3,Ic=60*Xh,Jh=60*Ic,FE=(365*400+97)*24*Jh;function Pc(t,e){return(t%e+e)%e}function zE(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-FE:new Date(t,e,n).valueOf()}function BE(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-FE:Date.UTC(t,e,n)}function IO(t){var e,n;if(t=Zi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?BE:zE,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Pc(e+(this._isUTC?0:this.utcOffset()*Ic),Jh);break;case"minute":e=this._d.valueOf(),e-=Pc(e,Ic);break;case"second":e=this._d.valueOf(),e-=Pc(e,Xh);break}return this._d.setTime(e),Dt.updateOffset(this,!0),this}function PO(t){var e,n;if(t=Zi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?BE:zE,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Jh-Pc(e+(this._isUTC?0:this.utcOffset()*Ic),Jh)-1;break;case"minute":e=this._d.valueOf(),e+=Ic-Pc(e,Ic)-1;break;case"second":e=this._d.valueOf(),e+=Xh-Pc(e,Xh)-1;break}return this._d.setTime(e),Dt.updateOffset(this,!0),this}function FO(){return this._d.valueOf()-(this._offset||0)*6e4}function zO(){return Math.floor(this.valueOf()/1e3)}function BO(){return new Date(this.valueOf())}function HO(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function UO(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function $O(){return this.isValid()?this.toISOString():null}function WO(){return Vx(this)}function VO(){return Jl({},Jn(this))}function YO(){return Jn(this).overflow}function GO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Mn("N",0,0,"eraAbbr");Mn("NN",0,0,"eraAbbr");Mn("NNN",0,0,"eraAbbr");Mn("NNNN",0,0,"eraName");Mn("NNNNN",0,0,"eraNarrow");Mn("y",["y",1],"yo","eraYear");Mn("y",["yy",2],0,"eraYear");Mn("y",["yyy",3],0,"eraYear");Mn("y",["yyyy",4],0,"eraYear");Sn("N",c1);Sn("NN",c1);Sn("NNN",c1);Sn("NNNN",s5);Sn("NNNNN",i5);Vr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?Jn(n).era=s:Jn(n).invalidEra=t});Sn("y",Jc);Sn("yy",Jc);Sn("yyy",Jc);Sn("yyyy",Jc);Sn("yo",a5);Vr(["y","yy","yyy","yyyy"],Qs);Vr(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Qs]=n._locale.eraYearOrdinalParse(t,s):e[Qs]=parseInt(t,10)});function qO(t,e){var n,r,s,l=this._eras||bl("en")._eras;for(n=0,r=l.length;n<r;++n){switch(typeof l[n].since){case"string":s=Dt(l[n].since).startOf("day"),l[n].since=s.valueOf();break}switch(typeof l[n].until){case"undefined":l[n].until=1/0;break;case"string":s=Dt(l[n].until).startOf("day").valueOf(),l[n].until=s.valueOf();break}}return l}function XO(t,e,n){var r,s,l=this.eras(),c,d,h;for(t=t.toUpperCase(),r=0,s=l.length;r<s;++r)if(c=l[r].name.toUpperCase(),d=l[r].abbr.toUpperCase(),h=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(d===t)return l[r];break;case"NNNN":if(c===t)return l[r];break;case"NNNNN":if(h===t)return l[r];break}else if([c,d,h].indexOf(t)>=0)return l[r]}function JO(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Dt(t.since).year():Dt(t.since).year()+(e-t.offset)*n}function KO(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function ZO(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function QO(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function e5(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-Dt(s[t].since).year())*n+s[t].offset;return this.year()}function t5(t){return wr(this,"_erasNameRegex")||u1.call(this),t?this._erasNameRegex:this._erasRegex}function n5(t){return wr(this,"_erasAbbrRegex")||u1.call(this),t?this._erasAbbrRegex:this._erasRegex}function r5(t){return wr(this,"_erasNarrowRegex")||u1.call(this),t?this._erasNarrowRegex:this._erasRegex}function c1(t,e){return e.erasAbbrRegex(t)}function s5(t,e){return e.erasNameRegex(t)}function i5(t,e){return e.erasNarrowRegex(t)}function a5(t,e){return e._eraYearOrdinalRegex||Jc}function u1(){var t=[],e=[],n=[],r=[],s,l,c,d,h,g=this.eras();for(s=0,l=g.length;s<l;++s)c=ul(g[s].name),d=ul(g[s].abbr),h=ul(g[s].narrow),e.push(c),t.push(d),n.push(h),r.push(c),r.push(d),r.push(h);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Mn(0,["gg",2],0,function(){return this.weekYear()%100});Mn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function j0(t,e){Mn(0,[t,t.length],0,e)}j0("gggg","weekYear");j0("ggggg","weekYear");j0("GGGG","isoWeekYear");j0("GGGGG","isoWeekYear");Sn("G",E0);Sn("g",E0);Sn("GG",rs,Li);Sn("gg",rs,Li);Sn("GGGG",Kx,Jx);Sn("gggg",Kx,Jx);Sn("GGGGG",w0,_0);Sn("ggggg",w0,_0);Xd(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=cr(t)});Xd(["gg","GG"],function(t,e,n,r){e[r]=Dt.parseTwoDigitYear(t)});function l5(t){return HE.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function o5(t){return HE.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function c5(){return dl(this.year(),1,4)}function u5(){return dl(this.isoWeekYear(),1,4)}function d5(){var t=this.localeData()._week;return dl(this.year(),t.dow,t.doy)}function f5(){var t=this.localeData()._week;return dl(this.weekYear(),t.dow,t.doy)}function HE(t,e,n,r,s){var l;return t==null?Td(this,r,s).year:(l=dl(t,r,s),e>l&&(e=l),h5.call(this,t,e,n,r,s))}function h5(t,e,n,r,s){var l=bE(t,e,n,r,s),c=kd(l.year,0,l.dayOfYear);return this.year(c.getUTCFullYear()),this.month(c.getUTCMonth()),this.date(c.getUTCDate()),this}Mn("Q",0,"Qo","quarter");Sn("Q",cE);Vr("Q",function(t,e){e[il]=(cr(t)-1)*3});function g5(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Mn("D",["DD",2],"Do","date");Sn("D",rs,Kc);Sn("DD",rs,Li);Sn("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Vr(["D","DD"],Ra);Vr("Do",function(t,e){e[Ra]=cr(t.match(rs)[0])});var UE=Zc("Date",!0);Mn("DDD",["DDDD",3],"DDDo","dayOfYear");Sn("DDD",S0);Sn("DDDD",uE);Vr(["DDD","DDDD"],function(t,e,n){n._dayOfYear=cr(t)});function p5(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Mn("m",["mm",2],0,"minute");Sn("m",rs,Zx);Sn("mm",rs,Li);Vr(["m","mm"],ua);var m5=Zc("Minutes",!1);Mn("s",["ss",2],0,"second");Sn("s",rs,Zx);Sn("ss",rs,Li);Vr(["s","ss"],al);var x5=Zc("Seconds",!1);Mn("S",0,0,function(){return~~(this.millisecond()/100)});Mn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Mn(0,["SSS",3],0,"millisecond");Mn(0,["SSSS",4],0,function(){return this.millisecond()*10});Mn(0,["SSSSS",5],0,function(){return this.millisecond()*100});Mn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Mn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Mn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Mn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Sn("S",S0,cE);Sn("SS",S0,Li);Sn("SSS",S0,uE);var Kl,$E;for(Kl="SSSS";Kl.length<=9;Kl+="S")Sn(Kl,Jc);function v5(t,e){e[Co]=cr(("0."+t)*1e3)}for(Kl="S";Kl.length<=9;Kl+="S")Vr(Kl,v5);$E=Zc("Milliseconds",!1);Mn("z",0,0,"zoneAbbr");Mn("zz",0,0,"zoneName");function y5(){return this._isUTC?"UTC":""}function b5(){return this._isUTC?"Coordinated Universal Time":""}var Vt=Gd.prototype;Vt.add=fO;Vt.calendar=yO;Vt.clone=bO;Vt.diff=NO;Vt.endOf=PO;Vt.format=OO;Vt.from=DO;Vt.fromNow=RO;Vt.to=MO;Vt.toNow=LO;Vt.get=A3;Vt.invalidAt=YO;Vt.isAfter=_O;Vt.isBefore=SO;Vt.isBetween=wO;Vt.isSame=EO;Vt.isSameOrAfter=kO;Vt.isSameOrBefore=TO;Vt.isValid=WO;Vt.lang=IE;Vt.locale=LE;Vt.localeData=PE;Vt.max=WA;Vt.min=$A;Vt.parsingFlags=VO;Vt.set=O3;Vt.startOf=IO;Vt.subtract=hO;Vt.toArray=HO;Vt.toObject=UO;Vt.toDate=BO;Vt.toISOString=jO;Vt.inspect=AO;typeof Symbol<"u"&&Symbol.for!=null&&(Vt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Vt.toJSON=$O;Vt.toString=CO;Vt.unix=zO;Vt.valueOf=FO;Vt.creationData=GO;Vt.eraName=KO;Vt.eraNarrow=ZO;Vt.eraAbbr=QO;Vt.eraYear=e5;Vt.year=hE;Vt.isLeapYear=j3;Vt.weekYear=l5;Vt.isoWeekYear=o5;Vt.quarter=Vt.quarters=g5;Vt.month=vE;Vt.daysInMonth=B3;Vt.week=Vt.weeks=q3;Vt.isoWeek=Vt.isoWeeks=X3;Vt.weeksInYear=d5;Vt.weeksInWeekYear=f5;Vt.isoWeeksInYear=c5;Vt.isoWeeksInISOWeekYear=u5;Vt.date=UE;Vt.day=Vt.days=oA;Vt.weekday=cA;Vt.isoWeekday=uA;Vt.dayOfYear=p5;Vt.hour=Vt.hours=xA;Vt.minute=Vt.minutes=m5;Vt.second=Vt.seconds=x5;Vt.millisecond=Vt.milliseconds=$E;Vt.utcOffset=QA;Vt.utc=tO;Vt.local=nO;Vt.parseZone=rO;Vt.hasAlignedHourOffset=sO;Vt.isDST=iO;Vt.isLocal=lO;Vt.isUtcOffset=oO;Vt.isUtc=OE;Vt.isUTC=OE;Vt.zoneAbbr=y5;Vt.zoneName=b5;Vt.dates=Ki("dates accessor is deprecated. Use date instead.",UE);Vt.months=Ki("months accessor is deprecated. Use month instead",vE);Vt.years=Ki("years accessor is deprecated. Use year instead",hE);Vt.zone=Ki("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",eO);Vt.isDSTShifted=Ki("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",aO);function _5(t){return ts(t*1e3)}function S5(){return ts.apply(null,arguments).parseZone()}function WE(t){return t}var Er=Gx.prototype;Er.calendar=l3;Er.longDateFormat=d3;Er.invalidDate=h3;Er.ordinal=m3;Er.preparse=WE;Er.postformat=WE;Er.relativeTime=v3;Er.pastFuture=y3;Er.set=i3;Er.eras=qO;Er.erasParse=XO;Er.erasConvertYear=JO;Er.erasAbbrRegex=n5;Er.erasNameRegex=t5;Er.erasNarrowRegex=r5;Er.months=I3;Er.monthsShort=P3;Er.monthsParse=z3;Er.monthsRegex=U3;Er.monthsShortRegex=H3;Er.week=W3;Er.firstDayOfYear=G3;Er.firstDayOfWeek=Y3;Er.weekdays=rA;Er.weekdaysMin=iA;Er.weekdaysShort=sA;Er.weekdaysParse=lA;Er.weekdaysRegex=dA;Er.weekdaysShortRegex=fA;Er.weekdaysMinRegex=hA;Er.isPM=pA;Er.meridiem=vA;function Kh(t,e,n,r){var s=bl(),l=Ba().set(r,e);return s[n](l,t)}function VE(t,e,n){if(ml(t)&&(e=t,t=void 0),t=t||"",e!=null)return Kh(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Kh(t,r,n,"month");return s}function d1(t,e,n,r){typeof t=="boolean"?(ml(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ml(e)&&(n=e,e=void 0),e=e||"");var s=bl(),l=t?s._week.dow:0,c,d=[];if(n!=null)return Kh(e,(n+l)%7,r,"day");for(c=0;c<7;c++)d[c]=Kh(e,(c+l)%7,r,"day");return d}function w5(t,e){return VE(t,e,"months")}function E5(t,e){return VE(t,e,"monthsShort")}function k5(t,e,n){return d1(t,e,n,"weekdays")}function T5(t,e,n){return d1(t,e,n,"weekdaysShort")}function N5(t,e,n){return d1(t,e,n,"weekdaysMin")}eo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=cr(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Dt.lang=Ki("moment.lang is deprecated. Use moment.locale instead.",eo);Dt.langData=Ki("moment.langData is deprecated. Use moment.localeData instead.",bl);var nl=Math.abs;function C5(){var t=this._data;return this._milliseconds=nl(this._milliseconds),this._days=nl(this._days),this._months=nl(this._months),t.milliseconds=nl(t.milliseconds),t.seconds=nl(t.seconds),t.minutes=nl(t.minutes),t.hours=nl(t.hours),t.months=nl(t.months),t.years=nl(t.years),this}function YE(t,e,n,r){var s=ma(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function j5(t,e){return YE(this,t,e,1)}function A5(t,e){return YE(this,t,e,-1)}function H_(t){return t<0?Math.floor(t):Math.ceil(t)}function O5(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,l,c,d,h;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=H_(dx(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=qi(t/1e3),r.seconds=s%60,l=qi(s/60),r.minutes=l%60,c=qi(l/60),r.hours=c%24,e+=qi(c/24),h=qi(GE(e)),n+=h,e-=H_(dx(h)),d=qi(n/12),n%=12,r.days=e,r.months=n,r.years=d,this}function GE(t){return t*4800/146097}function dx(t){return t*146097/4800}function D5(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Zi(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+GE(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(dx(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function _l(t){return function(){return this.as(t)}}var qE=_l("ms"),R5=_l("s"),M5=_l("m"),L5=_l("h"),I5=_l("d"),P5=_l("w"),F5=_l("M"),z5=_l("Q"),B5=_l("y"),H5=qE;function U5(){return ma(this)}function $5(t){return t=Zi(t),this.isValid()?this[t+"s"]():NaN}function $o(t){return function(){return this.isValid()?this._data[t]:NaN}}var W5=$o("milliseconds"),V5=$o("seconds"),Y5=$o("minutes"),G5=$o("hours"),q5=$o("days"),X5=$o("months"),J5=$o("years");function K5(){return qi(this.days()/7)}var rl=Math.round,Oc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Z5(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function Q5(t,e,n,r){var s=ma(t).abs(),l=rl(s.as("s")),c=rl(s.as("m")),d=rl(s.as("h")),h=rl(s.as("d")),g=rl(s.as("M")),p=rl(s.as("w")),v=rl(s.as("y")),_=l<=n.ss&&["s",l]||l<n.s&&["ss",l]||c<=1&&["m"]||c<n.m&&["mm",c]||d<=1&&["h"]||d<n.h&&["hh",d]||h<=1&&["d"]||h<n.d&&["dd",h];return n.w!=null&&(_=_||p<=1&&["w"]||p<n.w&&["ww",p]),_=_||g<=1&&["M"]||g<n.M&&["MM",g]||v<=1&&["y"]||["yy",v],_[2]=e,_[3]=+t>0,_[4]=r,Z5.apply(null,_)}function eD(t){return t===void 0?rl:typeof t=="function"?(rl=t,!0):!1}function tD(t,e){return Oc[t]===void 0?!1:e===void 0?Oc[t]:(Oc[t]=e,t==="s"&&(Oc.ss=e-1),!0)}function nD(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Oc,s,l;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Oc,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),l=Q5(this,!n,r,s),n&&(l=s.pastFuture(+this,l)),s.postformat(l)}var im=Math.abs;function wc(t){return(t>0)-(t<0)||+t}function A0(){if(!this.isValid())return this.localeData().invalidDate();var t=im(this._milliseconds)/1e3,e=im(this._days),n=im(this._months),r,s,l,c,d=this.asSeconds(),h,g,p,v;return d?(r=qi(t/60),s=qi(r/60),t%=60,r%=60,l=qi(n/12),n%=12,c=t?t.toFixed(3).replace(/\.?0+$/,""):"",h=d<0?"-":"",g=wc(this._months)!==wc(d)?"-":"",p=wc(this._days)!==wc(d)?"-":"",v=wc(this._milliseconds)!==wc(d)?"-":"",h+"P"+(l?g+l+"Y":"")+(n?g+n+"M":"")+(e?p+e+"D":"")+(s||r||t?"T":"")+(s?v+s+"H":"")+(r?v+r+"M":"")+(t?v+c+"S":"")):"P0D"}var pr=C0.prototype;pr.isValid=XA;pr.abs=C5;pr.add=j5;pr.subtract=A5;pr.as=D5;pr.asMilliseconds=qE;pr.asSeconds=R5;pr.asMinutes=M5;pr.asHours=L5;pr.asDays=I5;pr.asWeeks=P5;pr.asMonths=F5;pr.asQuarters=z5;pr.asYears=B5;pr.valueOf=H5;pr._bubble=O5;pr.clone=U5;pr.get=$5;pr.milliseconds=W5;pr.seconds=V5;pr.minutes=Y5;pr.hours=G5;pr.days=q5;pr.weeks=K5;pr.months=X5;pr.years=J5;pr.humanize=nD;pr.toISOString=A0;pr.toString=A0;pr.toJSON=A0;pr.locale=LE;pr.localeData=PE;pr.toIsoString=Ki("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",A0);pr.lang=IE;Mn("X",0,0,"unix");Mn("x",0,0,"valueOf");Sn("x",E0);Sn("X",w3);Vr("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Vr("x",function(t,e,n){n._d=new Date(cr(t))});//! moment.js
Dt.version="2.30.1";r3(ts);Dt.fn=Vt;Dt.min=VA;Dt.max=YA;Dt.now=GA;Dt.utc=Ba;Dt.unix=_5;Dt.months=w5;Dt.isDate=Yd;Dt.locale=eo;Dt.invalid=b0;Dt.duration=ma;Dt.isMoment=ga;Dt.weekdays=k5;Dt.parseZone=S5;Dt.localeData=bl;Dt.isDuration=zh;Dt.monthsShort=E5;Dt.weekdaysMin=N5;Dt.defineLocale=r1;Dt.updateLocale=SA;Dt.locales=wA;Dt.weekdaysShort=T5;Dt.normalizeUnits=Zi;Dt.relativeTimeRounding=eD;Dt.relativeTimeThreshold=tD;Dt.calendarFormat=vO;Dt.prototype=Vt;Dt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Zh={};Zh.version="0.18.5";var XE=1252,rD=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],JE=function(t){rD.indexOf(t)!=-1&&(XE=t)};function sD(){JE(1252)}var Cd=function(t){JE(t)};function iD(){Cd(1200),sD()}var uh=function(e){return String.fromCharCode(e)},U_=function(e){return String.fromCharCode(e)},Qh,Zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jd(t){for(var e="",n=0,r=0,s=0,l=0,c=0,d=0,h=0,g=0;g<t.length;)n=t.charCodeAt(g++),l=n>>2,r=t.charCodeAt(g++),c=(n&3)<<4|r>>4,s=t.charCodeAt(g++),d=(r&15)<<2|s>>6,h=s&63,isNaN(r)?d=h=64:isNaN(s)&&(h=64),e+=Zl.charAt(l)+Zl.charAt(c)+Zl.charAt(d)+Zl.charAt(h);return e}function xl(t){var e="",n=0,r=0,s=0,l=0,c=0,d=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var g=0;g<t.length;)l=Zl.indexOf(t.charAt(g++)),c=Zl.indexOf(t.charAt(g++)),n=l<<2|c>>4,e+=String.fromCharCode(n),d=Zl.indexOf(t.charAt(g++)),r=(c&15)<<4|d>>2,d!==64&&(e+=String.fromCharCode(r)),h=Zl.indexOf(t.charAt(g++)),s=(d&3)<<6|h,h!==64&&(e+=String.fromCharCode(s));return e}var jr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Sl=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Mo(t){return jr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function $_(t){return jr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ca=function(e){return jr?Sl(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function O0(t){if(typeof ArrayBuffer>"u")return ca(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function Jd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function aD(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Vs=jr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Sl(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function lD(t){for(var e=[],n=0,r=t.length+250,s=Mo(t.length+255),l=0;l<t.length;++l){var c=t.charCodeAt(l);if(c<128)s[n++]=c;else if(c<2048)s[n++]=192|c>>6&31,s[n++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var d=t.charCodeAt(++l)&1023;s[n++]=240|c>>8&7,s[n++]=128|c>>2&63,s[n++]=128|d>>6&15|(c&3)<<4,s[n++]=128|d&63}else s[n++]=224|c>>12&15,s[n++]=128|c>>6&63,s[n++]=128|c&63;n>r&&(e.push(s.slice(0,n)),n=0,s=Mo(65535),r=65530)}return e.push(s.slice(0,n)),Vs(e)}var fd=/\u0000/g,dh=/[\u0001-\u0006]/g;function Fc(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function da(t,e){var n=""+t;return n.length>=e?n:hs("0",e-n.length)+n}function f1(t,e){var n=""+t;return n.length>=e?n:hs(" ",e-n.length)+n}function e0(t,e){var n=""+t;return n.length>=e?n:n+hs(" ",e-n.length)}function oD(t,e){var n=""+Math.round(t);return n.length>=e?n:hs("0",e-n.length)+n}function cD(t,e){var n=""+t;return n.length>=e?n:hs("0",e-n.length)+n}var W_=Math.pow(2,32);function Ec(t,e){if(t>W_||t<-W_)return oD(t,e);var n=Math.round(t);return cD(n,e)}function t0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var V_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],am=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function uD(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var gs={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Y_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},dD={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function n0(t,e,n){for(var r=t<0?-1:1,s=t*r,l=0,c=1,d=0,h=1,g=0,p=0,v=Math.floor(s);g<e&&(v=Math.floor(s),d=v*c+l,p=v*g+h,!(s-v<5e-8));)s=1/(s-v),l=c,c=d,h=g,g=p;if(p>e&&(g>e?(p=h,d=l):(p=g,d=c)),!n)return[0,r*d,p];var _=Math.floor(r*d/p);return[_,r*d-_*p,p]}function fh(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),l=0,c=[],d={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),e&&e.date1904&&(r+=1462),d.u>.9999&&(d.u=0,++s==86400&&(d.T=s=0,++r,++d.D)),r===60)c=n?[1317,10,29]:[1900,2,29],l=3;else if(r===0)c=n?[1317,8,29]:[1900,1,0],l=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],l=h.getDay(),r<60&&(l=(l+6)%7),n&&(l=vD(h,c))}return d.y=c[0],d.m=c[1],d.d=c[2],d.S=s%60,s=Math.floor(s/60),d.M=s%60,s=Math.floor(s/60),d.H=s,d.q=l,d}var KE=new Date(1899,11,31,0,0,0),fD=KE.getTime(),hD=new Date(1900,2,1,0,0,0);function ZE(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=hD&&(n+=24*60*60*1e3),(n-(fD+(t.getTimezoneOffset()-KE.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function h1(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function gD(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function pD(t){var e=t<0?12:11,n=h1(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function mD(t){var e=h1(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function xD(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=pD(t):e===10?n=t.toFixed(10).substr(0,12):n=mD(t),h1(gD(n.toUpperCase()))}function fx(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):xD(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return to(14,ZE(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function vD(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function yD(t,e,n,r){var s="",l=0,c=0,d=n.y,h,g=0;switch(t){case 98:d=n.y+543;case 121:switch(e.length){case 1:case 2:h=d%100,g=2;break;default:h=d%1e4,g=4;break}break;case 109:switch(e.length){case 1:case 2:h=n.m,g=e.length;break;case 3:return am[n.m-1][1];case 5:return am[n.m-1][0];default:return am[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=n.d,g=e.length;break;case 3:return V_[n.q][0];default:return V_[n.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(n.H+11)%12,g=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=n.H,g=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=n.M,g=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?da(n.S,e.length):(r>=2?c=r===3?1e3:100:c=r===1?10:1,l=Math.round(c*(n.S+n.u)),l>=60*c&&(l=0),e==="s"?l===0?"0":""+l/c:(s=da(l,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=n.D*24+n.H;break;case"[m]":case"[mm]":h=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":h=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}g=e.length===3?1:2;break;case 101:h=d,g=1;break}var p=g>0?da(h,g):"";return p}function Ql(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var QE=/%/g;function bD(t,e,n){var r=e.replace(QE,""),s=e.length-r.length;return fl(t,r,n*Math.pow(10,2*s))+hs("%",s)}function _D(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return fl(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function ek(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ek(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%s;if(l<0&&(l+=s),n=(e/Math.pow(10,l)).toPrecision(r+1+(s+l)%s),n.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(c-n.length+l):n+="E+"+(c-l);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,h,g,p){return h+g+p.substr(0,(s+l)%s)+"."+p.substr(l)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var tk=/# (\?+)( ?)\/( ?)(\d+)/;function SD(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),l=Math.floor(s/r),c=s-l*r,d=r;return n+(l===0?"":""+l)+" "+(c===0?hs(" ",t[1].length+1+t[4].length):f1(c,t[1].length)+t[2]+"/"+t[3]+da(d,t[4].length))}function wD(t,e,n){return n+(e===0?"":""+e)+hs(" ",t[1].length+2+t[4].length)}var nk=/^#*0*\.([0#]+)/,rk=/\).*[0#]/,sk=/\(###\) ###\\?-####/;function ii(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function G_(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function q_(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function ED(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function kD(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Vi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(rk)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Vi("n",r,n):"("+Vi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return _D(t,e,n);if(e.indexOf("%")!==-1)return bD(t,e,n);if(e.indexOf("E")!==-1)return ek(e,n);if(e.charCodeAt(0)===36)return"$"+Vi(t,e.substr(e.charAt(1)==" "?2:1),n);var s,l,c,d,h=Math.abs(n),g=n<0?"-":"";if(e.match(/^00+$/))return g+Ec(h,e.length);if(e.match(/^[#?]+$/))return s=Ec(n,0),s==="0"&&(s=""),s.length>e.length?s:ii(e.substr(0,e.length-s.length))+s;if(l=e.match(tk))return SD(l,h,g);if(e.match(/^#+0+$/))return g+Ec(h,e.length-e.indexOf("0"));if(l=e.match(nk))return s=G_(n,l[1].length).replace(/^([^\.]+)$/,"$1."+ii(l[1])).replace(/\.$/,"."+ii(l[1])).replace(/\.(\d*)$/,function(E,S){return"."+S+hs("0",ii(l[1]).length-S.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return g+G_(h,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return g+Ql(Ec(h,0));if(l=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Vi(t,e,-n):Ql(""+(Math.floor(n)+ED(n,l[1].length)))+"."+da(q_(n,l[1].length),l[1].length);if(l=e.match(/^#,#*,#0/))return Vi(t,e.replace(/^#,#*,/,""),n);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Fc(Vi(t,e.replace(/[\\-]/g,""),n)),c=0,Fc(Fc(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return c<s.length?s.charAt(c++):E==="0"?"0":""}));if(e.match(sk))return s=Vi(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(l[4].length,7),d=n0(h,Math.pow(10,c)-1,!1),s=""+g,p=fl("n",l[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+l[2]+"/"+l[3],p=e0(d[2],c),p.length<l[4].length&&(p=ii(l[4].substr(l[4].length-p.length))+p),s+=p,s;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(l[1].length,l[4].length),7),d=n0(h,Math.pow(10,c)-1,!0),g+(d[0]||(d[1]?"":"0"))+" "+(d[1]?f1(d[1],c)+l[2]+"/"+l[3]+e0(d[2],c):hs(" ",2*c+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return s=Ec(n,0),e.length<=s.length?s:ii(e.substr(0,e.length-s.length))+s;if(l=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),c=s.indexOf(".");var v=e.indexOf(".")-c,_=e.length-s.length-v;return ii(e.substr(0,v)+s+e.substr(e.length-_))}if(l=e.match(/^00,000\.([#0]*0)$/))return c=q_(n,l[1].length),n<0?"-"+Vi(t,e,-n):Ql(kD(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?da(0,3-E.length):"")+E})+"."+da(c,l[1].length);switch(e){case"###,##0.00":return Vi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var y=Ql(Ec(h,0));return y!=="0"?g+y:"";case"###,###.00":return Vi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Vi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function TD(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return fl(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function ND(t,e,n){var r=e.replace(QE,""),s=e.length-r.length;return fl(t,r,n*Math.pow(10,2*s))+hs("%",s)}function ik(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ik(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%s;if(l<0&&(l+=s),n=(e/Math.pow(10,l)).toPrecision(r+1+(s+l)%s),!n.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(c-n.length+l):n+="E+"+(c-l),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,h,g,p){return h+g+p.substr(0,(s+l)%s)+"."+p.substr(l)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ja(t,e,n){if(t.charCodeAt(0)===40&&!e.match(rk)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ja("n",r,n):"("+ja("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return TD(t,e,n);if(e.indexOf("%")!==-1)return ND(t,e,n);if(e.indexOf("E")!==-1)return ik(e,n);if(e.charCodeAt(0)===36)return"$"+ja(t,e.substr(e.charAt(1)==" "?2:1),n);var s,l,c,d,h=Math.abs(n),g=n<0?"-":"";if(e.match(/^00+$/))return g+da(h,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:ii(e.substr(0,e.length-s.length))+s;if(l=e.match(tk))return wD(l,h,g);if(e.match(/^#+0+$/))return g+da(h,e.length-e.indexOf("0"));if(l=e.match(nk))return s=(""+n).replace(/^([^\.]+)$/,"$1."+ii(l[1])).replace(/\.$/,"."+ii(l[1])),s=s.replace(/\.(\d*)$/,function(E,S){return"."+S+hs("0",ii(l[1]).length-S.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return g+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return g+Ql(""+h);if(l=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ja(t,e,-n):Ql(""+n)+"."+hs("0",l[1].length);if(l=e.match(/^#,#*,#0/))return ja(t,e.replace(/^#,#*,/,""),n);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Fc(ja(t,e.replace(/[\\-]/g,""),n)),c=0,Fc(Fc(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return c<s.length?s.charAt(c++):E==="0"?"0":""}));if(e.match(sk))return s=ja(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(l[4].length,7),d=n0(h,Math.pow(10,c)-1,!1),s=""+g,p=fl("n",l[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+l[2]+"/"+l[3],p=e0(d[2],c),p.length<l[4].length&&(p=ii(l[4].substr(l[4].length-p.length))+p),s+=p,s;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(l[1].length,l[4].length),7),d=n0(h,Math.pow(10,c)-1,!0),g+(d[0]||(d[1]?"":"0"))+" "+(d[1]?f1(d[1],c)+l[2]+"/"+l[3]+e0(d[2],c):hs(" ",2*c+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:ii(e.substr(0,e.length-s.length))+s;if(l=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),c=s.indexOf(".");var v=e.indexOf(".")-c,_=e.length-s.length-v;return ii(e.substr(0,v)+s+e.substr(e.length-_))}if(l=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ja(t,e,-n):Ql(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?da(0,3-E.length):"")+E})+"."+da(0,l[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=Ql(""+h);return y!=="0"?g+y:"";default:if(e.match(/\.[0#?]*$/))return ja(t,e.slice(0,e.lastIndexOf(".")),n)+ii(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function fl(t,e,n){return(n|0)===n?ja(t,e,n):Vi(t,e,n)}function CD(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var ak=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lk(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":t0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(ak))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function jD(t,e,n,r){for(var s=[],l="",c=0,d="",h="t",g,p,v,_="H";c<t.length;)switch(d=t.charAt(c)){case"G":if(!t0(t,c))throw new Error("unrecognized character "+d+" in "+t);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";(v=t.charCodeAt(++c))!==34&&c<t.length;)l+=String.fromCharCode(v);s[s.length]={t:"t",v:l},++c;break;case"\\":var y=t.charAt(++c),E=y==="("||y===")"?y:"t";s[s.length]={t:E,v:y},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:e},++c;break;case"B":case"b":if(t.charAt(c+1)==="1"||t.charAt(c+1)==="2"){if(g==null&&(g=fh(e,n,t.charAt(c+1)==="2"),g==null))return"";s[s.length]={t:"X",v:t.substr(c,2)},h=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||g==null&&(g=fh(e,n),g==null))return"";for(l=d;++c<t.length&&t.charAt(c).toLowerCase()===d;)l+=d;d==="m"&&h.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=_),s[s.length]={t:d,v:l},h=d;break;case"A":case"a":case"":var S={t:d,v:d};if(g==null&&(g=fh(e,n)),t.substr(c,3).toUpperCase()==="A/P"?(g!=null&&(S.v=g.H>=12?"P":"A"),S.t="T",_="h",c+=3):t.substr(c,5).toUpperCase()==="AM/PM"?(g!=null&&(S.v=g.H>=12?"PM":"AM"),S.t="T",c+=5,_="h"):t.substr(c,5).toUpperCase()==="/"?(g!=null&&(S.v=g.H>=12?"":""),S.t="T",c+=5,_="h"):(S.t="t",++c),g==null&&S.t==="T")return"";s[s.length]=S,h=d;break;case"[":for(l=d;t.charAt(c++)!=="]"&&c<t.length;)l+=t.charAt(c);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(ak)){if(g==null&&(g=fh(e,n),g==null))return"";s[s.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",lk(t)||(s[s.length]={t:"t",v:l}));break;case".":if(g!=null){for(l=d;++c<t.length&&(d=t.charAt(c))==="0";)l+=d;s[s.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++c<t.length&&"0#?.,E+-%".indexOf(d=t.charAt(c))>-1;)l+=d;s[s.length]={t:"n",v:l};break;case"?":for(l=d;t.charAt(++c)===d;)l+=d;s[s.length]={t:d,v:l},h=d;break;case"*":++c,(t.charAt(c)==" "||t.charAt(c)=="*")&&++c;break;case"(":case")":s[s.length]={t:r===1?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)l+=t.charAt(c);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:d,v:d},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+t);s[s.length]={t:"t",v:d},++c;break}var k=0,D=0,A;for(c=s.length-1,h="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=_,h="h",k<1&&(k=1);break;case"s":(A=s[c].v.match(/\.0+$/))&&(D=Math.max(D,A[0].length-1)),k<3&&(k=3);case"d":case"y":case"M":case"e":h=s[c].t;break;case"m":h==="s"&&(s[c].t="M",k<2&&(k=2));break;case"X":break;case"Z":k<1&&s[c].v.match(/[Hh]/)&&(k=1),k<2&&s[c].v.match(/[Mm]/)&&(k=2),k<3&&s[c].v.match(/[Ss]/)&&(k=3)}switch(k){case 0:break;case 1:g.u>=.5&&(g.u=0,++g.S),g.S>=60&&(g.S=0,++g.M),g.M>=60&&(g.M=0,++g.H);break;case 2:g.u>=.5&&(g.u=0,++g.S),g.S>=60&&(g.S=0,++g.M);break}var M="",Y;for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=yD(s[c].t.charCodeAt(0),s[c].v,g,D),s[c].t="t";break;case"n":case"?":for(Y=c+1;s[Y]!=null&&((d=s[Y].t)==="?"||d==="D"||(d===" "||d==="t")&&s[Y+1]!=null&&(s[Y+1].t==="?"||s[Y+1].t==="t"&&s[Y+1].v==="/")||s[c].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(s[Y].v==="/"||s[Y].v===" "&&s[Y+1]!=null&&s[Y+1].t=="?"));)s[c].v+=s[Y].v,s[Y]={v:"",t:";"},++Y;M+=s[c].v,c=Y-1;break;case"G":s[c].t="t",s[c].v=fx(e,n);break}var Q="",K,z;if(M.length>0){M.charCodeAt(0)==40?(K=e<0&&M.charCodeAt(0)===45?-e:e,z=fl("n",M,K)):(K=e<0&&r>1?-e:e,z=fl("n",M,K),K<0&&s[0]&&s[0].t=="t"&&(z=z.substr(1),s[0].v="-"+s[0].v)),Y=z.length-1;var ee=s.length;for(c=0;c<s.length;++c)if(s[c]!=null&&s[c].t!="t"&&s[c].v.indexOf(".")>-1){ee=c;break}var se=s.length;if(ee===s.length&&z.indexOf("E")===-1){for(c=s.length-1;c>=0;--c)s[c]==null||"n?".indexOf(s[c].t)===-1||(Y>=s[c].v.length-1?(Y-=s[c].v.length,s[c].v=z.substr(Y+1,s[c].v.length)):Y<0?s[c].v="":(s[c].v=z.substr(0,Y+1),Y=-1),s[c].t="t",se=c);Y>=0&&se<s.length&&(s[se].v=z.substr(0,Y+1)+s[se].v)}else if(ee!==s.length&&z.indexOf("E")===-1){for(Y=z.indexOf(".")-1,c=ee;c>=0;--c)if(!(s[c]==null||"n?".indexOf(s[c].t)===-1)){for(p=s[c].v.indexOf(".")>-1&&c===ee?s[c].v.indexOf(".")-1:s[c].v.length-1,Q=s[c].v.substr(p+1);p>=0;--p)Y>=0&&(s[c].v.charAt(p)==="0"||s[c].v.charAt(p)==="#")&&(Q=z.charAt(Y--)+Q);s[c].v=Q,s[c].t="t",se=c}for(Y>=0&&se<s.length&&(s[se].v=z.substr(0,Y+1)+s[se].v),Y=z.indexOf(".")+1,c=ee;c<s.length;++c)if(!(s[c]==null||"n?(".indexOf(s[c].t)===-1&&c!==ee)){for(p=s[c].v.indexOf(".")>-1&&c===ee?s[c].v.indexOf(".")+1:0,Q=s[c].v.substr(0,p);p<s[c].v.length;++p)Y<z.length&&(Q+=z.charAt(Y++));s[c].v=Q,s[c].t="t",se=c}}}for(c=0;c<s.length;++c)s[c]!=null&&"n?".indexOf(s[c].t)>-1&&(K=r>1&&e<0&&c>0&&s[c-1].v==="-"?-e:e,s[c].v=fl(s[c].t,s[c].v,K),s[c].t="t");var oe="";for(c=0;c!==s.length;++c)s[c]!=null&&(oe+=s[c].v);return oe}var X_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function J_(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function AD(t,e){var n=CD(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var l=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,l];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var c=n[0].match(X_),d=n[1].match(X_);return J_(e,c)?[r,n[0]]:J_(e,d)?[r,n[1]]:[r,n[c!=null&&d!=null?2:1]]}return[r,l]}function to(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:gs)[t],r==null&&(r=n.table&&n.table[Y_[t]]||gs[Y_[t]]),r==null&&(r=dD[t]||"General");break}if(t0(r,0))return fx(e,n);e instanceof Date&&(e=ZE(e,n.date1904));var s=AD(r,e);if(t0(s[1]))return fx(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return jD(s[1],e,n,s[0])}function ok(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(gs[n]==null){e<0&&(e=n);continue}if(gs[n]==t){e=n;break}}e<0&&(e=391)}return gs[e]=t,e}function D0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&ok(t[e],e)}function R0(){gs=uD()}var ck=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function OD(t){var e=typeof t=="number"?gs[t]:t;return e=e.replace(ck,"(\\d+)"),new RegExp("^"+e+"$")}function DD(t,e,n){var r=-1,s=-1,l=-1,c=-1,d=-1,h=-1;(e.match(ck)||[]).forEach(function(v,_){var y=parseInt(n[_+1],10);switch(v.toLowerCase().charAt(0)){case"y":r=y;break;case"d":l=y;break;case"h":c=y;break;case"s":h=y;break;case"m":c>=0?d=y:s=y;break}}),h>=0&&d==-1&&s>=0&&(d=s,s=-1);var g=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);g.length==7&&(g="0"+g),g.length==8&&(g="20"+g);var p=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&d==-1&&h==-1?g:r==-1&&s==-1&&l==-1?p:g+"T"+p}var RD=function(){var t={};t.version="1.2.0";function e(){for(var z=0,ee=new Array(256),se=0;se!=256;++se)z=se,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,ee[se]=z;return typeof Int32Array<"u"?new Int32Array(ee):ee}var n=e();function r(z){var ee=0,se=0,oe=0,Ee=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(oe=0;oe!=256;++oe)Ee[oe]=z[oe];for(oe=0;oe!=256;++oe)for(se=z[oe],ee=256+oe;ee<4096;ee+=256)se=Ee[ee]=se>>>8^z[se&255];var re=[];for(oe=1;oe!=16;++oe)re[oe-1]=typeof Int32Array<"u"?Ee.subarray(oe*256,oe*256+256):Ee.slice(oe*256,oe*256+256);return re}var s=r(n),l=s[0],c=s[1],d=s[2],h=s[3],g=s[4],p=s[5],v=s[6],_=s[7],y=s[8],E=s[9],S=s[10],k=s[11],D=s[12],A=s[13],M=s[14];function Y(z,ee){for(var se=ee^-1,oe=0,Ee=z.length;oe<Ee;)se=se>>>8^n[(se^z.charCodeAt(oe++))&255];return~se}function Q(z,ee){for(var se=ee^-1,oe=z.length-15,Ee=0;Ee<oe;)se=M[z[Ee++]^se&255]^A[z[Ee++]^se>>8&255]^D[z[Ee++]^se>>16&255]^k[z[Ee++]^se>>>24]^S[z[Ee++]]^E[z[Ee++]]^y[z[Ee++]]^_[z[Ee++]]^v[z[Ee++]]^p[z[Ee++]]^g[z[Ee++]]^h[z[Ee++]]^d[z[Ee++]]^c[z[Ee++]]^l[z[Ee++]]^n[z[Ee++]];for(oe+=15;Ee<oe;)se=se>>>8^n[(se^z[Ee++])&255];return~se}function K(z,ee){for(var se=ee^-1,oe=0,Ee=z.length,re=0,me=0;oe<Ee;)re=z.charCodeAt(oe++),re<128?se=se>>>8^n[(se^re)&255]:re<2048?(se=se>>>8^n[(se^(192|re>>6&31))&255],se=se>>>8^n[(se^(128|re&63))&255]):re>=55296&&re<57344?(re=(re&1023)+64,me=z.charCodeAt(oe++)&1023,se=se>>>8^n[(se^(240|re>>8&7))&255],se=se>>>8^n[(se^(128|re>>2&63))&255],se=se>>>8^n[(se^(128|me>>6&15|(re&3)<<4))&255],se=se>>>8^n[(se^(128|me&63))&255]):(se=se>>>8^n[(se^(224|re>>12&15))&255],se=se>>>8^n[(se^(128|re>>6&63))&255],se=se>>>8^n[(se^(128|re&63))&255]);return~se}return t.table=n,t.bstr=Y,t.buf=Q,t.str=K,t}(),Wr=function(){var e={};e.version="1.2.1";function n(j,G){for(var B=j.split("/"),q=G.split("/"),V=0,J=0,we=Math.min(B.length,q.length);V<we;++V){if(J=B[V].length-q[V].length)return J;if(B[V]!=q[V])return B[V]<q[V]?-1:1}return B.length-q.length}function r(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:r(j.slice(0,-1));var G=j.lastIndexOf("/");return G===-1?j:j.slice(0,G+1)}function s(j){if(j.charAt(j.length-1)=="/")return s(j.slice(0,-1));var G=j.lastIndexOf("/");return G===-1?j:j.slice(G+1)}function l(j,G){typeof G=="string"&&(G=new Date(G));var B=G.getHours();B=B<<6|G.getMinutes(),B=B<<5|G.getSeconds()>>>1,j.write_shift(2,B);var q=G.getFullYear()-1980;q=q<<4|G.getMonth()+1,q=q<<5|G.getDate(),j.write_shift(2,q)}function c(j){var G=j.read_shift(2)&65535,B=j.read_shift(2)&65535,q=new Date,V=B&31;B>>>=5;var J=B&15;B>>>=4,q.setMilliseconds(0),q.setFullYear(B+1980),q.setMonth(J-1),q.setDate(V);var we=G&31;G>>>=5;var Ne=G&63;return G>>>=6,q.setHours(G),q.setMinutes(Ne),q.setSeconds(we<<1),q}function d(j){Oi(j,0);for(var G={},B=0;j.l<=j.length-4;){var q=j.read_shift(2),V=j.read_shift(2),J=j.l+V,we={};switch(q){case 21589:B=j.read_shift(1),B&1&&(we.mtime=j.read_shift(4)),V>5&&(B&2&&(we.atime=j.read_shift(4)),B&4&&(we.ctime=j.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3));break}j.l=J,G[q]=we}return G}var h;function g(){return h||(h={})}function p(j,G){if(j[0]==80&&j[1]==75)return ot(j,G);if((j[0]|32)==109&&(j[1]|32)==105)return te(j,G);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var B=3,q=512,V=0,J=0,we=0,Ne=0,xe=0,Se=[],De=j.slice(0,512);Oi(De,0);var gt=v(De);switch(B=gt[0],B){case 3:q=512;break;case 4:q=4096;break;case 0:if(gt[1]==0)return ot(j,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}q!==512&&(De=j.slice(0,q),Oi(De,28));var vt=j.slice(0,q);_(De,B);var Je=De.read_shift(4,"i");if(B===3&&Je!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Je);De.l+=4,we=De.read_shift(4,"i"),De.l+=4,De.chk("00100000","Mini Stream Cutoff Size: "),Ne=De.read_shift(4,"i"),V=De.read_shift(4,"i"),xe=De.read_shift(4,"i"),J=De.read_shift(4,"i");for(var _t=-1,Ht=0;Ht<109&&(_t=De.read_shift(4,"i"),!(_t<0));++Ht)Se[Ht]=_t;var en=y(j,q);k(xe,J,en,q,Se);var hn=A(en,we,Se,q);hn[we].name="!Directory",V>0&&Ne!==me&&(hn[Ne].name="!MiniFAT"),hn[Se[0]].name="!FAT",hn.fat_addrs=Se,hn.ssz=q;var On={},Cn=[],kr=[],Ar=[];M(we,hn,en,Cn,V,On,kr,Ne),E(kr,Ar,Cn),Cn.shift();var fr={FileIndex:kr,FullPaths:Ar};return G&&G.raw&&(fr.raw={header:vt,sectors:en}),fr}function v(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(je,"Header Signature: "),j.l+=16;var G=j.read_shift(2,"u");return[j.read_shift(2,"u"),G]}function _(j,G){var B=9;switch(j.l+=2,B=j.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function y(j,G){for(var B=Math.ceil(j.length/G)-1,q=[],V=1;V<B;++V)q[V-1]=j.slice(V*G,(V+1)*G);return q[B-1]=j.slice(B*G),q}function E(j,G,B){for(var q=0,V=0,J=0,we=0,Ne=0,xe=B.length,Se=[],De=[];q<xe;++q)Se[q]=De[q]=q,G[q]=B[q];for(;Ne<De.length;++Ne)q=De[Ne],V=j[q].L,J=j[q].R,we=j[q].C,Se[q]===q&&(V!==-1&&Se[V]!==V&&(Se[q]=Se[V]),J!==-1&&Se[J]!==J&&(Se[q]=Se[J])),we!==-1&&(Se[we]=q),V!==-1&&q!=Se[q]&&(Se[V]=Se[q],De.lastIndexOf(V)<Ne&&De.push(V)),J!==-1&&q!=Se[q]&&(Se[J]=Se[q],De.lastIndexOf(J)<Ne&&De.push(J));for(q=1;q<xe;++q)Se[q]===q&&(J!==-1&&Se[J]!==J?Se[q]=Se[J]:V!==-1&&Se[V]!==V&&(Se[q]=Se[V]));for(q=1;q<xe;++q)if(j[q].type!==0){if(Ne=q,Ne!=Se[Ne])do Ne=Se[Ne],G[q]=G[Ne]+"/"+G[q];while(Ne!==0&&Se[Ne]!==-1&&Ne!=Se[Ne]);Se[q]=-1}for(G[0]+="/",q=1;q<xe;++q)j[q].type!==2&&(G[q]+="/")}function S(j,G,B){for(var q=j.start,V=j.size,J=[],we=q;B&&V>0&&we>=0;)J.push(G.slice(we*re,we*re+re)),V-=re,we=No(B,we*4);return J.length===0?dt(0):Vs(J).slice(0,j.size)}function k(j,G,B,q,V){var J=me;if(j===me){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var we=B[j],Ne=(q>>>2)-1;if(!we)return;for(var xe=0;xe<Ne&&(J=No(we,xe*4))!==me;++xe)V.push(J);k(No(we,q-4),G-1,B,q,V)}}function D(j,G,B,q,V){var J=[],we=[];V||(V=[]);var Ne=q-1,xe=0,Se=0;for(xe=G;xe>=0;){V[xe]=!0,J[J.length]=xe,we.push(j[xe]);var De=B[Math.floor(xe*4/q)];if(Se=xe*4&Ne,q<4+Se)throw new Error("FAT boundary crossed: "+xe+" 4 "+q);if(!j[De])break;xe=No(j[De],Se)}return{nodes:J,data:s2([we])}}function A(j,G,B,q){var V=j.length,J=[],we=[],Ne=[],xe=[],Se=q-1,De=0,gt=0,vt=0,Je=0;for(De=0;De<V;++De)if(Ne=[],vt=De+G,vt>=V&&(vt-=V),!we[vt]){xe=[];var _t=[];for(gt=vt;gt>=0;){_t[gt]=!0,we[gt]=!0,Ne[Ne.length]=gt,xe.push(j[gt]);var Ht=B[Math.floor(gt*4/q)];if(Je=gt*4&Se,q<4+Je)throw new Error("FAT boundary crossed: "+gt+" 4 "+q);if(!j[Ht]||(gt=No(j[Ht],Je),_t[gt]))break}J[vt]={nodes:Ne,data:s2([xe])}}return J}function M(j,G,B,q,V,J,we,Ne){for(var xe=0,Se=q.length?2:0,De=G[j].data,gt=0,vt=0,Je;gt<De.length;gt+=128){var _t=De.slice(gt,gt+128);Oi(_t,64),vt=_t.read_shift(2),Je=v1(_t,0,vt-Se),q.push(Je);var Ht={name:Je,type:_t.read_shift(1),color:_t.read_shift(1),L:_t.read_shift(4,"i"),R:_t.read_shift(4,"i"),C:_t.read_shift(4,"i"),clsid:_t.read_shift(16),state:_t.read_shift(4,"i"),start:0,size:0},en=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);en!==0&&(Ht.ct=Y(_t,_t.l-8));var hn=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);hn!==0&&(Ht.mt=Y(_t,_t.l-8)),Ht.start=_t.read_shift(4,"i"),Ht.size=_t.read_shift(4,"i"),Ht.size<0&&Ht.start<0&&(Ht.size=Ht.type=0,Ht.start=me,Ht.name=""),Ht.type===5?(xe=Ht.start,V>0&&xe!==me&&(G[xe].name="!StreamData")):Ht.size>=4096?(Ht.storage="fat",G[Ht.start]===void 0&&(G[Ht.start]=D(B,Ht.start,G.fat_addrs,G.ssz)),G[Ht.start].name=Ht.name,Ht.content=G[Ht.start].data.slice(0,Ht.size)):(Ht.storage="minifat",Ht.size<0?Ht.size=0:xe!==me&&Ht.start!==me&&G[xe]&&(Ht.content=S(Ht,G[xe].data,(G[Ne]||{}).data))),Ht.content&&Oi(Ht.content,0),J[Je]=Ht,we.push(Ht)}}function Y(j,G){return new Date((Ri(j,G+4)/1e7*Math.pow(2,32)+Ri(j,G)/1e7-11644473600)*1e3)}function Q(j,G){return g(),p(h.readFileSync(j),G)}function K(j,G){var B=G&&G.type;switch(B||jr&&Buffer.isBuffer(j)&&(B="buffer"),B||"base64"){case"file":return Q(j,G);case"base64":return p(ca(xl(j)),G);case"binary":return p(ca(j),G)}return p(j,G)}function z(j,G){var B=G||{},q=B.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=q+"/",j.FileIndex[0]={name:q,type:5}),B.CLSID&&(j.FileIndex[0].clsid=B.CLSID),ee(j)}function ee(j){var G="Sh33tJ5";if(!Wr.find(j,"/"+G)){var B=dt(4);B[0]=55,B[1]=B[3]=50,B[2]=54,j.FileIndex.push({name:G,type:2,content:B,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+G),se(j)}}function se(j,G){z(j);for(var B=!1,q=!1,V=j.FullPaths.length-1;V>=0;--V){var J=j.FileIndex[V];switch(J.type){case 0:q?B=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:q=!0,isNaN(J.R*J.L*J.C)&&(B=!0),J.R>-1&&J.L>-1&&J.R==J.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!G)){var we=new Date(1987,1,19),Ne=0,xe=Object.create?Object.create(null):{},Se=[];for(V=0;V<j.FullPaths.length;++V)xe[j.FullPaths[V]]=!0,j.FileIndex[V].type!==0&&Se.push([j.FullPaths[V],j.FileIndex[V]]);for(V=0;V<Se.length;++V){var De=r(Se[V][0]);q=xe[De],q||(Se.push([De,{name:s(De).replace("/",""),type:1,clsid:ae,ct:we,mt:we,content:null}]),xe[De]=!0)}for(Se.sort(function(Je,_t){return n(Je[0],_t[0])}),j.FullPaths=[],j.FileIndex=[],V=0;V<Se.length;++V)j.FullPaths[V]=Se[V][0],j.FileIndex[V]=Se[V][1];for(V=0;V<Se.length;++V){var gt=j.FileIndex[V],vt=j.FullPaths[V];if(gt.name=s(vt).replace("/",""),gt.L=gt.R=gt.C=-(gt.color=1),gt.size=gt.content?gt.content.length:0,gt.start=0,gt.clsid=gt.clsid||ae,V===0)gt.C=Se.length>1?1:-1,gt.size=0,gt.type=5;else if(vt.slice(-1)=="/"){for(Ne=V+1;Ne<Se.length&&r(j.FullPaths[Ne])!=vt;++Ne);for(gt.C=Ne>=Se.length?-1:Ne,Ne=V+1;Ne<Se.length&&r(j.FullPaths[Ne])!=r(vt);++Ne);gt.R=Ne>=Se.length?-1:Ne,gt.type=1}else r(j.FullPaths[V+1]||"")==r(vt)&&(gt.R=V+1),gt.type=2}}}function oe(j,G){var B=G||{};if(B.fileType=="mad")return Pe(j,B);switch(se(j),B.fileType){case"zip":return Wt(j,B)}var q=function(Je){for(var _t=0,Ht=0,en=0;en<Je.FileIndex.length;++en){var hn=Je.FileIndex[en];if(hn.content){var On=hn.content.length;On>0&&(On<4096?_t+=On+63>>6:Ht+=On+511>>9)}}for(var Cn=Je.FullPaths.length+3>>2,kr=_t+7>>3,Ar=_t+127>>7,fr=kr+Ht+Cn+Ar,or=fr+127>>7,Mr=or<=109?0:Math.ceil((or-109)/127);fr+or+Mr+127>>7>or;)Mr=++or<=109?0:Math.ceil((or-109)/127);var yn=[1,Mr,or,Ar,Cn,Ht,_t,0];return Je.FileIndex[0].size=_t<<6,yn[7]=(Je.FileIndex[0].start=yn[0]+yn[1]+yn[2]+yn[3]+yn[4]+yn[5])+(yn[6]+7>>3),yn}(j),V=dt(q[7]<<9),J=0,we=0;{for(J=0;J<8;++J)V.write_shift(1,We[J]);for(J=0;J<8;++J)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),J=0;J<3;++J)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,q[2]),V.write_shift(4,q[0]+q[1]+q[2]+q[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,q[3]?q[0]+q[1]+q[2]-1:me),V.write_shift(4,q[3]),V.write_shift(-4,q[1]?q[0]-1:me),V.write_shift(4,q[1]),J=0;J<109;++J)V.write_shift(-4,J<q[2]?q[1]+J:-1)}if(q[1])for(we=0;we<q[1];++we){for(;J<236+we*127;++J)V.write_shift(-4,J<q[2]?q[1]+J:-1);V.write_shift(-4,we===q[1]-1?me:we+1)}var Ne=function(Je){for(we+=Je;J<we-1;++J)V.write_shift(-4,J+1);Je&&(++J,V.write_shift(-4,me))};for(we=J=0,we+=q[1];J<we;++J)V.write_shift(-4,Le.DIFSECT);for(we+=q[2];J<we;++J)V.write_shift(-4,Le.FATSECT);Ne(q[3]),Ne(q[4]);for(var xe=0,Se=0,De=j.FileIndex[0];xe<j.FileIndex.length;++xe)De=j.FileIndex[xe],De.content&&(Se=De.content.length,!(Se<4096)&&(De.start=we,Ne(Se+511>>9)));for(Ne(q[6]+7>>3);V.l&511;)V.write_shift(-4,Le.ENDOFCHAIN);for(we=J=0,xe=0;xe<j.FileIndex.length;++xe)De=j.FileIndex[xe],De.content&&(Se=De.content.length,!(!Se||Se>=4096)&&(De.start=we,Ne(Se+63>>6)));for(;V.l&511;)V.write_shift(-4,Le.ENDOFCHAIN);for(J=0;J<q[4]<<2;++J){var gt=j.FullPaths[J];if(!gt||gt.length===0){for(xe=0;xe<17;++xe)V.write_shift(4,0);for(xe=0;xe<3;++xe)V.write_shift(4,-1);for(xe=0;xe<12;++xe)V.write_shift(4,0);continue}De=j.FileIndex[J],J===0&&(De.start=De.size?De.start-1:me);var vt=J===0&&B.root||De.name;if(Se=2*(vt.length+1),V.write_shift(64,vt,"utf16le"),V.write_shift(2,Se),V.write_shift(1,De.type),V.write_shift(1,De.color),V.write_shift(-4,De.L),V.write_shift(-4,De.R),V.write_shift(-4,De.C),De.clsid)V.write_shift(16,De.clsid,"hex");else for(xe=0;xe<4;++xe)V.write_shift(4,0);V.write_shift(4,De.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,De.start),V.write_shift(4,De.size),V.write_shift(4,0)}for(J=1;J<j.FileIndex.length;++J)if(De=j.FileIndex[J],De.size>=4096)if(V.l=De.start+1<<9,jr&&Buffer.isBuffer(De.content))De.content.copy(V,V.l,0,De.size),V.l+=De.size+511&-512;else{for(xe=0;xe<De.size;++xe)V.write_shift(1,De.content[xe]);for(;xe&511;++xe)V.write_shift(1,0)}for(J=1;J<j.FileIndex.length;++J)if(De=j.FileIndex[J],De.size>0&&De.size<4096)if(jr&&Buffer.isBuffer(De.content))De.content.copy(V,V.l,0,De.size),V.l+=De.size+63&-64;else{for(xe=0;xe<De.size;++xe)V.write_shift(1,De.content[xe]);for(;xe&63;++xe)V.write_shift(1,0)}if(jr)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function Ee(j,G){var B=j.FullPaths.map(function(xe){return xe.toUpperCase()}),q=B.map(function(xe){var Se=xe.split("/");return Se[Se.length-(xe.slice(-1)=="/"?2:1)]}),V=!1;G.charCodeAt(0)===47?(V=!0,G=B[0].slice(0,-1)+G):V=G.indexOf("/")!==-1;var J=G.toUpperCase(),we=V===!0?B.indexOf(J):q.indexOf(J);if(we!==-1)return j.FileIndex[we];var Ne=!J.match(dh);for(J=J.replace(fd,""),Ne&&(J=J.replace(dh,"!")),we=0;we<B.length;++we)if((Ne?B[we].replace(dh,"!"):B[we]).replace(fd,"")==J||(Ne?q[we].replace(dh,"!"):q[we]).replace(fd,"")==J)return j.FileIndex[we];return null}var re=64,me=-2,je="d0cf11e0a1b11ae1",We=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",Le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:me,FREESECT:-1,HEADER_SIGNATURE:je,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Re(j,G,B){g();var q=oe(j,B);h.writeFileSync(G,q)}function jt(j){for(var G=new Array(j.length),B=0;B<j.length;++B)G[B]=String.fromCharCode(j[B]);return G.join("")}function P(j,G){var B=oe(j,G);switch(G&&G.type||"buffer"){case"file":return g(),h.writeFileSync(G.filename,B),B;case"binary":return typeof B=="string"?B:jt(B);case"base64":return jd(typeof B=="string"?B:jt(B));case"buffer":if(jr)return Buffer.isBuffer(B)?B:Sl(B);case"array":return typeof B=="string"?ca(B):B}return B}var ce;function L(j){try{var G=j.InflateRaw,B=new G;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)ce=j;else throw new Error("zlib does not expose bytesRead")}catch(q){console.error("cannot use native zlib: "+(q.message||q))}}function F(j,G){if(!ce)return sn(j,G);var B=ce.InflateRaw,q=new B,V=q._processChunk(j.slice(j.l),q._finishFlushFlag);return j.l+=q.bytesRead,V}function C(j){return ce?ce.deflateRawSync(j):ze(j)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],tt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function rt(j){var G=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(G>>16|G>>8|G)&255}for(var Ze=typeof Uint8Array<"u",Et=Ze?new Uint8Array(256):[],bn=0;bn<256;++bn)Et[bn]=rt(bn);function Mt(j,G){var B=Et[j&255];return G<=8?B>>>8-G:(B=B<<8|Et[j>>8&255],G<=16?B>>>16-G:(B=B<<8|Et[j>>16&255],B>>>24-G))}function _n(j,G){var B=G&7,q=G>>>3;return(j[q]|(B<=6?0:j[q+1]<<8))>>>B&3}function Jt(j,G){var B=G&7,q=G>>>3;return(j[q]|(B<=5?0:j[q+1]<<8))>>>B&7}function on(j,G){var B=G&7,q=G>>>3;return(j[q]|(B<=4?0:j[q+1]<<8))>>>B&15}function Kt(j,G){var B=G&7,q=G>>>3;return(j[q]|(B<=3?0:j[q+1]<<8))>>>B&31}function Ue(j,G){var B=G&7,q=G>>>3;return(j[q]|(B<=1?0:j[q+1]<<8))>>>B&127}function Nn(j,G,B){var q=G&7,V=G>>>3,J=(1<<B)-1,we=j[V]>>>q;return B<8-q||(we|=j[V+1]<<8-q,B<16-q)||(we|=j[V+2]<<16-q,B<24-q)||(we|=j[V+3]<<24-q),we&J}function Xt(j,G,B){var q=G&7,V=G>>>3;return q<=5?j[V]|=(B&7)<<q:(j[V]|=B<<q&255,j[V+1]=(B&7)>>8-q),G+3}function xt(j,G,B){var q=G&7,V=G>>>3;return B=(B&1)<<q,j[V]|=B,G+1}function Qt(j,G,B){var q=G&7,V=G>>>3;return B<<=q,j[V]|=B&255,B>>>=8,j[V+1]=B,G+8}function Yt(j,G,B){var q=G&7,V=G>>>3;return B<<=q,j[V]|=B&255,B>>>=8,j[V+1]=B&255,j[V+2]=B>>>8,G+16}function ln(j,G){var B=j.length,q=2*B>G?2*B:G+5,V=0;if(B>=G)return j;if(jr){var J=$_(q);if(j.copy)j.copy(J);else for(;V<j.length;++V)J[V]=j[V];return J}else if(Ze){var we=new Uint8Array(q);if(we.set)we.set(j);else for(;V<B;++V)we[V]=j[V];return we}return j.length=q,j}function lt(j){for(var G=new Array(j),B=0;B<j;++B)G[B]=0;return G}function Qn(j,G,B){var q=1,V=0,J=0,we=0,Ne=0,xe=j.length,Se=Ze?new Uint16Array(32):lt(32);for(J=0;J<32;++J)Se[J]=0;for(J=xe;J<B;++J)j[J]=0;xe=j.length;var De=Ze?new Uint16Array(xe):lt(xe);for(J=0;J<xe;++J)Se[V=j[J]]++,q<V&&(q=V),De[J]=0;for(Se[0]=0,J=1;J<=q;++J)Se[J+16]=Ne=Ne+Se[J-1]<<1;for(J=0;J<xe;++J)Ne=j[J],Ne!=0&&(De[J]=Se[Ne+16]++);var gt=0;for(J=0;J<xe;++J)if(gt=j[J],gt!=0)for(Ne=Mt(De[J],q)>>q-gt,we=(1<<q+4-gt)-1;we>=0;--we)G[Ne|we<<gt]=gt&15|J<<4;return q}var Yn=Ze?new Uint16Array(512):lt(512),he=Ze?new Uint16Array(32):lt(32);if(!Ze){for(var $e=0;$e<512;++$e)Yn[$e]=0;for($e=0;$e<32;++$e)he[$e]=0}(function(){for(var j=[],G=0;G<32;G++)j.push(5);Qn(j,he,32);var B=[];for(G=0;G<=143;G++)B.push(8);for(;G<=255;G++)B.push(9);for(;G<=279;G++)B.push(7);for(;G<=287;G++)B.push(8);Qn(B,Yn,288)})();var qe=function(){for(var G=Ze?new Uint8Array(32768):[],B=0,q=0;B<tt.length-1;++B)for(;q<tt[B+1];++q)G[q]=B;for(;q<32768;++q)G[q]=29;var V=Ze?new Uint8Array(259):[];for(B=0,q=0;B<de.length-1;++B)for(;q<de[B+1];++q)V[q]=B;function J(Ne,xe){for(var Se=0;Se<Ne.length;){var De=Math.min(65535,Ne.length-Se),gt=Se+De==Ne.length;for(xe.write_shift(1,+gt),xe.write_shift(2,De),xe.write_shift(2,~De&65535);De-- >0;)xe[xe.l++]=Ne[Se++]}return xe.l}function we(Ne,xe){for(var Se=0,De=0,gt=Ze?new Uint16Array(32768):[];De<Ne.length;){var vt=Math.min(65535,Ne.length-De);if(vt<10){for(Se=Xt(xe,Se,+(De+vt==Ne.length)),Se&7&&(Se+=8-(Se&7)),xe.l=Se/8|0,xe.write_shift(2,vt),xe.write_shift(2,~vt&65535);vt-- >0;)xe[xe.l++]=Ne[De++];Se=xe.l*8;continue}Se=Xt(xe,Se,+(De+vt==Ne.length)+2);for(var Je=0;vt-- >0;){var _t=Ne[De];Je=(Je<<5^_t)&32767;var Ht=-1,en=0;if((Ht=gt[Je])&&(Ht|=De&-32768,Ht>De&&(Ht-=32768),Ht<De))for(;Ne[Ht+en]==Ne[De+en]&&en<250;)++en;if(en>2){_t=V[en],_t<=22?Se=Qt(xe,Se,Et[_t+1]>>1)-1:(Qt(xe,Se,3),Se+=5,Qt(xe,Se,Et[_t-23]>>5),Se+=3);var hn=_t<8?0:_t-4>>2;hn>0&&(Yt(xe,Se,en-de[_t]),Se+=hn),_t=G[De-Ht],Se=Qt(xe,Se,Et[_t]>>3),Se-=3;var On=_t<4?0:_t-2>>1;On>0&&(Yt(xe,Se,De-Ht-tt[_t]),Se+=On);for(var Cn=0;Cn<en;++Cn)gt[Je]=De&32767,Je=(Je<<5^Ne[De])&32767,++De;vt-=en-1}else _t<=143?_t=_t+48:Se=xt(xe,Se,1),Se=Qt(xe,Se,Et[_t]),gt[Je]=De&32767,++De}Se=Qt(xe,Se,0)-1}return xe.l=(Se+7)/8|0,xe.l}return function(xe,Se){return xe.length<8?J(xe,Se):we(xe,Se)}}();function ze(j){var G=dt(50+Math.floor(j.length*1.1)),B=qe(j,G);return G.slice(0,B)}var Be=Ze?new Uint16Array(32768):lt(32768),R=Ze?new Uint16Array(32768):lt(32768),ge=Ze?new Uint16Array(128):lt(128),Ie=1,wt=1;function ht(j,G){var B=Kt(j,G)+257;G+=5;var q=Kt(j,G)+1;G+=5;var V=on(j,G)+4;G+=4;for(var J=0,we=Ze?new Uint8Array(19):lt(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xe=1,Se=Ze?new Uint8Array(8):lt(8),De=Ze?new Uint8Array(8):lt(8),gt=we.length,vt=0;vt<V;++vt)we[H[vt]]=J=Jt(j,G),xe<J&&(xe=J),Se[J]++,G+=3;var Je=0;for(Se[0]=0,vt=1;vt<=xe;++vt)De[vt]=Je=Je+Se[vt-1]<<1;for(vt=0;vt<gt;++vt)(Je=we[vt])!=0&&(Ne[vt]=De[Je]++);var _t=0;for(vt=0;vt<gt;++vt)if(_t=we[vt],_t!=0){Je=Et[Ne[vt]]>>8-_t;for(var Ht=(1<<7-_t)-1;Ht>=0;--Ht)ge[Je|Ht<<_t]=_t&7|vt<<3}var en=[];for(xe=1;en.length<B+q;)switch(Je=ge[Ue(j,G)],G+=Je&7,Je>>>=3){case 16:for(J=3+_n(j,G),G+=2,Je=en[en.length-1];J-- >0;)en.push(Je);break;case 17:for(J=3+Jt(j,G),G+=3;J-- >0;)en.push(0);break;case 18:for(J=11+Ue(j,G),G+=7;J-- >0;)en.push(0);break;default:en.push(Je),xe<Je&&(xe=Je);break}var hn=en.slice(0,B),On=en.slice(B);for(vt=B;vt<286;++vt)hn[vt]=0;for(vt=q;vt<30;++vt)On[vt]=0;return Ie=Qn(hn,Be,286),wt=Qn(On,R,30),G}function $t(j,G){if(j[0]==3&&!(j[1]&3))return[Mo(G),2];for(var B=0,q=0,V=$_(G||1<<18),J=0,we=V.length>>>0,Ne=0,xe=0;(q&1)==0;){if(q=Jt(j,B),B+=3,q>>>1)q>>1==1?(Ne=9,xe=5):(B=ht(j,B),Ne=Ie,xe=wt);else{B&7&&(B+=8-(B&7));var Se=j[B>>>3]|j[(B>>>3)+1]<<8;if(B+=32,Se>0)for(!G&&we<J+Se&&(V=ln(V,J+Se),we=V.length);Se-- >0;)V[J++]=j[B>>>3],B+=8;continue}for(;;){!G&&we<J+32767&&(V=ln(V,J+32767),we=V.length);var De=Nn(j,B,Ne),gt=q>>>1==1?Yn[De]:Be[De];if(B+=gt&15,gt>>>=4,(gt>>>8&255)===0)V[J++]=gt;else{if(gt==256)break;gt-=257;var vt=gt<8?0:gt-4>>2;vt>5&&(vt=0);var Je=J+de[gt];vt>0&&(Je+=Nn(j,B,vt),B+=vt),De=Nn(j,B,xe),gt=q>>>1==1?he[De]:R[De],B+=gt&15,gt>>>=4;var _t=gt<4?0:gt-2>>1,Ht=tt[gt];for(_t>0&&(Ht+=Nn(j,B,_t),B+=_t),!G&&we<Je&&(V=ln(V,Je+100),we=V.length);J<Je;)V[J]=V[J-Ht],++J}}}return G?[V,B+7>>>3]:[V.slice(0,J),B+7>>>3]}function sn(j,G){var B=j.slice(j.l||0),q=$t(B,G);return j.l+=q[1],q[0]}function bt(j,G){if(j)typeof console<"u"&&console.error(G);else throw new Error(G)}function ot(j,G){var B=j;Oi(B,0);var q=[],V=[],J={FileIndex:q,FullPaths:V};z(J,{root:G.root});for(var we=B.length-4;(B[we]!=80||B[we+1]!=75||B[we+2]!=5||B[we+3]!=6)&&we>=0;)--we;B.l=we+4,B.l+=4;var Ne=B.read_shift(2);B.l+=6;var xe=B.read_shift(4);for(B.l=xe,we=0;we<Ne;++we){B.l+=20;var Se=B.read_shift(4),De=B.read_shift(4),gt=B.read_shift(2),vt=B.read_shift(2),Je=B.read_shift(2);B.l+=8;var _t=B.read_shift(4),Ht=d(B.slice(B.l+gt,B.l+gt+vt));B.l+=gt+vt+Je;var en=B.l;B.l=_t+4,ct(B,Se,De,J,Ht),B.l=en}return J}function ct(j,G,B,q,V){j.l+=2;var J=j.read_shift(2),we=j.read_shift(2),Ne=c(j);if(J&8257)throw new Error("Unsupported ZIP encryption");for(var xe=j.read_shift(4),Se=j.read_shift(4),De=j.read_shift(4),gt=j.read_shift(2),vt=j.read_shift(2),Je="",_t=0;_t<gt;++_t)Je+=String.fromCharCode(j[j.l++]);if(vt){var Ht=d(j.slice(j.l,j.l+vt));(Ht[21589]||{}).mt&&(Ne=Ht[21589].mt),((V||{})[21589]||{}).mt&&(Ne=V[21589].mt)}j.l+=vt;var en=j.slice(j.l,j.l+Se);switch(we){case 8:en=F(j,De);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var hn=!1;J&8&&(xe=j.read_shift(4),xe==134695760&&(xe=j.read_shift(4),hn=!0),Se=j.read_shift(4),De=j.read_shift(4)),Se!=G&&bt(hn,"Bad compressed size: "+G+" != "+Se),De!=B&&bt(hn,"Bad uncompressed size: "+B+" != "+De),Bt(q,Je,en,{unsafe:!0,mt:Ne})}function Wt(j,G){var B=G||{},q=[],V=[],J=dt(1),we=B.compression?8:0,Ne=0,xe=0,Se=0,De=0,gt=0,vt=j.FullPaths[0],Je=vt,_t=j.FileIndex[0],Ht=[],en=0;for(xe=1;xe<j.FullPaths.length;++xe)if(Je=j.FullPaths[xe].slice(vt.length),_t=j.FileIndex[xe],!(!_t.size||!_t.content||Je=="Sh33tJ5")){var hn=De,On=dt(Je.length);for(Se=0;Se<Je.length;++Se)On.write_shift(1,Je.charCodeAt(Se)&127);On=On.slice(0,On.l),Ht[gt]=RD.buf(_t.content,0);var Cn=_t.content;we==8&&(Cn=C(Cn)),J=dt(30),J.write_shift(4,67324752),J.write_shift(2,20),J.write_shift(2,Ne),J.write_shift(2,we),_t.mt?l(J,_t.mt):J.write_shift(4,0),J.write_shift(-4,Ht[gt]),J.write_shift(4,Cn.length),J.write_shift(4,_t.content.length),J.write_shift(2,On.length),J.write_shift(2,0),De+=J.length,q.push(J),De+=On.length,q.push(On),De+=Cn.length,q.push(Cn),J=dt(46),J.write_shift(4,33639248),J.write_shift(2,0),J.write_shift(2,20),J.write_shift(2,Ne),J.write_shift(2,we),J.write_shift(4,0),J.write_shift(-4,Ht[gt]),J.write_shift(4,Cn.length),J.write_shift(4,_t.content.length),J.write_shift(2,On.length),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(4,0),J.write_shift(4,hn),en+=J.l,V.push(J),en+=On.length,V.push(On),++gt}return J=dt(22),J.write_shift(4,101010256),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,gt),J.write_shift(2,gt),J.write_shift(4,en),J.write_shift(4,De),J.write_shift(2,0),Vs([Vs(q),Vs(V),J])}var vn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Wn(j,G){if(j.ctype)return j.ctype;var B=j.name||"",q=B.match(/\.([^\.]+)$/);return q&&vn[q[1]]||G&&(q=(B=G).match(/[\.\\]([^\.\\])+$/),q&&vn[q[1]])?vn[q[1]]:"application/octet-stream"}function gn(j){for(var G=jd(j),B=[],q=0;q<G.length;q+=76)B.push(G.slice(q,q+76));return B.join(`\r
`)+`\r
`}function Pn(j){var G=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var De=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(De.length==1?"0"+De:De)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],q=G.split(`\r
`),V=0;V<q.length;++V){var J=q[V];if(J.length==0){B.push("");continue}for(var we=0;we<J.length;){var Ne=76,xe=J.slice(we,we+Ne);xe.charAt(Ne-1)=="="?Ne--:xe.charAt(Ne-2)=="="?Ne-=2:xe.charAt(Ne-3)=="="&&(Ne-=3),xe=J.slice(we,we+Ne),we+=Ne,we<J.length&&(xe+="="),B.push(xe)}}return B.join(`\r
`)}function Dn(j){for(var G=[],B=0;B<j.length;++B){for(var q=j[B];B<=j.length&&q.charAt(q.length-1)=="=";)q=q.slice(0,q.length-1)+j[++B];G.push(q)}for(var V=0;V<G.length;++V)G[V]=G[V].replace(/[=][0-9A-Fa-f]{2}/g,function(J){return String.fromCharCode(parseInt(J.slice(1),16))});return ca(G.join(`\r
`))}function pn(j,G,B){for(var q="",V="",J="",we,Ne=0;Ne<10;++Ne){var xe=G[Ne];if(!xe||xe.match(/^\s*$/))break;var Se=xe.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":q=Se[2].trim();break;case"content-type":J=Se[2].trim();break;case"content-transfer-encoding":V=Se[2].trim();break}}switch(++Ne,V.toLowerCase()){case"base64":we=ca(xl(G.slice(Ne).join("")));break;case"quoted-printable":we=Dn(G.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var De=Bt(j,q.slice(B.length),we,{unsafe:!0});J&&(De.ctype=J)}function te(j,G){if(jt(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=G&&G.root||"",q=(jr&&Buffer.isBuffer(j)?j.toString("binary"):jt(j)).split(`\r
`),V=0,J="";for(V=0;V<q.length;++V)if(J=q[V],!!/^Content-Location:/i.test(J)&&(J=J.slice(J.indexOf("file")),B||(B=J.slice(0,J.lastIndexOf("/")+1)),J.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),J.slice(0,B.length)!=B););var we=(q[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var Ne="--"+(we[1]||""),xe=[],Se=[],De={FileIndex:xe,FullPaths:Se};z(De);var gt,vt=0;for(V=0;V<q.length;++V){var Je=q[V];Je!==Ne&&Je!==Ne+"--"||(vt++&&pn(De,q.slice(gt,V),B),gt=V)}return De}function Pe(j,G){var B=G||{},q=B.boundary||"SheetJS";q="------="+q;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+q.slice(2)+'"',"","",""],J=j.FullPaths[0],we=J,Ne=j.FileIndex[0],xe=1;xe<j.FullPaths.length;++xe)if(we=j.FullPaths[xe].slice(J.length),Ne=j.FileIndex[xe],!(!Ne.size||!Ne.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(en){return"_x"+en.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(en){return"_u"+en.charCodeAt(0).toString(16)+"_"});for(var Se=Ne.content,De=jr&&Buffer.isBuffer(Se)?Se.toString("binary"):jt(Se),gt=0,vt=Math.min(1024,De.length),Je=0,_t=0;_t<=vt;++_t)(Je=De.charCodeAt(_t))>=32&&Je<128&&++gt;var Ht=gt>=vt*4/5;V.push(q),V.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+we),V.push("Content-Transfer-Encoding: "+(Ht?"quoted-printable":"base64")),V.push("Content-Type: "+Wn(Ne,we)),V.push(""),V.push(Ht?Pn(De):gn(De))}return V.push(q+`--\r
`),V.join(`\r
`)}function He(j){var G={};return z(G,j),G}function Bt(j,G,B,q){var V=q&&q.unsafe;V||z(j);var J=!V&&Wr.find(j,G);if(!J){var we=j.FullPaths[0];G.slice(0,we.length)==we?we=G:(we.slice(-1)!="/"&&(we+="/"),we=(we+G).replace("//","/")),J={name:s(G),type:2},j.FileIndex.push(J),j.FullPaths.push(we),V||Wr.utils.cfb_gc(j)}return J.content=B,J.size=B?B.length:0,q&&(q.CLSID&&(J.clsid=q.CLSID),q.mt&&(J.mt=q.mt),q.ct&&(J.ct=q.ct)),J}function Ke(j,G){z(j);var B=Wr.find(j,G);if(B){for(var q=0;q<j.FileIndex.length;++q)if(j.FileIndex[q]==B)return j.FileIndex.splice(q,1),j.FullPaths.splice(q,1),!0}return!1}function st(j,G,B){z(j);var q=Wr.find(j,G);if(q){for(var V=0;V<j.FileIndex.length;++V)if(j.FileIndex[V]==q)return j.FileIndex[V].name=s(B),j.FullPaths[V]=B,!0}return!1}function it(j){se(j,!0)}return e.find=Ee,e.read=K,e.parse=p,e.write=P,e.writeFile=Re,e.utils={cfb_new:He,cfb_add:Bt,cfb_del:Ke,cfb_mov:st,cfb_gc:it,ReadShift:gd,CheckField:Nk,prep_blob:Oi,bconcat:Vs,use_zlib:L,_deflateRaw:ze,_inflateRaw:sn,consts:Le},e}();function MD(t){return typeof t=="string"?O0(t):Array.isArray(t)?aD(t):t}function Kd(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=O0(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Od(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([MD(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:t,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=t,c.href=l,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(t);return d.open("w"),d.encoding="binary",Array.isArray(e)&&(e=Jd(e)),d.write(e),d.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+t)}function qs(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function K_(t,e){for(var n=[],r=qs(t),s=0;s!==r.length;++s)n[t[r[s]][e]]==null&&(n[t[r[s]][e]]=r[s]);return n}function g1(t){for(var e=[],n=qs(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function M0(t){for(var e=[],n=qs(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function LD(t){for(var e=[],n=qs(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var r0=new Date(1899,11,30,0,0,0);function vi(t,e){var n=t.getTime(),r=r0.getTime()+(t.getTimezoneOffset()-r0.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var uk=new Date,ID=r0.getTime()+(uk.getTimezoneOffset()-r0.getTimezoneOffset())*6e4,Z_=uk.getTimezoneOffset();function dk(t){var e=new Date;return e.setTime(t*24*60*60*1e3+ID),e.getTimezoneOffset()!==Z_&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Z_)*6e4),e}var Q_=new Date("2017-02-19T19:06:09.000Z"),fk=isNaN(Q_.getFullYear())?new Date("2/19/17"):Q_,PD=fk.getFullYear()==2017;function li(t,e){var n=new Date(t);if(PD)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(fk.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function L0(t,e){if(jr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(l){return n[l]||l})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function yi(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=yi(t[n]));return e}function hs(t,e){for(var n="";n.length<e;)n+=t;return n}function hl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,l){return n=-n,l}),!isNaN(e=Number(r)))?e/n:e}var FD=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ad(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),l=e.getDate();if(isNaN(l))return n;var c=t.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&FD.indexOf(c)==-1)return n}else if(c.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||l>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function Zn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return jr?r=Sl(n):r=lD(n),Wr.utils.cfb_add(t,e,r)}Wr.utils.cfb_add(t,e,n)}else t.file(e,n)}function p1(){return Wr.utils.cfb_new()}var Es=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,zD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},m1=g1(zD),x1=/[&<>'"]/g,BD=/[\u0000-\u0008\u000b-\u001f]/g;function zr(t){var e=t+"";return e.replace(x1,function(n){return m1[n]}).replace(BD,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function e2(t){return zr(t).replace(/ /g,"_x0020_")}var hk=/[\u0000-\u001f]/g;function HD(t){var e=t+"";return e.replace(x1,function(n){return m1[n]}).replace(/\n/g,"<br/>").replace(hk,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function UD(t){var e=t+"";return e.replace(x1,function(n){return m1[n]}).replace(hk,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function $D(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function WD(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function lm(t){for(var e="",n=0,r=0,s=0,l=0,c=0,d=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){c=(r&31)<<6,c|=s&63,e+=String.fromCharCode(c);continue}if(l=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63);continue}c=t.charCodeAt(n++),d=((r&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(d>>>10&1023)),e+=String.fromCharCode(56320+(d&1023))}return e}function t2(t){var e=Mo(2*t.length),n,r,s=1,l=0,c=0,d;for(r=0;r<t.length;r+=s)s=1,(d=t.charCodeAt(r))<128?n=d:d<224?(n=(d&31)*64+(t.charCodeAt(r+1)&63),s=2):d<240?(n=(d&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(d&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,c=55296+(n>>>10&1023),n=56320+(n&1023)),c!==0&&(e[l++]=c&255,e[l++]=c>>>8,c=0),e[l++]=n%256,e[l++]=n>>>8;return e.slice(0,l).toString("ucs2")}function n2(t){return Sl(t,"binary").toString("utf8")}var hh="foo bar baz",hd=jr&&(n2(hh)==lm(hh)&&n2||t2(hh)==lm(hh)&&t2)||lm,Od=jr?function(t){return Sl(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},VD=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}}(),gk=/(^\s|\s$|\n)/;function Ys(t,e){return"<"+t+(e.match(gk)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Dd(t){return qs(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Zt(t,e,n){return"<"+t+(n!=null?Dd(n):"")+(e!=null?(e.match(gk)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function hx(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function YD(t,e){switch(typeof t){case"string":var n=Zt("vt:lpwstr",zr(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Zt((t|0)==t?"vt:i4":"vt:r8",zr(String(t)));case"boolean":return Zt("vt:bool",t?"true":"false")}if(t instanceof Date)return Zt("vt:filetime",hx(t));throw new Error("Unable to serialize "+t)}var Ms={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Qc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Di={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function GD(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,l=5;l>=0;--l)s=s*256+t[e+l];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function qD(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,l=0,c=r?-e:e;isFinite(c)?c==0?s=l=0:(s=Math.floor(Math.log(c)/Math.LN2),l=c*Math.pow(2,52-s),s<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?s=-1022:(l-=Math.pow(2,52),s+=1023)):(s=2047,l=isNaN(e)?26985:0);for(var d=0;d<=5;++d,l/=256)t[n+d]=l&255;t[n+6]=(s&15)<<4|l&15,t[n+7]=s>>4|r}var r2=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,l=t[0][r].length;s<l;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},s2=jr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Sl(e)})):r2(t)}:r2,i2=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(od(t,s)));return r.join("").replace(fd,"")},v1=jr?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(fd,""):i2(t,e,n)}:i2,a2=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},pk=jr?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):a2(t,e,n)}:a2,l2=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(Ac(t,s)));return r.join("")},Zd=jr?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):l2(e,n,r)}:l2,mk=function(t,e){var n=Ri(t,e);return n>0?Zd(t,e+4,e+4+n-1):""},xk=mk,vk=function(t,e){var n=Ri(t,e);return n>0?Zd(t,e+4,e+4+n-1):""},yk=vk,bk=function(t,e){var n=2*Ri(t,e);return n>0?Zd(t,e+4,e+4+n-1):""},_k=bk,Sk=function(e,n){var r=Ri(e,n);return r>0?v1(e,n+4,n+4+r):""},wk=Sk,Ek=function(t,e){var n=Ri(t,e);return n>0?Zd(t,e+4,e+4+n):""},kk=Ek,Tk=function(t,e){return GD(t,e)},s0=Tk,y1=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};jr&&(xk=function(e,n){if(!Buffer.isBuffer(e))return mk(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},yk=function(e,n){if(!Buffer.isBuffer(e))return vk(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},_k=function(e,n){if(!Buffer.isBuffer(e))return bk(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},wk=function(e,n){if(!Buffer.isBuffer(e))return Sk(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},kk=function(e,n){if(!Buffer.isBuffer(e))return Ek(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},s0=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):Tk(e,n)},y1=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ac=function(t,e){return t[e]},od=function(t,e){return t[e+1]*256+t[e]},XD=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Ri=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},No=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},JD=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function gd(t,e){var n="",r,s,l=[],c,d,h,g;switch(e){case"dbcs":if(g=this.l,jr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)n+=String.fromCharCode(od(this,g)),g+=2;t*=2;break;case"utf8":n=Zd(this,this.l,this.l+t);break;case"utf16le":t*=2,n=v1(this,this.l,this.l+t);break;case"wstr":return gd.call(this,t,"dbcs");case"lpstr-ansi":n=xk(this,this.l),t=4+Ri(this,this.l);break;case"lpstr-cp":n=yk(this,this.l),t=4+Ri(this,this.l);break;case"lpwstr":n=_k(this,this.l),t=4+2*Ri(this,this.l);break;case"lpp4":t=4+Ri(this,this.l),n=wk(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ri(this,this.l),n=kk(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(c=Ac(this,this.l+t++))!==0;)l.push(uh(c));n=l.join("");break;case"_wstr":for(t=0,n="";(c=od(this,this.l+t))!==0;)l.push(uh(c)),t+=2;t+=2,n=l.join("");break;case"dbcs-cont":for(n="",g=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(g)!==-1)return c=Ac(this,g),this.l=g+1,d=gd.call(this,t-h,c?"dbcs-cont":"sbcs-cont"),l.join("")+d;l.push(uh(od(this,g))),g+=2}n=l.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",g=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(g)!==-1)return c=Ac(this,g),this.l=g+1,d=gd.call(this,t-h,c?"dbcs-cont":"sbcs-cont"),l.join("")+d;l.push(uh(Ac(this,g))),g+=1}n=l.join("");break;default:switch(t){case 1:return r=Ac(this,this.l),this.l++,r;case 2:return r=(e==="i"?XD:od)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?No:JD)(this,this.l),this.l+=4,r):(s=Ri(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=s0(this,this.l):s=s0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=pk(this,this.l,t);break}}return this.l+=t,n}var KD=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},ZD=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},QD=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function eR(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)QD(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var l=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var c=e.charCodeAt(s);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,KD(this,e,this.l);break;case 8:if(r=8,n==="f"){qD(this,e,this.l);break}case 16:break;case-4:r=4,ZD(this,e,this.l);break}return this.l+=r,this}function Nk(t,e){var n=pk(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Oi(t,e){t.l=e,t.read_shift=gd,t.chk=Nk,t.write_shift=eR}function Fa(t,e){t.l+=e}function dt(t){var e=Mo(t);return Oi(e,0),e}function gi(){var t=[],e=jr?256:2048,n=function(g){var p=dt(g);return Oi(p,0),p},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},l=function(g){return r&&g<r.length-r.l?r:(s(),r=n(Math.max(g+1,e)))},c=function(){return s(),Vs(t)},d=function(g){s(),r=g,r.l==null&&(r.l=r.length),l(e)};return{next:l,push:d,end:c,_bufs:t}}function At(t,e,n,r){var s=+e,l;if(!isNaN(s)){r||(r=GI[s].p||(n||[]).length||0),l=1+(s>=128?1:0)+1,r>=128&&++l,r>=16384&&++l,r>=2097152&&++l;var c=t.next(l);s<=127?c.write_shift(1,s):(c.write_shift(1,(s&127)+128),c.write_shift(1,s>>7));for(var d=0;d!=4;++d)if(r>=128)c.write_shift(1,(r&127)+128),r>>=7;else{c.write_shift(1,r);break}r>0&&y1(n)&&t.push(n)}}function pd(t,e,n){var r=yi(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function o2(t,e,n){var r=yi(t);return r.s=pd(r.s,e.s,n),r.e=pd(r.e,e.s,n),r}function md(t,e){if(t.cRel&&t.c<0)for(t=yi(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=yi(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Br(t);return!t.cRel&&t.cRel!=null&&(n=rR(n)),!t.rRel&&t.rRel!=null&&(n=tR(n)),n}function om(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ei(t.s.c)+":"+(t.e.cRel?"":"$")+ei(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Gs(t.s.r)+":"+(t.e.rRel?"":"$")+Gs(t.e.r):md(t.s,e.biff)+":"+md(t.e,e.biff)}function b1(t){return parseInt(nR(t),10)-1}function Gs(t){return""+(t+1)}function tR(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function nR(t){return t.replace(/\$(\d+)$/,"$1")}function _1(t){for(var e=sR(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function ei(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function rR(t){return t.replace(/^([A-Z])/,"$$$1")}function sR(t){return t.replace(/^\$([A-Z])/,"$1")}function iR(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ls(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function Br(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Mi(t){var e=t.indexOf(":");return e==-1?{s:Ls(t),e:Ls(t)}:{s:Ls(t.slice(0,e)),e:Ls(t.slice(e+1))}}function ws(t,e){return typeof e>"u"||typeof e=="number"?ws(t.s,t.e):(typeof t!="string"&&(t=Br(t)),typeof e!="string"&&(e=Br(e)),t==e?t:t+":"+e)}function ns(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,l=t.length;for(n=0;r<l&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<l&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===l||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=l&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=l&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function c2(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=to(t.z,n?vi(e):e)}catch{}try{return t.w=to((t.XF||{}).numFmtId||(n?14:0),n?vi(e):e)}catch{return""+e}}function vl(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Qd[t.v]||t.v:e==null?c2(t,t.v):c2(t,e))}function Wo(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function Ck(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,l=t||(s?[]:{}),c=0,d=0;if(l&&r.origin!=null){if(typeof r.origin=="number")c=r.origin;else{var h=typeof r.origin=="string"?Ls(r.origin):r.origin;c=h.r,d=h.c}l["!ref"]||(l["!ref"]="A1:A1")}var g={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var p=ns(l["!ref"]);g.s.c=p.s.c,g.s.r=p.s.r,g.e.c=Math.max(g.e.c,p.e.c),g.e.r=Math.max(g.e.r,p.e.r),c==-1&&(g.e.r=c=p.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=e[v].length;++_)if(!(typeof e[v][_]>"u")){var y={v:e[v][_]},E=c+v,S=d+_;if(g.s.r>E&&(g.s.r=E),g.s.c>S&&(g.s.c=S),g.e.r<E&&(g.e.r=E),g.e.c<S&&(g.e.c=S),e[v][_]&&typeof e[v][_]=="object"&&!Array.isArray(e[v][_])&&!(e[v][_]instanceof Date))y=e[v][_];else if(Array.isArray(y.v)&&(y.f=e[v][_][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(r.nullError)y.t="e",y.v=0;else if(r.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=r.dateNF||gs[14],r.cellDates?(y.t="d",y.w=to(y.z,vi(y.v))):(y.t="n",y.v=vi(y.v),y.w=to(y.z,y.v))):y.t="s";if(s)l[E]||(l[E]=[]),l[E][S]&&l[E][S].z&&(y.z=l[E][S].z),l[E][S]=y;else{var k=Br({c:S,r:E});l[k]&&l[k].z&&(y.z=l[k].z),l[k]=y}}}return g.s.c<1e7&&(l["!ref"]=ws(g)),l}function eu(t,e){return Ck(null,t,e)}function aR(t){return t.read_shift(4,"i")}function fa(t,e){return e||(e=dt(4)),e.write_shift(4,t),e}function ti(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Is(t,e){var n=!1;return e==null&&(n=!0,e=dt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function lR(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function oR(t,e){return e||(e=dt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function S1(t,e){var n=t.l,r=t.read_shift(1),s=ti(t),l=[],c={t:s,h:s};if((r&1)!==0){for(var d=t.read_shift(4),h=0;h!=d;++h)l.push(lR(t));c.r=l}else c.r=[{ich:0,ifnt:0}];return t.l=n+e,c}function cR(t,e){var n=!1;return e==null&&(n=!0,e=dt(15+4*t.t.length)),e.write_shift(1,0),Is(t.t,e),n?e.slice(0,e.l):e}var uR=S1;function dR(t,e){var n=!1;return e==null&&(n=!0,e=dt(23+4*t.t.length)),e.write_shift(1,1),Is(t.t,e),e.write_shift(4,1),oR({},e),n?e.slice(0,e.l):e}function Qi(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Vo(t,e){return e==null&&(e=dt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Yo(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Go(t,e){return e==null&&(e=dt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var fR=ti,jk=Is;function w1(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function i0(t,e){var n=!1;return e==null&&(n=!0,e=dt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var hR=ti,gx=w1,E1=i0;function Ak(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?s0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):No(e,0)>>2;return n?s/100:s}function Ok(t,e){e==null&&(e=dt(4));var n=0,r=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?s:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function Dk(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function gR(t,e){return e||(e=dt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var qo=Dk,tu=gR;function nu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Lo(t,e){return(e||dt(8)).write_shift(8,t,"f")}function pR(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),l=t.read_shift(2,"i"),c=t.read_shift(1),d=t.read_shift(1),h=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var g=ER[s];g&&(e.rgb=b2(g));break;case 2:e.rgb=b2([c,d,h]);break;case 3:e.theme=s;break}return l!=0&&(e.tint=l>0?l/32767:l/32768),e}function a0(t,e){if(e||(e=dt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function mR(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function xR(t,e){e||(e=dt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var Rk=2,ji=3,gh=11,l0=19,ph=64,vR=65,yR=71,bR=4108,_R=4126,Ws=80,u2={1:{n:"CodePage",t:Rk},2:{n:"Category",t:Ws},3:{n:"PresentationFormat",t:Ws},4:{n:"ByteCount",t:ji},5:{n:"LineCount",t:ji},6:{n:"ParagraphCount",t:ji},7:{n:"SlideCount",t:ji},8:{n:"NoteCount",t:ji},9:{n:"HiddenCount",t:ji},10:{n:"MultimediaClipCount",t:ji},11:{n:"ScaleCrop",t:gh},12:{n:"HeadingPairs",t:bR},13:{n:"TitlesOfParts",t:_R},14:{n:"Manager",t:Ws},15:{n:"Company",t:Ws},16:{n:"LinksUpToDate",t:gh},17:{n:"CharacterCount",t:ji},19:{n:"SharedDoc",t:gh},22:{n:"HyperlinksChanged",t:gh},23:{n:"AppVersion",t:ji,p:"version"},24:{n:"DigSig",t:vR},26:{n:"ContentType",t:Ws},27:{n:"ContentStatus",t:Ws},28:{n:"Language",t:Ws},29:{n:"Version",t:Ws},255:{},2147483648:{n:"Locale",t:l0},2147483651:{n:"Behavior",t:l0},1919054434:{}},d2={1:{n:"CodePage",t:Rk},2:{n:"Title",t:Ws},3:{n:"Subject",t:Ws},4:{n:"Author",t:Ws},5:{n:"Keywords",t:Ws},6:{n:"Comments",t:Ws},7:{n:"Template",t:Ws},8:{n:"LastAuthor",t:Ws},9:{n:"RevNumber",t:Ws},10:{n:"EditTime",t:ph},11:{n:"LastPrinted",t:ph},12:{n:"CreatedDate",t:ph},13:{n:"ModifiedDate",t:ph},14:{n:"PageCount",t:ji},15:{n:"WordCount",t:ji},16:{n:"CharCount",t:ji},17:{n:"Thumbnail",t:yR},18:{n:"Application",t:Ws},19:{n:"DocSecurity",t:ji},255:{},2147483648:{n:"Locale",t:l0},2147483651:{n:"Behavior",t:l0},1919054434:{}};function SR(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var wR=SR([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ER=yi(wR),Qd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kR={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},mh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Mk(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Lk(t,e){var n=LD(kR),r=[],s;r[r.length]=Es,r[r.length]=Zt("Types",null,{xmlns:Ms.CT,"xmlns:xsd":Ms.xsd,"xmlns:xsi":Ms.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Zt("Default",null,{Extension:h[0],ContentType:h[1]})}));var l=function(h){t[h]&&t[h].length>0&&(s=t[h][0],r[r.length]=Zt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:mh[h][e.bookType]||mh[h].xlsx}))},c=function(h){(t[h]||[]).forEach(function(g){r[r.length]=Zt("Override",null,{PartName:(g[0]=="/"?"":"/")+g,ContentType:mh[h][e.bookType]||mh[h].xlsx})})},d=function(h){(t[h]||[]).forEach(function(g){r[r.length]=Zt("Override",null,{PartName:(g[0]=="/"?"":"/")+g,ContentType:n[h][0]})})};return l("workbooks"),c("sheets"),c("charts"),d("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),c("metadata"),d("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Sr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ik(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function zc(t){var e=[Es,Zt("Relationships",null,{xmlns:Ms.RELS})];return qs(t["!id"]).forEach(function(n){e[e.length]=Zt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Fr(t,e,n,r,s,l){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=n,[Sr.HLINK,Sr.XPATH,Sr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function TR(t){var e=[Es];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function f2(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function NR(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function CR(t){var e=[Es];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(f2(t[n][0],t[n][1])),e.push(NR("",t[n][0]));return e.push(f2("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Pk(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Zh.version+"</meta:generator></office:meta></office:document-meta>"}var Oo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function cm(t,e,n,r,s){s[t]!=null||e==null||e===""||(s[t]=e,e=zr(e),r[r.length]=n?Zt(t,e,n):Ys(t,e))}function Fk(t,e){var n=e||{},r=[Es,Zt("cp:coreProperties",null,{"xmlns:cp":Ms.CORE_PROPS,"xmlns:dc":Ms.dc,"xmlns:dcterms":Ms.dcterms,"xmlns:dcmitype":Ms.dcmitype,"xmlns:xsi":Ms.xsi})],s={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&cm("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:hx(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),t.ModifiedDate!=null&&cm("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:hx(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var l=0;l!=Oo.length;++l){var c=Oo[l],d=n.Props&&n.Props[c[1]]!=null?n.Props[c[1]]:t?t[c[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&cm(c[0],d,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Bc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],zk=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Bk(t){var e=[],n=Zt;return t||(t={}),t.Application="SheetJS",e[e.length]=Es,e[e.length]=Zt("Properties",null,{xmlns:Ms.EXT_PROPS,"xmlns:vt":Ms.vt}),Bc.forEach(function(r){if(t[r[1]]!==void 0){var s;switch(r[2]){case"string":s=zr(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=n(r[0],s))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+zr(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function Hk(t){var e=[Es,Zt("Properties",null,{xmlns:Ms.CUST_PROPS,"xmlns:vt":Ms.vt})];if(!t)return e.join("");var n=1;return qs(t).forEach(function(s){++n,e[e.length]=Zt("property",YD(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:zr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var h2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function jR(t,e){var n=[];return qs(h2).map(function(r){for(var s=0;s<Oo.length;++s)if(Oo[s][1]==r)return Oo[s];for(s=0;s<Bc.length;++s)if(Bc[s][1]==r)return Bc[s];throw r}).forEach(function(r){if(t[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(Ys(h2[r[1]]||r[1],s))}}),Zt("DocumentProperties",n.join(""),{xmlns:Di.o})}function AR(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&qs(t).forEach(function(l){if(Object.prototype.hasOwnProperty.call(t,l)){for(var c=0;c<Oo.length;++c)if(l==Oo[c][1])return;for(c=0;c<Bc.length;++c)if(l==Bc[c][1])return;for(c=0;c<n.length;++c)if(l==n[c])return;var d=t[l],h="string";typeof d=="number"?(h="float",d=String(d)):d===!0||d===!1?(h="boolean",d=d?"1":"0"):d=String(d),s.push(Zt(e2(l),d,{"dt:dt":h}))}}),e&&qs(e).forEach(function(l){if(Object.prototype.hasOwnProperty.call(e,l)&&!(t&&Object.prototype.hasOwnProperty.call(t,l))){var c=e[l],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c instanceof Date?(d="dateTime.tz",c=c.toISOString()):c=String(c),s.push(Zt(e2(l),c,{"dt:dt":d}))}}),"<"+r+' xmlns="'+Di.o+'">'+s.join("")+"</"+r+">"}function OR(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var l=r/Math.pow(2,32)|0;l>0&&(r=r%Math.pow(2,32),s+=l);var c=dt(8);return c.write_shift(4,r),c.write_shift(4,s),c}function g2(t,e){var n=dt(4),r=dt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=dt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=OR(e);break;case 31:case 80:for(r=dt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Vs([n,r])}var Uk=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function DR(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function p2(t,e,n){var r=dt(8),s=[],l=[],c=8,d=0,h=dt(8),g=dt(8);if(h.write_shift(4,2),h.write_shift(4,1200),g.write_shift(4,1),l.push(h),s.push(g),c+=8+h.length,!e){g=dt(8),g.write_shift(4,0),s.unshift(g);var p=[dt(4)];for(p[0].write_shift(4,t.length),d=0;d<t.length;++d){var v=t[d][0];for(h=dt(8+2*(v.length+1)+(v.length%2?0:2)),h.write_shift(4,d+2),h.write_shift(4,v.length+1),h.write_shift(0,v,"dbcs");h.l!=h.length;)h.write_shift(1,0);p.push(h)}h=Vs(p),l.unshift(h),c+=8+h.length}for(d=0;d<t.length;++d)if(!(e&&!e[t[d][0]])&&!(Uk.indexOf(t[d][0])>-1||zk.indexOf(t[d][0])>-1)&&t[d][1]!=null){var _=t[d][1],y=0;if(e){y=+e[t[d][0]];var E=n[y];if(E.p=="version"&&typeof _=="string"){var S=_.split(".");_=(+S[0]<<16)+(+S[1]||0)}h=g2(E.t,_)}else{var k=DR(_);k==-1&&(k=31,_=String(_)),h=g2(k,_)}l.push(h),g=dt(8),g.write_shift(4,e?y:2+d),s.push(g),c+=8+h.length}var D=8*(l.length+1);for(d=0;d<l.length;++d)s[d].write_shift(4,D),D+=l[d].length;return r.write_shift(4,c),r.write_shift(4,l.length),Vs([r].concat(s).concat(l))}function m2(t,e,n,r,s,l){var c=dt(s?68:48),d=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,Wr.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,s?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,s?68:48);var h=p2(t,n,r);if(d.push(h),s){var g=p2(s,null,null);c.write_shift(16,l,"hex"),c.write_shift(4,68+h.length),d.push(g)}return Vs(d)}function RR(t,e){e||(e=dt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function MR(t,e){return t.read_shift(e)===1}function ai(t,e){return e||(e=dt(2)),e.write_shift(2,+!!t),e}function $k(t){return t.read_shift(2,"u")}function Gi(t,e){return e||(e=dt(2)),e.write_shift(2,t),e}function Wk(t,e,n){return n||(n=dt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Vk(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var l=t.read_shift(1);l&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var c=r?t.read_shift(r,s):"";return c}function LR(t){var e=t.t||"",n=dt(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=dt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[n,r];return Vs(s)}function IR(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function PR(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):IR(t,r,n)}function FR(t,e,n){if(n.biff>5)return PR(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Yk(t,e,n){return n||(n=dt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function x2(t,e){e||(e=dt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function zR(t){var e=dt(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),l=s>-1?31:23;switch(r.charAt(0)){case"#":l=28;break;case".":l&=-3;break}e.write_shift(4,2),e.write_shift(4,l);var c=[8,6815827,6619237,4849780,83];for(n=0;n<c.length;++n)e.write_shift(4,c[n]);if(l==28)r=r.slice(1),x2(r,e);else if(l&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<c.length;++n)e.write_shift(1,parseInt(c[n],16));var d=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(d.length+1)),n=0;n<d.length;++n)e.write_shift(2,d.charCodeAt(n));e.write_shift(2,0),l&8&&x2(s>-1?r.slice(s+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<c.length;++n)e.write_shift(1,parseInt(c[n],16));for(var h=0;r.slice(h*3,h*3+3)=="../"||r.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,r.length-3*h+1),n=0;n<r.length-3*h;++n)e.write_shift(1,r.charCodeAt(n+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Io(t,e,n,r){return r||(r=dt(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function BR(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),l=t.read_shift(r,"i"),c=t.read_shift(r,"i");return[s,l,c]}function HR(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function Gk(t,e){return e||(e=dt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function k1(t,e,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=dt(s);return l.write_shift(2,r),l.write_shift(2,e),s>4&&l.write_shift(2,29282),s>6&&l.write_shift(2,1997),s>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function UR(t,e){var n=!e||e.biff==8,r=dt(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function $R(t,e){var n=!e||e.biff>=8?2:1,r=dt(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function WR(t,e){var n=dt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=LR(t[s]);var l=Vs([n].concat(r));return l.parts=[n.length].concat(r.map(function(c){return c.length})),l}function VR(){var t=dt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function YR(t){var e=dt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function GR(t,e){var n=t.name||"Arial",r=e&&e.biff==5,s=r?15+n.length:16+2*n.length,l=dt(s);return l.write_shift(2,t.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,n.length),r||l.write_shift(1,1),l.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),l}function qR(t,e,n,r){var s=dt(10);return Io(t,e,r,s),s.write_shift(4,n),s}function XR(t,e,n,r,s){var l=!s||s.biff==8,c=dt(8+ +l+(1+l)*n.length);return Io(t,e,r,c),c.write_shift(2,n.length),l&&c.write_shift(1,1),c.write_shift((1+l)*n.length,n,l?"utf16le":"sbcs"),c}function JR(t,e,n,r){var s=n&&n.biff==5;r||(r=dt(s?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var l=r.length>r.l?r.slice(0,r.l):r;return l.l==null&&(l.l=l.length),l}function KR(t,e){var n=e.biff==8||!e.biff?4:2,r=dt(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function v2(t,e,n,r){var s=n&&n.biff==5;r||(r=dt(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var l=0;return t.numFmtId>0&&s&&(l|=1024),r.write_shift(4,l),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function ZR(t){var e=dt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function QR(t,e,n,r,s,l){var c=dt(8);return Io(t,e,r,c),Wk(n,l,c),c}function e8(t,e,n,r){var s=dt(14);return Io(t,e,r,s),Lo(n,s),s}function t8(t,e,n){if(n.biff<8)return n8(t,e,n);for(var r=[],s=t.l+e,l=t.read_shift(n.biff>8?4:2);l--!==0;)r.push(BR(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function n8(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Vk(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function r8(t){var e=dt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)Gk(t[n],e);return e}function s8(t){var e=dt(24),n=Ls(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return Vs([e,zR(t[1])])}function i8(t){var e=t[1].Tooltip,n=dt(10+2*(e.length+1));n.write_shift(2,2048);var r=Ls(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<e.length;++s)n.write_shift(2,e.charCodeAt(s));return n.write_shift(2,0),n}function a8(t){return t||(t=dt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function l8(t,e,n){if(!n.cellStyles)return Fa(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),l=t.read_shift(r),c=t.read_shift(r),d=t.read_shift(r),h=t.read_shift(2);r==2&&(t.l+=2);var g={s,e:l,w:c,ixfe:d,flags:h};return(n.biff>=5||!n.biff)&&(g.level=h>>8&7),g}function o8(t,e){var n=dt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function c8(t){for(var e=dt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function u8(t,e,n){var r=dt(15);return tf(r,t,e),r.write_shift(8,n,"f"),r}function d8(t,e,n){var r=dt(9);return tf(r,t,e),r.write_shift(2,n),r}var f8=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=g1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(d,h){var g=[],p=Mo(1);switch(h.type){case"base64":p=ca(xl(d));break;case"binary":p=ca(d);break;case"buffer":case"array":p=d;break}Oi(p,0);var v=p.read_shift(1),_=!!(v&136),y=!1,E=!1;switch(v){case 2:break;case 3:break;case 48:y=!0,_=!0;break;case 49:y=!0,_=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var S=0,k=521;v==2&&(S=p.read_shift(2)),p.l+=3,v!=2&&(S=p.read_shift(4)),S>1048576&&(S=1e6),v!=2&&(k=p.read_shift(2));var D=p.read_shift(2),A=h.codepage||1252;v!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(A=t[p[p.l]]),p.l+=1,p.l+=2),E&&(p.l+=36);for(var M=[],Y={},Q=Math.min(p.length,v==2?521:k-10-(y?264:0)),K=E?32:11;p.l<Q&&p[p.l]!=13;)switch(Y={},Y.name=Qh.utils.decode(A,p.slice(p.l,p.l+K)).replace(/[\u0000\r\n].*$/g,""),p.l+=K,Y.type=String.fromCharCode(p.read_shift(1)),v!=2&&!E&&(Y.offset=p.read_shift(4)),Y.len=p.read_shift(1),v==2&&(Y.offset=p.read_shift(2)),Y.dec=p.read_shift(1),Y.name.length&&M.push(Y),v!=2&&(p.l+=E?13:14),Y.type){case"B":(!y||Y.len!=8)&&h.WTF&&console.log("Skipping "+Y.name+":"+Y.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+Y.name+":"+Y.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Y.type)}if(p[p.l]!==13&&(p.l=k-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=k;var z=0,ee=0;for(g[0]=[],ee=0;ee!=M.length;++ee)g[0][ee]=M[ee].name;for(;S-- >0;){if(p[p.l]===42){p.l+=D;continue}for(++p.l,g[++z]=[],ee=0,ee=0;ee!=M.length;++ee){var se=p.slice(p.l,p.l+M[ee].len);p.l+=M[ee].len,Oi(se,0);var oe=Qh.utils.decode(A,se);switch(M[ee].type){case"C":oe.trim().length&&(g[z][ee]=oe.replace(/\s+$/,""));break;case"D":oe.length===8?g[z][ee]=new Date(+oe.slice(0,4),+oe.slice(4,6)-1,+oe.slice(6,8)):g[z][ee]=oe;break;case"F":g[z][ee]=parseFloat(oe.trim());break;case"+":case"I":g[z][ee]=E?se.read_shift(-4,"i")^2147483648:se.read_shift(4,"i");break;case"L":switch(oe.trim().toUpperCase()){case"Y":case"T":g[z][ee]=!0;break;case"N":case"F":g[z][ee]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+oe+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));g[z][ee]="##MEMO##"+(E?parseInt(oe.trim(),10):se.read_shift(4));break;case"N":oe=oe.replace(/\u0000/g,"").trim(),oe&&oe!="."&&(g[z][ee]=+oe||0);break;case"@":g[z][ee]=new Date(se.read_shift(-8,"f")-621356832e5);break;case"T":g[z][ee]=new Date((se.read_shift(4)-2440588)*864e5+se.read_shift(4));break;case"Y":g[z][ee]=se.read_shift(4,"i")/1e4+se.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":g[z][ee]=-se.read_shift(-8,"f");break;case"B":if(y&&M[ee].len==8){g[z][ee]=se.read_shift(8,"f");break}case"G":case"P":se.l+=M[ee].len;break;case"0":if(M[ee].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+M[ee].type)}}}if(v!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return h&&h.sheetRows&&(g=g.slice(0,h.sheetRows)),h.DBF=M,g}function r(d,h){var g=h||{};g.dateNF||(g.dateNF="yyyymmdd");var p=eu(n(d,g),g);return p["!cols"]=g.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete g.DBF,p}function s(d,h){try{return Wo(r(d,h),h)}catch(g){if(h&&h.WTF)throw g}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function c(d,h){var g=h||{};if(+g.codepage>=0&&Cd(+g.codepage),g.type=="string")throw new Error("Cannot write DBF to JS string");var p=gi(),v=f0(d,{header:1,raw:!0,cellDates:!0}),_=v[0],y=v.slice(1),E=d["!cols"]||[],S=0,k=0,D=0,A=1;for(S=0;S<_.length;++S){if(((E[S]||{}).DBF||{}).name){_[S]=E[S].DBF.name,++D;continue}if(_[S]!=null){if(++D,typeof _[S]=="number"&&(_[S]=_[S].toString(10)),typeof _[S]!="string")throw new Error("DBF Invalid column name "+_[S]+" |"+typeof _[S]+"|");if(_.indexOf(_[S])!==S){for(k=0;k<1024;++k)if(_.indexOf(_[S]+"_"+k)==-1){_[S]+="_"+k;break}}}}var M=ns(d["!ref"]),Y=[],Q=[],K=[];for(S=0;S<=M.e.c-M.s.c;++S){var z="",ee="",se=0,oe=[];for(k=0;k<y.length;++k)y[k][S]!=null&&oe.push(y[k][S]);if(oe.length==0||_[S]==null){Y[S]="?";continue}for(k=0;k<oe.length;++k){switch(typeof oe[k]){case"number":ee="B";break;case"string":ee="C";break;case"boolean":ee="L";break;case"object":ee=oe[k]instanceof Date?"D":"C";break;default:ee="C"}se=Math.max(se,String(oe[k]).length),z=z&&z!=ee?"C":ee}se>250&&(se=250),ee=((E[S]||{}).DBF||{}).type,ee=="C"&&E[S].DBF.len>se&&(se=E[S].DBF.len),z=="B"&&ee=="N"&&(z="N",K[S]=E[S].DBF.dec,se=E[S].DBF.len),Q[S]=z=="C"||ee=="N"?se:l[z]||0,A+=Q[S],Y[S]=z}var Ee=p.next(32);for(Ee.write_shift(4,318902576),Ee.write_shift(4,y.length),Ee.write_shift(2,296+32*D),Ee.write_shift(2,A),S=0;S<4;++S)Ee.write_shift(4,0);for(Ee.write_shift(4,0|(+e[XE]||3)<<8),S=0,k=0;S<_.length;++S)if(_[S]!=null){var re=p.next(32),me=(_[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);re.write_shift(1,me,"sbcs"),re.write_shift(1,Y[S]=="?"?"C":Y[S],"sbcs"),re.write_shift(4,k),re.write_shift(1,Q[S]||l[Y[S]]||0),re.write_shift(1,K[S]||0),re.write_shift(1,2),re.write_shift(4,0),re.write_shift(1,0),re.write_shift(4,0),re.write_shift(4,0),k+=Q[S]||l[Y[S]]||0}var je=p.next(264);for(je.write_shift(4,13),S=0;S<65;++S)je.write_shift(4,0);for(S=0;S<y.length;++S){var We=p.next(A);for(We.write_shift(1,0),k=0;k<_.length;++k)if(_[k]!=null)switch(Y[k]){case"L":We.write_shift(1,y[S][k]==null?63:y[S][k]?84:70);break;case"B":We.write_shift(8,y[S][k]||0,"f");break;case"N":var ae="0";for(typeof y[S][k]=="number"&&(ae=y[S][k].toFixed(K[k]||0)),D=0;D<Q[k]-ae.length;++D)We.write_shift(1,32);We.write_shift(1,ae,"sbcs");break;case"D":y[S][k]?(We.write_shift(4,("0000"+y[S][k].getFullYear()).slice(-4),"sbcs"),We.write_shift(2,("00"+(y[S][k].getMonth()+1)).slice(-2),"sbcs"),We.write_shift(2,("00"+y[S][k].getDate()).slice(-2),"sbcs")):We.write_shift(8,"00000000","sbcs");break;case"C":var Le=String(y[S][k]!=null?y[S][k]:"").slice(0,Q[k]);for(We.write_shift(1,Le,"sbcs"),D=0;D<Q[k]-Le.length;++D)We.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:r,from_sheet:c}}(),h8=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+qs(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(_,y){var E=t[y];return typeof E=="number"?U_(E):E},r=function(_,y,E){var S=y.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return S==59?_:U_(S)};t["|"]=254;function s(_,y){switch(y.type){case"base64":return l(xl(_),y);case"binary":return l(_,y);case"buffer":return l(jr&&Buffer.isBuffer(_)?_.toString("binary"):Jd(_),y);case"array":return l(L0(_),y)}throw new Error("Unrecognized type "+y.type)}function l(_,y){var E=_.split(/[\n\r]+/),S=-1,k=-1,D=0,A=0,M=[],Y=[],Q=null,K={},z=[],ee=[],se=[],oe=0,Ee;for(+y.codepage>=0&&Cd(+y.codepage);D!==E.length;++D){oe=0;var re=E[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),me=re.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),je=me[0],We;if(re.length>0)switch(je){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":me[1].charAt(0)=="P"&&Y.push(re.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,Le=!1,Re=!1,jt=!1,P=-1,ce=-1;for(A=1;A<me.length;++A)switch(me[A].charAt(0)){case"A":break;case"X":k=parseInt(me[A].slice(1))-1,Le=!0;break;case"Y":for(S=parseInt(me[A].slice(1))-1,Le||(k=0),Ee=M.length;Ee<=S;++Ee)M[Ee]=[];break;case"K":We=me[A].slice(1),We.charAt(0)==='"'?We=We.slice(1,We.length-1):We==="TRUE"?We=!0:We==="FALSE"?We=!1:isNaN(hl(We))?isNaN(Ad(We).getDate())||(We=li(We)):(We=hl(We),Q!==null&&lk(Q)&&(We=dk(We))),ae=!0;break;case"E":jt=!0;var L=dM(me[A].slice(1),{r:S,c:k});M[S][k]=[M[S][k],L];break;case"S":Re=!0,M[S][k]=[M[S][k],"S5S"];break;case"G":break;case"R":P=parseInt(me[A].slice(1))-1;break;case"C":ce=parseInt(me[A].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+re)}if(ae&&(M[S][k]&&M[S][k].length==2?M[S][k][0]=We:M[S][k]=We,Q=null),Re){if(jt)throw new Error("SYLK shared formula cannot have own formula");var F=P>-1&&M[P][ce];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");M[S][k][1]=fM(F[1],{r:S-P,c:k-ce})}break;case"F":var C=0;for(A=1;A<me.length;++A)switch(me[A].charAt(0)){case"X":k=parseInt(me[A].slice(1))-1,++C;break;case"Y":for(S=parseInt(me[A].slice(1))-1,Ee=M.length;Ee<=S;++Ee)M[Ee]=[];break;case"M":oe=parseInt(me[A].slice(1))/20;break;case"F":break;case"G":break;case"P":Q=Y[parseInt(me[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(se=me[A].slice(1).split(" "),Ee=parseInt(se[0],10);Ee<=parseInt(se[1],10);++Ee)oe=parseInt(se[2],10),ee[Ee-1]=oe===0?{hidden:!0}:{wch:oe},T1(ee[Ee-1]);break;case"C":k=parseInt(me[A].slice(1))-1,ee[k]||(ee[k]={});break;case"R":S=parseInt(me[A].slice(1))-1,z[S]||(z[S]={}),oe>0?(z[S].hpt=oe,z[S].hpx=Zk(oe)):oe===0&&(z[S].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+re)}C<1&&(Q=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+re)}}return z.length>0&&(K["!rows"]=z),ee.length>0&&(K["!cols"]=ee),y&&y.sheetRows&&(M=M.slice(0,y.sheetRows)),[M,K]}function c(_,y){var E=s(_,y),S=E[0],k=E[1],D=eu(S,y);return qs(k).forEach(function(A){D[A]=k[A]}),D}function d(_,y){return Wo(c(_,y),y)}function h(_,y,E,S){var k="C;Y"+(E+1)+";X"+(S+1)+";K";switch(_.t){case"n":k+=_.v||0,_.f&&!_.F&&(k+=";E"+C1(_.f,{r:E,c:S}));break;case"b":k+=_.v?"TRUE":"FALSE";break;case"e":k+=_.w||_.v;break;case"d":k+='"'+(_.w||_.v)+'"';break;case"s":k+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return k}function g(_,y){y.forEach(function(E,S){var k="F;W"+(S+1)+" "+(S+1)+" ";E.hidden?k+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=o0(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=c0(E.wpx)),typeof E.wch=="number"&&(k+=Math.round(E.wch))),k.charAt(k.length-1)!=" "&&_.push(k)})}function p(_,y){y.forEach(function(E,S){var k="F;";E.hidden?k+="M0;":E.hpt?k+="M"+20*E.hpt+";":E.hpx&&(k+="M"+20*u0(E.hpx)+";"),k.length>2&&_.push(k+"R"+(S+1))})}function v(_,y){var E=["ID;PWXL;N;E"],S=[],k=ns(_["!ref"]),D,A=Array.isArray(_),M=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),_["!cols"]&&g(E,_["!cols"]),_["!rows"]&&p(E,_["!rows"]),E.push("B;Y"+(k.e.r-k.s.r+1)+";X"+(k.e.c-k.s.c+1)+";D"+[k.s.c,k.s.r,k.e.c,k.e.r].join(" "));for(var Y=k.s.r;Y<=k.e.r;++Y)for(var Q=k.s.c;Q<=k.e.c;++Q){var K=Br({r:Y,c:Q});D=A?(_[Y]||[])[Q]:_[K],!(!D||D.v==null&&(!D.f||D.F))&&S.push(h(D,_,Y,Q))}return E.join(M)+M+S.join(M)+M+"E"+M}return{to_workbook:d,to_sheet:c,from_sheet:v}}(),g8=function(){function t(l,c){switch(c.type){case"base64":return e(xl(l),c);case"binary":return e(l,c);case"buffer":return e(jr&&Buffer.isBuffer(l)?l.toString("binary"):Jd(l),c);case"array":return e(L0(l),c)}throw new Error("Unrecognized type "+c.type)}function e(l,c){for(var d=l.split(`
`),h=-1,g=-1,p=0,v=[];p!==d.length;++p){if(d[p].trim()==="BOT"){v[++h]=[],g=0;continue}if(!(h<0)){var _=d[p].trim().split(","),y=_[0],E=_[1];++p;for(var S=d[p]||"";(S.match(/["]/g)||[]).length&1&&p<d.length-1;)S+=`
`+d[++p];switch(S=S.trim(),+y){case-1:if(S==="BOT"){v[++h]=[],g=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?v[h][g]=!0:S==="FALSE"?v[h][g]=!1:isNaN(hl(E))?isNaN(Ad(E).getDate())?v[h][g]=E:v[h][g]=li(E):v[h][g]=hl(E),++g;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),v[h][g++]=S!==""?S:null;break}if(S==="EOD")break}}return c&&c.sheetRows&&(v=v.slice(0,c.sheetRows)),v}function n(l,c){return eu(t(l,c),c)}function r(l,c){return Wo(n(l,c),c)}var s=function(){var l=function(h,g,p,v,_){h.push(g),h.push(p+","+v),h.push('"'+_.replace(/"/g,'""')+'"')},c=function(h,g,p,v){h.push(g+","+p),h.push(g==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(h){var g=[],p=ns(h["!ref"]),v,_=Array.isArray(h);l(g,"TABLE",0,1,"sheetjs"),l(g,"VECTORS",0,p.e.r-p.s.r+1,""),l(g,"TUPLES",0,p.e.c-p.s.c+1,""),l(g,"DATA",0,0,"");for(var y=p.s.r;y<=p.e.r;++y){c(g,-1,0,"BOT");for(var E=p.s.c;E<=p.e.c;++E){var S=Br({r:y,c:E});if(v=_?(h[y]||[])[E]:h[S],!v){c(g,1,0,"");continue}switch(v.t){case"n":var k=v.w;!k&&v.v!=null&&(k=v.v),k==null?v.f&&!v.F?c(g,1,0,"="+v.f):c(g,1,0,""):c(g,0,k,"V");break;case"b":c(g,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":c(g,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=to(v.z||gs[14],vi(li(v.v)))),c(g,0,v.w,"V");break;default:c(g,1,0,"")}}}c(g,-1,0,"EOD");var D=`\r
`,A=g.join(D);return A}}();return{to_workbook:r,to_sheet:n,from_sheet:s}}(),qk=function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(v,_){for(var y=v.split(`
`),E=-1,S=-1,k=0,D=[];k!==y.length;++k){var A=y[k].trim().split(":");if(A[0]==="cell"){var M=Ls(A[1]);if(D.length<=M.r)for(E=D.length;E<=M.r;++E)D[E]||(D[E]=[]);switch(E=M.r,S=M.c,A[2]){case"t":D[E][S]=t(A[3]);break;case"v":D[E][S]=+A[3];break;case"vtf":var Y=A[A.length-1];case"vtc":switch(A[3]){case"nl":D[E][S]=!!+A[4];break;default:D[E][S]=+A[4];break}A[2]=="vtf"&&(D[E][S]=[D[E][S],Y])}}}return _&&_.sheetRows&&(D=D.slice(0,_.sheetRows)),D}function r(v,_){return eu(n(v,_),_)}function s(v,_){return Wo(r(v,_),_)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function g(v){if(!v||!v["!ref"])return"";for(var _=[],y=[],E,S="",k=Mi(v["!ref"]),D=Array.isArray(v),A=k.s.r;A<=k.e.r;++A)for(var M=k.s.c;M<=k.e.c;++M)if(S=Br({r:A,c:M}),E=D?(v[A]||[])[M]:v[S],!(!E||E.v==null||E.t==="z")){switch(y=["cell",S,"t"],E.t){case"s":case"str":y.push(e(E.v));break;case"n":E.f?(y[2]="vtf",y[3]="n",y[4]=E.v,y[5]=e(E.f)):(y[2]="v",y[3]=E.v);break;case"b":y[2]="vt"+(E.f?"f":"c"),y[3]="nl",y[4]=E.v?"1":"0",y[5]=e(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var Y=vi(li(E.v));y[2]="vtc",y[3]="nd",y[4]=""+Y,y[5]=E.w||to(E.z||gs[14],Y);break;case"e":continue}_.push(y.join(":"))}return _.push("sheet:c:"+(k.e.c-k.s.c+1)+":r:"+(k.e.r-k.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function p(v){return[l,c,d,c,g(v),h].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:p}}(),p8=function(){function t(p,v,_,y,E){E.raw?v[_][y]=p:p===""||(p==="TRUE"?v[_][y]=!0:p==="FALSE"?v[_][y]=!1:isNaN(hl(p))?isNaN(Ad(p).getDate())?v[_][y]=p:v[_][y]=li(p):v[_][y]=hl(p))}function e(p,v){var _=v||{},y=[];if(!p||p.length===0)return y;for(var E=p.split(/[\r\n]/),S=E.length-1;S>=0&&E[S].length===0;)--S;for(var k=10,D=0,A=0;A<=S;++A)D=E[A].indexOf(" "),D==-1?D=E[A].length:D++,k=Math.max(k,D);for(A=0;A<=S;++A){y[A]=[];var M=0;for(t(E[A].slice(0,k).trim(),y,A,M,_),M=1;M<=(E[A].length-k)/10+1;++M)t(E[A].slice(k+(M-1)*10,k+M*10).trim(),y,A,M,_)}return _.sheetRows&&(y=y.slice(0,_.sheetRows)),y}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(p){for(var v={},_=!1,y=0,E=0;y<p.length;++y)(E=p.charCodeAt(y))==34?_=!_:!_&&E in n&&(v[E]=(v[E]||0)+1);E=[];for(y in v)Object.prototype.hasOwnProperty.call(v,y)&&E.push([v[y],y]);if(!E.length){v=r;for(y in v)Object.prototype.hasOwnProperty.call(v,y)&&E.push([v[y],y])}return E.sort(function(S,k){return S[0]-k[0]||r[S[1]]-r[k[1]]}),n[E.pop()[1]]||44}function l(p,v){var _=v||{},y="",E=_.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(y=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(y=p.charAt(4),p=p.slice(6)):y=s(p.slice(0,1024)):_&&_.FS?y=_.FS:y=s(p.slice(0,1024));var k=0,D=0,A=0,M=0,Y=0,Q=y.charCodeAt(0),K=!1,z=0,ee=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var se=_.dateNF!=null?OD(_.dateNF):null;function oe(){var Ee=p.slice(M,Y),re={};if(Ee.charAt(0)=='"'&&Ee.charAt(Ee.length-1)=='"'&&(Ee=Ee.slice(1,-1).replace(/""/g,'"')),Ee.length===0)re.t="z";else if(_.raw)re.t="s",re.v=Ee;else if(Ee.trim().length===0)re.t="s",re.v=Ee;else if(Ee.charCodeAt(0)==61)Ee.charCodeAt(1)==34&&Ee.charCodeAt(Ee.length-1)==34?(re.t="s",re.v=Ee.slice(2,-1).replace(/""/g,'"')):hM(Ee)?(re.t="n",re.f=Ee.slice(1)):(re.t="s",re.v=Ee);else if(Ee=="TRUE")re.t="b",re.v=!0;else if(Ee=="FALSE")re.t="b",re.v=!1;else if(!isNaN(A=hl(Ee)))re.t="n",_.cellText!==!1&&(re.w=Ee),re.v=A;else if(!isNaN(Ad(Ee).getDate())||se&&Ee.match(se)){re.z=_.dateNF||gs[14];var me=0;se&&Ee.match(se)&&(Ee=DD(Ee,_.dateNF,Ee.match(se)||[]),me=1),_.cellDates?(re.t="d",re.v=li(Ee,me)):(re.t="n",re.v=vi(li(Ee,me))),_.cellText!==!1&&(re.w=to(re.z,re.v instanceof Date?vi(re.v):re.v)),_.cellNF||delete re.z}else re.t="s",re.v=Ee;if(re.t=="z"||(_.dense?(E[k]||(E[k]=[]),E[k][D]=re):E[Br({c:D,r:k})]=re),M=Y+1,ee=p.charCodeAt(M),S.e.c<D&&(S.e.c=D),S.e.r<k&&(S.e.r=k),z==Q)++D;else if(D=0,++k,_.sheetRows&&_.sheetRows<=k)return!0}e:for(;Y<p.length;++Y)switch(z=p.charCodeAt(Y)){case 34:ee===34&&(K=!K);break;case Q:case 10:case 13:if(!K&&oe())break e;break}return Y-M>0&&oe(),E["!ref"]=ws(S),E}function c(p,v){return!(v&&v.PRN)||v.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?l(p,v):eu(e(p,v),v)}function d(p,v){var _="",y=v.type=="string"?[0,0,0,0]:NP(p,v);switch(v.type){case"base64":_=xl(p);break;case"binary":_=p;break;case"buffer":v.codepage==65001?_=p.toString("utf8"):v.codepage&&typeof Qh<"u"||(_=jr&&Buffer.isBuffer(p)?p.toString("binary"):Jd(p));break;case"array":_=L0(p);break;case"string":_=p;break;default:throw new Error("Unrecognized type "+v.type)}return y[0]==239&&y[1]==187&&y[2]==191?_=hd(_.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?_=hd(_):v.type=="binary"&&typeof Qh<"u",_.slice(0,19)=="socialcalc:version:"?qk.to_sheet(v.type=="string"?_:hd(_),v):c(_,v)}function h(p,v){return Wo(d(p,v),v)}function g(p){for(var v=[],_=ns(p["!ref"]),y,E=Array.isArray(p),S=_.s.r;S<=_.e.r;++S){for(var k=[],D=_.s.c;D<=_.e.c;++D){var A=Br({r:S,c:D});if(y=E?(p[S]||[])[D]:p[A],!y||y.v==null){k.push("          ");continue}for(var M=(y.w||(vl(y),y.w)||"").slice(0,10);M.length<10;)M+=" ";k.push(M+(D===0?" ":""))}v.push(k.join(""))}return v.join(`
`)}return{to_workbook:h,to_sheet:d,from_sheet:g}}(),y2=function(){function t(L,F,C){if(L){Oi(L,L.l||0);for(var H=C.Enum||P;L.l<L.length;){var de=L.read_shift(2),tt=H[de]||H[65535],rt=L.read_shift(2),Ze=L.l+rt,Et=tt.f&&tt.f(L,rt,C);if(L.l=Ze,F(Et,tt,de))return}}}function e(L,F){switch(F.type){case"base64":return n(ca(xl(L)),F);case"binary":return n(ca(L),F);case"buffer":case"array":return n(L,F)}throw"Unsupported type "+F.type}function n(L,F){if(!L)return L;var C=F||{},H=C.dense?[]:{},de="Sheet1",tt="",rt=0,Ze={},Et=[],bn=[],Mt={s:{r:0,c:0},e:{r:0,c:0}},_n=C.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)C.Enum=P,t(L,function(Ue,Nn,Xt){switch(Xt){case 0:C.vers=Ue,Ue>=4096&&(C.qpro=!0);break;case 6:Mt=Ue;break;case 204:Ue&&(tt=Ue);break;case 222:tt=Ue;break;case 15:case 51:C.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:Xt==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=C.dateNF||gs[14],C.cellDates&&(Ue[1].t="d",Ue[1].v=dk(Ue[1].v))),C.qpro&&Ue[3]>rt&&(H["!ref"]=ws(Mt),Ze[de]=H,Et.push(de),H=C.dense?[]:{},Mt={s:{r:0,c:0},e:{r:0,c:0}},rt=Ue[3],de=tt||"Sheet"+(rt+1),tt="");var xt=C.dense?(H[Ue[0].r]||[])[Ue[0].c]:H[Br(Ue[0])];if(xt){xt.t=Ue[1].t,xt.v=Ue[1].v,Ue[1].z!=null&&(xt.z=Ue[1].z),Ue[1].f!=null&&(xt.f=Ue[1].f);break}C.dense?(H[Ue[0].r]||(H[Ue[0].r]=[]),H[Ue[0].r][Ue[0].c]=Ue[1]):H[Br(Ue[0])]=Ue[1];break}},C);else if(L[2]==26||L[2]==14)C.Enum=ce,L[2]==14&&(C.qpro=!0,L.l=0),t(L,function(Ue,Nn,Xt){switch(Xt){case 204:de=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>rt&&(H["!ref"]=ws(Mt),Ze[de]=H,Et.push(de),H=C.dense?[]:{},Mt={s:{r:0,c:0},e:{r:0,c:0}},rt=Ue[3],de="Sheet"+(rt+1)),_n>0&&Ue[0].r>=_n)break;C.dense?(H[Ue[0].r]||(H[Ue[0].r]=[]),H[Ue[0].r][Ue[0].c]=Ue[1]):H[Br(Ue[0])]=Ue[1],Mt.e.c<Ue[0].c&&(Mt.e.c=Ue[0].c),Mt.e.r<Ue[0].r&&(Mt.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(bn[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:bn[Ue[0]]=Ue[1],Ue[0]==rt&&(de=Ue[1]);break}},C);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(H["!ref"]=ws(Mt),Ze[tt||de]=H,Et.push(tt||de),!bn.length)return{SheetNames:Et,Sheets:Ze};for(var Jt={},on=[],Kt=0;Kt<bn.length;++Kt)Ze[Et[Kt]]?(on.push(bn[Kt]||Et[Kt]),Jt[bn[Kt]]=Ze[bn[Kt]]||Ze[Et[Kt]]):(on.push(bn[Kt]),Jt[bn[Kt]]={"!ref":"A1"});return{SheetNames:on,Sheets:Jt}}function r(L,F){var C=F||{};if(+C.codepage>=0&&Cd(+C.codepage),C.type=="string")throw new Error("Cannot write WK1 to JS string");var H=gi(),de=ns(L["!ref"]),tt=Array.isArray(L),rt=[];nn(H,0,l(1030)),nn(H,6,h(de));for(var Ze=Math.min(de.e.r,8191),Et=de.s.r;Et<=Ze;++Et)for(var bn=Gs(Et),Mt=de.s.c;Mt<=de.e.c;++Mt){Et===de.s.r&&(rt[Mt]=ei(Mt));var _n=rt[Mt]+bn,Jt=tt?(L[Et]||[])[Mt]:L[_n];if(!(!Jt||Jt.t=="z"))if(Jt.t=="n")(Jt.v|0)==Jt.v&&Jt.v>=-32768&&Jt.v<=32767?nn(H,13,y(Et,Mt,Jt.v)):nn(H,14,S(Et,Mt,Jt.v));else{var on=vl(Jt);nn(H,15,v(Et,Mt,on.slice(0,239)))}}return nn(H,1),H.end()}function s(L,F){var C=F||{};if(+C.codepage>=0&&Cd(+C.codepage),C.type=="string")throw new Error("Cannot write WK3 to JS string");var H=gi();nn(H,0,c(L));for(var de=0,tt=0;de<L.SheetNames.length;++de)(L.Sheets[L.SheetNames[de]]||{})["!ref"]&&nn(H,27,jt(L.SheetNames[de],tt++));var rt=0;for(de=0;de<L.SheetNames.length;++de){var Ze=L.Sheets[L.SheetNames[de]];if(!(!Ze||!Ze["!ref"])){for(var Et=ns(Ze["!ref"]),bn=Array.isArray(Ze),Mt=[],_n=Math.min(Et.e.r,8191),Jt=Et.s.r;Jt<=_n;++Jt)for(var on=Gs(Jt),Kt=Et.s.c;Kt<=Et.e.c;++Kt){Jt===Et.s.r&&(Mt[Kt]=ei(Kt));var Ue=Mt[Kt]+on,Nn=bn?(Ze[Jt]||[])[Kt]:Ze[Ue];if(!(!Nn||Nn.t=="z"))if(Nn.t=="n")nn(H,23,oe(Jt,Kt,rt,Nn.v));else{var Xt=vl(Nn);nn(H,22,z(Jt,Kt,rt,Xt.slice(0,239)))}}++rt}}return nn(H,1),H.end()}function l(L){var F=dt(2);return F.write_shift(2,L),F}function c(L){var F=dt(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var C=0,H=0,de=0,tt=0;tt<L.SheetNames.length;++tt){var rt=L.SheetNames[tt],Ze=L.Sheets[rt];if(!(!Ze||!Ze["!ref"])){++de;var Et=Mi(Ze["!ref"]);C<Et.e.r&&(C=Et.e.r),H<Et.e.c&&(H=Et.e.c)}}return C>8191&&(C=8191),F.write_shift(2,C),F.write_shift(1,de),F.write_shift(1,H),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function d(L,F,C){var H={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&C.qpro?(H.s.c=L.read_shift(1),L.l++,H.s.r=L.read_shift(2),H.e.c=L.read_shift(1),L.l++,H.e.r=L.read_shift(2),H):(H.s.c=L.read_shift(2),H.s.r=L.read_shift(2),F==12&&C.qpro&&(L.l+=2),H.e.c=L.read_shift(2),H.e.r=L.read_shift(2),F==12&&C.qpro&&(L.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function h(L){var F=dt(8);return F.write_shift(2,L.s.c),F.write_shift(2,L.s.r),F.write_shift(2,L.e.c),F.write_shift(2,L.e.r),F}function g(L,F,C){var H=[{c:0,r:0},{t:"n",v:0},0,0];return C.qpro&&C.vers!=20768?(H[0].c=L.read_shift(1),H[3]=L.read_shift(1),H[0].r=L.read_shift(2),L.l+=2):(H[2]=L.read_shift(1),H[0].c=L.read_shift(2),H[0].r=L.read_shift(2)),H}function p(L,F,C){var H=L.l+F,de=g(L,F,C);if(de[1].t="s",C.vers==20768){L.l++;var tt=L.read_shift(1);return de[1].v=L.read_shift(tt,"utf8"),de}return C.qpro&&L.l++,de[1].v=L.read_shift(H-L.l,"cstr"),de}function v(L,F,C){var H=dt(7+C.length);H.write_shift(1,255),H.write_shift(2,F),H.write_shift(2,L),H.write_shift(1,39);for(var de=0;de<H.length;++de){var tt=C.charCodeAt(de);H.write_shift(1,tt>=128?95:tt)}return H.write_shift(1,0),H}function _(L,F,C){var H=g(L,F,C);return H[1].v=L.read_shift(2,"i"),H}function y(L,F,C){var H=dt(7);return H.write_shift(1,255),H.write_shift(2,F),H.write_shift(2,L),H.write_shift(2,C,"i"),H}function E(L,F,C){var H=g(L,F,C);return H[1].v=L.read_shift(8,"f"),H}function S(L,F,C){var H=dt(13);return H.write_shift(1,255),H.write_shift(2,F),H.write_shift(2,L),H.write_shift(8,C,"f"),H}function k(L,F,C){var H=L.l+F,de=g(L,F,C);if(de[1].v=L.read_shift(8,"f"),C.qpro)L.l=H;else{var tt=L.read_shift(2);Y(L.slice(L.l,L.l+tt),de),L.l+=tt}return de}function D(L,F,C){var H=F&32768;return F&=-32769,F=(H?L:0)+(F>=8192?F-16384:F),(H?"":"$")+(C?ei(F):Gs(F))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},M=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Y(L,F){Oi(L,0);for(var C=[],H=0,de="",tt="",rt="",Ze="";L.l<L.length;){var Et=L[L.l++];switch(Et){case 0:C.push(L.read_shift(8,"f"));break;case 1:tt=D(F[0].c,L.read_shift(2),!0),de=D(F[0].r,L.read_shift(2),!1),C.push(tt+de);break;case 2:{var bn=D(F[0].c,L.read_shift(2),!0),Mt=D(F[0].r,L.read_shift(2),!1);tt=D(F[0].c,L.read_shift(2),!0),de=D(F[0].r,L.read_shift(2),!1),C.push(bn+Mt+":"+tt+de)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:C.push("("+C.pop()+")");break;case 5:C.push(L.read_shift(2));break;case 6:{for(var _n="";Et=L[L.l++];)_n+=String.fromCharCode(Et);C.push('"'+_n.replace(/"/g,'""')+'"')}break;case 8:C.push("-"+C.pop());break;case 23:C.push("+"+C.pop());break;case 22:C.push("NOT("+C.pop()+")");break;case 20:case 21:Ze=C.pop(),rt=C.pop(),C.push(["AND","OR"][Et-20]+"("+rt+","+Ze+")");break;default:if(Et<32&&M[Et])Ze=C.pop(),rt=C.pop(),C.push(rt+M[Et]+Ze);else if(A[Et]){if(H=A[Et][1],H==69&&(H=L[L.l++]),H>C.length){console.error("WK1 bad formula parse 0x"+Et.toString(16)+":|"+C.join("|")+"|");return}var Jt=C.slice(-H);C.length-=H,C.push(A[Et][0]+"("+Jt.join(",")+")")}else return Et<=7?console.error("WK1 invalid opcode "+Et.toString(16)):Et<=24?console.error("WK1 unsupported op "+Et.toString(16)):Et<=30?console.error("WK1 invalid opcode "+Et.toString(16)):Et<=115?console.error("WK1 unsupported function opcode "+Et.toString(16)):console.error("WK1 unrecognized opcode "+Et.toString(16))}}C.length==1?F[1].f=""+C[0]:console.error("WK1 bad formula parse |"+C.join("|")+"|")}function Q(L){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=L.read_shift(2),F[3]=L[L.l++],F[0].c=L[L.l++],F}function K(L,F){var C=Q(L);return C[1].t="s",C[1].v=L.read_shift(F-4,"cstr"),C}function z(L,F,C,H){var de=dt(6+H.length);de.write_shift(2,L),de.write_shift(1,C),de.write_shift(1,F),de.write_shift(1,39);for(var tt=0;tt<H.length;++tt){var rt=H.charCodeAt(tt);de.write_shift(1,rt>=128?95:rt)}return de.write_shift(1,0),de}function ee(L,F){var C=Q(L);C[1].v=L.read_shift(2);var H=C[1].v>>1;if(C[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return C[1].v=H,C}function se(L,F){var C=Q(L),H=L.read_shift(4),de=L.read_shift(4),tt=L.read_shift(2);if(tt==65535)return H===0&&de===3221225472?(C[1].t="e",C[1].v=15):H===0&&de===3489660928?(C[1].t="e",C[1].v=42):C[1].v=0,C;var rt=tt&32768;return tt=(tt&32767)-16446,C[1].v=(1-rt*2)*(de*Math.pow(2,tt+32)+H*Math.pow(2,tt)),C}function oe(L,F,C,H){var de=dt(14);if(de.write_shift(2,L),de.write_shift(1,C),de.write_shift(1,F),H==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var tt=0,rt=0,Ze=0,Et=0;return H<0&&(tt=1,H=-H),rt=Math.log2(H)|0,H/=Math.pow(2,rt-31),Et=H>>>0,(Et&2147483648)==0&&(H/=2,++rt,Et=H>>>0),H-=Et,Et|=2147483648,Et>>>=0,H*=Math.pow(2,32),Ze=H>>>0,de.write_shift(4,Ze),de.write_shift(4,Et),rt+=16383+(tt?32768:0),de.write_shift(2,rt),de}function Ee(L,F){var C=se(L);return L.l+=F-14,C}function re(L,F){var C=Q(L),H=L.read_shift(4);return C[1].v=H>>6,C}function me(L,F){var C=Q(L),H=L.read_shift(8,"f");return C[1].v=H,C}function je(L,F){var C=me(L);return L.l+=F-10,C}function We(L,F){return L[L.l+F-1]==0?L.read_shift(F,"cstr"):""}function ae(L,F){var C=L[L.l++];C>F-1&&(C=F-1);for(var H="";H.length<C;)H+=String.fromCharCode(L[L.l++]);return H}function Le(L,F,C){if(!(!C.qpro||F<21)){var H=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var de=L.read_shift(F-21,"cstr");return[H,de]}}function Re(L,F){for(var C={},H=L.l+F;L.l<H;){var de=L.read_shift(2);if(de==14e3){for(C[de]=[0,""],C[de][0]=L.read_shift(2);L[L.l];)C[de][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return C}function jt(L,F){var C=dt(5+L.length);C.write_shift(2,14e3),C.write_shift(2,F);for(var H=0;H<L.length;++H){var de=L.charCodeAt(H);C[C.l++]=de>127?95:de}return C[C.l++]=0,C}var P={0:{n:"BOF",f:$k},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:k},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:We},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:K},23:{n:"NUMBER17",f:se},24:{n:"NUMBER18",f:ee},25:{n:"FORMULA19",f:Ee},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:re},38:{n:"??"},39:{n:"NUMBER27",f:me},40:{n:"FORMULA28",f:je},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:We},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}}(),m8=/^\s|\s$|[\t\n\r]/;function Xk(t,e){if(!e.bookSST)return"";var n=[Es];n[n.length]=Zt("sst",null,{xmlns:Qc[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var s=t[r],l="<si>";s.r?l+=s.r:(l+="<t",s.t||(s.t=""),s.t.match(m8)&&(l+=' xml:space="preserve"'),l+=">"+zr(s.t)+"</t>"),l+="</si>",n[n.length]=l}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function x8(t){return[t.read_shift(4),t.read_shift(4)]}function v8(t,e){return e||(e=dt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var y8=cR;function b8(t){var e=gi();At(e,159,v8(t));for(var n=0;n<t.length;++n)At(e,19,y8(t[n]));return At(e,160),e.end()}function _8(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Jk(t){var e=0,n,r=_8(t),s=r.length+1,l,c,d,h,g;for(n=Mo(s),n[0]=r.length,l=1;l!=s;++l)n[l]=r[l-1];for(l=s-1;l>=0;--l)c=n[l],d=(e&16384)===0?0:1,h=e<<1&32767,g=d|h,e=g^c;return e^52811}var S8=function(){function t(s,l){switch(l.type){case"base64":return e(xl(s),l);case"binary":return e(s,l);case"buffer":return e(jr&&Buffer.isBuffer(s)?s.toString("binary"):Jd(s),l);case"array":return e(L0(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){var c=l||{},d=c.dense?[]:{},h=s.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var g={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(p,v){Array.isArray(d)&&(d[v]=[]);for(var _=/\\\w+\b/g,y=0,E,S=-1;E=_.exec(p);){switch(E[0]){case"\\cell":var k=p.slice(y,_.lastIndex-E[0].length);if(k[0]==" "&&(k=k.slice(1)),++S,k.length){var D={v:k,t:"s"};Array.isArray(d)?d[v][S]=D:d[Br({r:v,c:S})]=D}break}y=_.lastIndex}S>g.e.c&&(g.e.c=S)}),d["!ref"]=ws(g),d}function n(s,l){return Wo(t(s,l),l)}function r(s){for(var l=["{\\rtf1\\ansi"],c=ns(s["!ref"]),d,h=Array.isArray(s),g=c.s.r;g<=c.e.r;++g){l.push("\\trowd\\trautofit1");for(var p=c.s.c;p<=c.e.c;++p)l.push("\\cellx"+(p+1));for(l.push("\\pard\\intbl"),p=c.s.c;p<=c.e.c;++p){var v=Br({r:g,c:p});d=h?(s[g]||[])[p]:s[v],!(!d||d.v==null&&(!d.f||d.F))&&(l.push(" "+(d.w||(vl(d),d.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function b2(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var w8=6,gl=w8;function o0(t){return Math.floor((t+Math.round(128/gl)/256)*gl)}function c0(t){return Math.floor((t-5)/gl*100+.5)/100}function px(t){return Math.round((t*gl+5)/gl*256)/256}function T1(t){t.width?(t.wpx=o0(t.width),t.wch=c0(t.wpx),t.MDW=gl):t.wpx?(t.wch=c0(t.wpx),t.width=px(t.wch),t.MDW=gl):typeof t.wch=="number"&&(t.width=px(t.wch),t.wpx=o0(t.width),t.MDW=gl),t.customWidth&&delete t.customWidth}var E8=96,Kk=E8;function u0(t){return t*96/Kk}function Zk(t){return t*Kk/96}function k8(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Zt("numFmt",null,{numFmtId:r,formatCode:zr(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Zt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function T8(t){var e=[];return e[e.length]=Zt("cellXfs",null),t.forEach(function(n){e[e.length]=Zt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Zt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Qk(t,e){var n=[Es,Zt("styleSheet",null,{xmlns:Qc[0],"xmlns:vt":Ms.vt})],r;return t.SSF&&(r=k8(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=T8(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function N8(t,e){var n=t.read_shift(2),r=ti(t);return[n,r]}function C8(t,e,n){n||(n=dt(6+4*e.length)),n.write_shift(2,t),Is(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function j8(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=mR(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var l=t.read_shift(2);switch(l===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var c=t.read_shift(1);c!=0&&(r.underline=c);var d=t.read_shift(1);d>0&&(r.family=d);var h=t.read_shift(1);switch(h>0&&(r.charset=h),t.l++,r.color=pR(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ti(t),r}function A8(t,e){e||(e=dt(25+4*32)),e.write_shift(2,t.sz*20),xR(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),a0(t.color,e);var r=0;return r=2,e.write_shift(1,r),Is(t.name,e),e.length>e.l?e.slice(0,e.l):e}var O8=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],um,D8=Fa;function _2(t,e){e||(e=dt(4*3+8*7+16*1)),um||(um=g1(O8));var n=um[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(a0({auto:1},e),a0({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function R8(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}function eT(t,e,n){n||(n=dt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Ju(t,e){return e||(e=dt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var M8=Fa;function L8(t,e){return e||(e=dt(51)),e.write_shift(1,0),Ju(null,e),Ju(null,e),Ju(null,e),Ju(null,e),Ju(null,e),e.length>e.l?e.slice(0,e.l):e}function I8(t,e){return e||(e=dt(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),i0(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function P8(t,e,n){var r=dt(2052);return r.write_shift(4,t),i0(e,r),i0(n,r),r.length>r.l?r.slice(0,r.l):r}function F8(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++n}),n!=0&&(At(t,615,fa(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&At(t,44,C8(s,e[s]))}),At(t,616))}}function z8(t){var e=1;At(t,611,fa(e)),At(t,43,A8({sz:12,color:{theme:1},name:"Calibri",family:2})),At(t,612)}function B8(t){var e=2;At(t,603,fa(e)),At(t,45,_2({patternType:"none"})),At(t,45,_2({patternType:"gray125"})),At(t,604)}function H8(t){var e=1;At(t,613,fa(e)),At(t,46,L8()),At(t,614)}function U8(t){var e=1;At(t,626,fa(e)),At(t,47,eT({numFmtId:0},65535)),At(t,627)}function $8(t,e){At(t,617,fa(e.length)),e.forEach(function(n){At(t,47,eT(n,0))}),At(t,618)}function W8(t){var e=1;At(t,619,fa(e)),At(t,48,I8({xfId:0,name:"Normal"})),At(t,620)}function V8(t){var e=0;At(t,505,fa(e)),At(t,506)}function Y8(t){var e=0;At(t,508,P8(e,"TableStyleMedium9","PivotStyleMedium4")),At(t,509)}function G8(t,e){var n=gi();return At(n,278),F8(n,t.SSF),z8(n),B8(n),H8(n),U8(n),$8(n,e.cellXfs),W8(n),V8(n),Y8(n),At(n,279),n.end()}function tT(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Es];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function q8(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ti(t)}}function X8(t){var e=dt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Is(t.name,e),e.slice(0,e.l)}function J8(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function K8(t){var e=dt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function Z8(t,e){var n=dt(8+2*e.length);return n.write_shift(4,t),Is(e,n),n.slice(0,n.l)}function Q8(t){return t.l+=4,t.read_shift(4)!=0}function eM(t,e){var n=dt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function tM(){var t=gi();return At(t,332),At(t,334,fa(1)),At(t,335,X8({name:"XLDAPR",version:12e4,flags:3496657072})),At(t,336),At(t,339,Z8(1,"XLDAPR")),At(t,52),At(t,35,fa(514)),At(t,4096,fa(0)),At(t,4097,Gi(1)),At(t,36),At(t,53),At(t,340),At(t,337,eM(1)),At(t,51,K8([[1,0]])),At(t,338),At(t,333),t.end()}function nT(){var t=[Es];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function nM(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Br(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Dc=1024;function rT(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Zt("xml",null,{"xmlns:v":Di.v,"xmlns:o":Di.o,"xmlns:x":Di.x,"xmlns:mv":Di.mv}).replace(/\/>/,">"),Zt("o:shapelayout",Zt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Zt("v:shapetype",[Zt("v:stroke",null,{joinstyle:"miter"}),Zt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Dc<t*1e3;)Dc+=1e3;return e.forEach(function(l){var c=Ls(l[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var h=d.type=="gradient"?Zt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,g=Zt("v:fill",h,d),p={on:"t",obscured:"t"};++Dc,s=s.concat(["<v:shape"+Dd({id:"_x0000_s"+Dc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",g,Zt("v:shadow",null,p),Zt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ys("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),Ys("x:AutoFill","False"),Ys("x:Row",String(c.r)),Ys("x:Column",String(c.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function sT(t){var e=[Es,Zt("comments",null,{xmlns:Qc[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var l=zr(s.a);n.indexOf(l)==-1&&(n.push(l),e.push("<author>"+l+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var s=0,l=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(s=n.indexOf(zr(h.a))),l.push(h.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),l.length<=1)e.push(Ys("t",zr(l[0]||"")));else{for(var c=`Comment:
    `+l[0]+`
`,d=1;d<l.length;++d)c+=`Reply:
    `+l[d]+`
`;e.push(Ys("t",zr(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function rM(t,e,n){var r=[Es,Zt("ThreadedComments",null,{xmlns:Ms.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var l="";(s[1]||[]).forEach(function(c,d){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var h={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};d==0?l=h.id:h.parentId=l,c.ID=h.id,c.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),r.push(Zt("threadedComment",Ys("text",c.t||""),h))})}),r.push("</ThreadedComments>"),r.join("")}function sM(t){var e=[Es,Zt("personList",null,{xmlns:Ms.TCMNT,"xmlns:x":Qc[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Zt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function iM(t){var e={};e.iauthor=t.read_shift(4);var n=qo(t);return e.rfx=n.s,e.ref=Br(n.s),t.l+=16,e}function aM(t,e){return e==null&&(e=dt(36)),e.write_shift(4,t[1].iauthor),tu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var lM=ti;function oM(t){return Is(t.slice(0,54))}function cM(t){var e=gi(),n=[];return At(e,628),At(e,630),t.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),At(e,632,oM(s.a)))})}),At(e,631),At(e,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var l={s:Ls(r[0]),e:Ls(r[0])};At(e,635,aM([l,s])),s.t&&s.t.length>0&&At(e,637,dR(s)),At(e,636),delete s.iauthor})}),At(e,634),At(e,629),e.end()}function uM(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Wr.utils.cfb_add(t,s,e.FileIndex[r].content)}})}var iT=["xlsb","xlsm","xlam","biff8","xla"],dM=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,l,c){var d=!1,h=!1;l.length==0?h=!0:l.charAt(0)=="["&&(h=!0,l=l.slice(1,-1)),c.length==0?d=!0:c.charAt(0)=="["&&(d=!0,c=c.slice(1,-1));var g=l.length>0?parseInt(l,10)|0:0,p=c.length>0?parseInt(c,10)|0:0;return d?p+=e.c:--p,h?g+=e.r:--g,s+(d?"":"$")+ei(p)+(h?"":"$")+Gs(g)}return function(s,l){return e=l,s.replace(t,n)}}(),N1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,C1=function(){return function(e,n){return e.replace(N1,function(r,s,l,c,d,h){var g=_1(c)-(l?0:n.c),p=b1(h)-(d?0:n.r),v=p==0?"":d?p+1:"["+p+"]",_=g==0?"":l?g+1:"["+g+"]";return s+"R"+v+"C"+_})}}();function fM(t,e){return t.replace(N1,function(n,r,s,l,c,d){return r+(s=="$"?s+l:ei(_1(l)+e.c))+(c=="$"?c+d:Gs(b1(d)+e.r))})}function hM(t){return t.length!=1}function Ss(t){t.l+=1}function no(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function aT(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return lT(t);n.biff==12&&(r=4)}var s=t.read_shift(r),l=t.read_shift(r),c=no(t),d=no(t);return{s:{r:s,c:c[0],cRel:c[1],rRel:c[2]},e:{r:l,c:d[0],cRel:d[1],rRel:d[2]}}}function lT(t){var e=no(t),n=no(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function gM(t,e,n){if(n.biff<8)return lT(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),l=no(t),c=no(t);return{s:{r,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function oT(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return pM(t);var r=t.read_shift(n&&n.biff==12?4:2),s=no(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function pM(t){var e=no(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function mM(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function xM(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return vM(t);var s=t.read_shift(r>=12?4:2),l=t.read_shift(2),c=(l&16384)>>14,d=(l&32768)>>15;if(l&=16383,d==1)for(;s>524287;)s-=1048576;if(c==1)for(;l>8191;)l=l-16384;return{r:s,c:l,cRel:c,rRel:d}}function vM(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function yM(t,e,n){var r=(t[t.l++]&96)>>5,s=aT(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function bM(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),l=8;if(n)switch(n.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}var c=aT(t,l,n);return[r,s,c]}function _M(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function SM(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),l=8;if(n)switch(n.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}return t.l+=l,[r,s]}function wM(t,e,n){var r=(t[t.l++]&96)>>5,s=gM(t,e-1,n);return[r,s]}function EM(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function S2(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function kM(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],l=0;l<=r;++l)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function TM(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function NM(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function CM(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function jM(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function cT(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function AM(t){return t.read_shift(2),cT(t)}function OM(t){return t.read_shift(2),cT(t)}function DM(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=oT(t,0,n);return[r,s]}function RM(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=xM(t,0,n);return[r,s]}function MM(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var l=oT(t,0,n);return[r,s,l]}function LM(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[L6[s],fT[s],r]}function IM(t,e,n){var r=t[t.l++],s=t.read_shift(1),l=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:PM(t);return[s,(l[0]===0?fT:M6)[l[1]]]}function PM(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function FM(t,e,n){t.l+=n&&n.biff==2?3:4}function zM(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function BM(t){return t.l++,Qd[t.read_shift(1)]}function HM(t){return t.l++,t.read_shift(2)}function UM(t){return t.l++,t.read_shift(1)!==0}function $M(t){return t.l++,nu(t)}function WM(t,e,n){return t.l++,Vk(t,e-1,n)}function VM(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=MR(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Qd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=nu(t);break;case 2:n[1]=FR(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function YM(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],l=0;l!=r;++l)s.push((n.biff==12?qo:HR)(t));return s}function GM(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var l=0,c=[];l!=r&&(c[l]=[]);++l)for(var d=0;d!=s;++d)c[l][d]=VM(t,n.biff);return c}function qM(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,l=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,l]}function XM(t,e,n){if(n.biff==5)return JM(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),l=t.read_shift(4);return[r,s,l]}function JM(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function KM(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function ZM(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function QM(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function e6(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),l=4;if(n)switch(n.biff){case 5:l=15;break;case 12:l=6;break}return t.l+=l,[r,s]}var t6=Fa,n6=Fa,r6=Fa;function ef(t,e,n){return t.l+=2,[mM(t)]}function j1(t){return t.l+=6,[]}var s6=ef,i6=j1,a6=j1,l6=ef;function uT(t){return t.l+=2,[$k(t),t.read_shift(2)&1]}var o6=ef,c6=uT,u6=j1,d6=ef,f6=ef,h6=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function g6(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),l=t.read_shift(2),c=h6[n>>2&31];return{ixti:e,coltype:n&3,rt:c,idx:r,c:s,C:l}}function p6(t){return t.l+=2,[t.read_shift(4)]}function m6(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function x6(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function v6(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function y6(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function b6(t){return t.l+=4,[0,0]}var w2={1:{n:"PtgExp",f:zM},2:{n:"PtgTbl",f:r6},3:{n:"PtgAdd",f:Ss},4:{n:"PtgSub",f:Ss},5:{n:"PtgMul",f:Ss},6:{n:"PtgDiv",f:Ss},7:{n:"PtgPower",f:Ss},8:{n:"PtgConcat",f:Ss},9:{n:"PtgLt",f:Ss},10:{n:"PtgLe",f:Ss},11:{n:"PtgEq",f:Ss},12:{n:"PtgGe",f:Ss},13:{n:"PtgGt",f:Ss},14:{n:"PtgNe",f:Ss},15:{n:"PtgIsect",f:Ss},16:{n:"PtgUnion",f:Ss},17:{n:"PtgRange",f:Ss},18:{n:"PtgUplus",f:Ss},19:{n:"PtgUminus",f:Ss},20:{n:"PtgPercent",f:Ss},21:{n:"PtgParen",f:Ss},22:{n:"PtgMissArg",f:Ss},23:{n:"PtgStr",f:WM},26:{n:"PtgSheet",f:m6},27:{n:"PtgEndSheet",f:x6},28:{n:"PtgErr",f:BM},29:{n:"PtgBool",f:UM},30:{n:"PtgInt",f:HM},31:{n:"PtgNum",f:$M},32:{n:"PtgArray",f:EM},33:{n:"PtgFunc",f:LM},34:{n:"PtgFuncVar",f:IM},35:{n:"PtgName",f:qM},36:{n:"PtgRef",f:DM},37:{n:"PtgArea",f:yM},38:{n:"PtgMemArea",f:KM},39:{n:"PtgMemErr",f:t6},40:{n:"PtgMemNoMem",f:n6},41:{n:"PtgMemFunc",f:ZM},42:{n:"PtgRefErr",f:QM},43:{n:"PtgAreaErr",f:_M},44:{n:"PtgRefN",f:RM},45:{n:"PtgAreaN",f:wM},46:{n:"PtgMemAreaN",f:v6},47:{n:"PtgMemNoMemN",f:y6},57:{n:"PtgNameX",f:XM},58:{n:"PtgRef3d",f:MM},59:{n:"PtgArea3d",f:bM},60:{n:"PtgRefErr3d",f:e6},61:{n:"PtgAreaErr3d",f:SM},255:{}},_6={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},S6={1:{n:"PtgElfLel",f:uT},2:{n:"PtgElfRw",f:d6},3:{n:"PtgElfCol",f:s6},6:{n:"PtgElfRwV",f:f6},7:{n:"PtgElfColV",f:l6},10:{n:"PtgElfRadical",f:o6},11:{n:"PtgElfRadicalS",f:u6},13:{n:"PtgElfColS",f:i6},15:{n:"PtgElfColSV",f:a6},16:{n:"PtgElfRadicalLel",f:c6},25:{n:"PtgList",f:g6},29:{n:"PtgSxName",f:p6},255:{}},w6={0:{n:"PtgAttrNoop",f:b6},1:{n:"PtgAttrSemi",f:jM},2:{n:"PtgAttrIf",f:NM},4:{n:"PtgAttrChoose",f:kM},8:{n:"PtgAttrGoto",f:TM},16:{n:"PtgAttrSum",f:FM},32:{n:"PtgAttrBaxcel",f:S2},33:{n:"PtgAttrBaxcel",f:S2},64:{n:"PtgAttrSpace",f:AM},65:{n:"PtgAttrSpaceSemi",f:OM},128:{n:"PtgAttrIfError",f:CM},255:{}};function E6(t,e,n,r){if(r.biff<8)return Fa(t,e);for(var s=t.l+e,l=[],c=0;c!==n.length;++c)switch(n[c][0]){case"PtgArray":n[c][1]=GM(t,0,r),l.push(n[c][1]);break;case"PtgMemArea":n[c][2]=YM(t,n[c][1],r),l.push(n[c][2]);break;case"PtgExp":r&&r.biff==12&&(n[c][1][1]=t.read_shift(4),l.push(n[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[c][0]}return e=s-t.l,e!==0&&l.push(Fa(t,e)),l}function k6(t,e,n){for(var r=t.l+e,s,l,c=[];r!=t.l;)e=r-t.l,l=t[t.l],s=w2[l]||w2[_6[l]],(l===24||l===25)&&(s=(l===24?S6:w6)[t[t.l+1]]),!s||!s.f?Fa(t,e):c.push([s.n,s.f(t,e,n)]);return c}function T6(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],l=0;l<r.length;++l){var c=r[l];if(c)switch(c[0]){case 2:s.push('"'+c[1].replace(/"/g,'""')+'"');break;default:s.push(c[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var N6={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function C6(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function dT(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function E2(t,e,n){var r=dT(t,e,n);return r=="#REF"?r:C6(r,n)}function Wc(t,e,n,r,s){var l=s&&s.biff||8,c={s:{c:0,r:0}},d=[],h,g,p,v=0,_=0,y,E="";if(!t[0]||!t[0][0])return"";for(var S=-1,k="",D=0,A=t[0].length;D<A;++D){var M=t[0][D];switch(M[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=d.pop(),g=d.pop(),S>=0){switch(t[0][S][1][0]){case 0:k=hs(" ",t[0][S][1][1]);break;case 1:k=hs("\r",t[0][S][1][1]);break;default:if(k="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}g=g+k,S=-1}d.push(g+N6[M[0]]+h);break;case"PtgIsect":h=d.pop(),g=d.pop(),d.push(g+" "+h);break;case"PtgUnion":h=d.pop(),g=d.pop(),d.push(g+","+h);break;case"PtgRange":h=d.pop(),g=d.pop(),d.push(g+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=pd(M[1][1],c,s),d.push(md(p,l));break;case"PtgRefN":p=n?pd(M[1][1],n,s):M[1][1],d.push(md(p,l));break;case"PtgRef3d":v=M[1][1],p=pd(M[1][2],c,s),E=E2(r,v,s),d.push(E+"!"+md(p,l));break;case"PtgFunc":case"PtgFuncVar":var Y=M[1][0],Q=M[1][1];Y||(Y=0),Y&=127;var K=Y==0?[]:d.slice(-Y);d.length-=Y,Q==="User"&&(Q=K.shift()),d.push(Q+"("+K.join(",")+")");break;case"PtgBool":d.push(M[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(M[1]);break;case"PtgNum":d.push(String(M[1]));break;case"PtgStr":d.push('"'+M[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(M[1]);break;case"PtgAreaN":y=o2(M[1][1],n?{s:n}:c,s),d.push(om(y,s));break;case"PtgArea":y=o2(M[1][1],c,s),d.push(om(y,s));break;case"PtgArea3d":v=M[1][1],y=M[1][2],E=E2(r,v,s),d.push(E+"!"+om(y,s));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=M[1][2];var z=(r.names||[])[_-1]||(r[0]||[])[_],ee=z?z.Name:"SH33TJSNAME"+String(_);ee&&ee.slice(0,6)=="_xlfn."&&!s.xlfn&&(ee=ee.slice(6)),d.push(ee);break;case"PtgNameX":var se=M[1][1];_=M[1][2];var oe;if(s.biff<=5)se<0&&(se=-se),r[se]&&(oe=r[se][_]);else{var Ee="";if(((r[se]||[])[0]||[])[0]==14849||(((r[se]||[])[0]||[])[0]==1025?r[se][_]&&r[se][_].itab>0&&(Ee=r.SheetNames[r[se][_].itab-1]+"!"):Ee=r.SheetNames[_-1]+"!"),r[se]&&r[se][_])Ee+=r[se][_].Name;else if(r[0]&&r[0][_])Ee+=r[0][_].Name;else{var re=(dT(r,se,s)||"").split(";;");re[_-1]?Ee=re[_-1]:Ee+="SH33TJSERRX"}d.push(Ee);break}oe||(oe={Name:"SH33TJSERRY"}),d.push(oe.Name);break;case"PtgParen":var me="(",je=")";if(S>=0){switch(k="",t[0][S][1][0]){case 2:me=hs(" ",t[0][S][1][1])+me;break;case 3:me=hs("\r",t[0][S][1][1])+me;break;case 4:je=hs(" ",t[0][S][1][1])+je;break;case 5:je=hs("\r",t[0][S][1][1])+je;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}S=-1}d.push(me+d.pop()+je);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":p={c:M[1][1],r:M[1][0]};var We={c:n.c,r:n.r};if(r.sharedf[Br(p)]){var ae=r.sharedf[Br(p)];d.push(Wc(ae,c,We,r,s))}else{var Le=!1;for(h=0;h!=r.arrayf.length;++h)if(g=r.arrayf[h],!(p.c<g[0].s.c||p.c>g[0].e.c)&&!(p.r<g[0].s.r||p.r>g[0].e.r)){d.push(Wc(g[1],c,We,r,s)),Le=!0;break}Le||d.push(M[1])}break;case"PtgArray":d.push("{"+T6(M[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=D;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+M[1].idx+"[#"+M[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(M));default:throw new Error("Unrecognized Formula Token: "+String(M))}var Re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&S>=0&&Re.indexOf(t[0][D][0])==-1){M=t[0][S];var jt=!0;switch(M[1][0]){case 4:jt=!1;case 0:k=hs(" ",M[1][1]);break;case 5:jt=!1;case 1:k=hs("\r",M[1][1]);break;default:if(k="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+M[1][0])}d.push((jt?k:"")+d.pop()+(jt?"":k)),S=-1}}if(d.length>1&&s.WTF)throw new Error("bad formula stack");return d[0]}function j6(t){if(t==null){var e=dt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Lo(t);return Lo(0)}function A6(t,e,n,r,s){var l=Io(e,n,s),c=j6(t.v),d=dt(6),h=33;d.write_shift(2,h),d.write_shift(4,0);for(var g=dt(t.bf.length),p=0;p<t.bf.length;++p)g[p]=t.bf[p];var v=Vs([l,c,d,g]);return v}function I0(t,e,n){var r=t.read_shift(4),s=k6(t,r,n),l=t.read_shift(4),c=l>0?E6(t,l,s,n):null;return[s,c]}var O6=I0,P0=I0,D6=I0,R6=I0,M6={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fT={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},L6={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function I6(t){var e="of:="+t.replace(N1,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function P6(t){return t.replace(/\./,"!")}var xd=typeof Map<"u";function A1(t,e,n){var r=0,s=t.length;if(n){if(xd?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var l=xd?n.get(e):n[e];r<l.length;++r)if(t[l[r]].t===e)return t.Count++,l[r]}}else for(;r<s;++r)if(t[r].t===e)return t.Count++,r;return t[s]={t:e},t.Count++,t.Unique++,n&&(xd?(n.has(e)||n.set(e,[]),n.get(e).push(s)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(s))),s}function F0(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(gl=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=c0(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=px(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function hT(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function io(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],s=60,l=t.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){ok(e.z,s),n.ssf[s]=e.z,n.revssf[e.z]=r=s;break}}for(s=0;s!=l;++s)if(t[s].numFmtId===r)return s;return t[l]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function F6(t,e,n){if(t&&t["!ref"]){var r=ns(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function z6(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+ws(t[n])+'"/>';return e+"</mergeCells>"}function B6(t,e,n,r,s){var l=!1,c={},d=null;if(r.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[n];try{e.Workbook&&(h=e.Workbook.Sheets[n].CodeName||h)}catch{}l=!0,c.codeName=Od(zr(h))}if(t&&t["!outline"]){var g={summaryBelow:1,summaryRight:1};t["!outline"].above&&(g.summaryBelow=0),t["!outline"].left&&(g.summaryRight=0),d=(d||"")+Zt("outlinePr",null,g)}!l&&!d||(s[s.length]=Zt("sheetPr",d,c))}var H6=["objects","scenarios","selectLockedCells","selectUnlockedCells"],U6=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function $6(t){var e={sheet:1};return H6.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),U6.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=Jk(t.password).toString(16).toUpperCase()),Zt("sheetProtection",null,e)}function W6(t){return hT(t),Zt("pageMargins",null,t)}function V6(t,e){for(var n=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(n[n.length]=Zt("col",null,F0(s,r)));return n[n.length]="</cols>",n.join("")}function Y6(t,e,n,r){var s=typeof t.ref=="string"?t.ref:ws(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,c=Mi(s);c.s.r==c.e.r&&(c.e.r=Mi(e["!ref"]).e.r,s=ws(c));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Zt("autoFilter",null,{ref:s})}function G6(t,e,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Zt("sheetViews",Zt("sheetView",null,s),{})}function q6(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",l=t.t,c=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Qd[t.v];break;case"d":r&&r.cellDates?s=li(t.v,-1).toISOString():(t=yi(t),t.t="n",s=""+(t.v=vi(li(t.v)))),typeof t.z>"u"&&(t.z=gs[14]);break;default:s=t.v;break}var d=Ys("v",zr(s)),h={r:e},g=io(r.cellXfs,t,r);switch(g!==0&&(h.s=g),t.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){d=Ys("v",""+A1(r.Strings,t.v,r.revStrings)),h.t="s";break}h.t="str";break}if(t.t!=l&&(t.t=l,t.v=c),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;d=Zt("f",zr(t.f),p)+(t.v!=null?d:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(h.cm=1),Zt("c",d,h)}function X6(t,e,n,r){var s=[],l=[],c=ns(t["!ref"]),d="",h,g="",p=[],v=0,_=0,y=t["!rows"],E=Array.isArray(t),S={r:g},k,D=-1;for(_=c.s.c;_<=c.e.c;++_)p[_]=ei(_);for(v=c.s.r;v<=c.e.r;++v){for(l=[],g=Gs(v),_=c.s.c;_<=c.e.c;++_){h=p[_]+g;var A=E?(t[v]||[])[_]:t[h];A!==void 0&&(d=q6(A,h,t,e))!=null&&l.push(d)}(l.length>0||y&&y[v])&&(S={r:g},y&&y[v]&&(k=y[v],k.hidden&&(S.hidden=1),D=-1,k.hpx?D=u0(k.hpx):k.hpt&&(D=k.hpt),D>-1&&(S.ht=D,S.customHeight=1),k.level&&(S.outlineLevel=k.level)),s[s.length]=Zt("row",l.join(""),S))}if(y)for(;v<y.length;++v)y&&y[v]&&(S={r:v+1},k=y[v],k.hidden&&(S.hidden=1),D=-1,k.hpx?D=u0(k.hpx):k.hpt&&(D=k.hpt),D>-1&&(S.ht=D,S.customHeight=1),k.level&&(S.outlineLevel=k.level),s[s.length]=Zt("row","",S));return s.join("")}function gT(t,e,n,r){var s=[Es,Zt("worksheet",null,{xmlns:Qc[0],"xmlns:r":Ms.r})],l=n.SheetNames[t],c=0,d="",h=n.Sheets[l];h==null&&(h={});var g=h["!ref"]||"A1",p=ns(g);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+g+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),g=ws(p)}r||(r={}),h["!comments"]=[];var v=[];B6(h,n,t,e,s),s[s.length]=Zt("dimension",null,{ref:g}),s[s.length]=G6(h,e,t,n),e.sheetFormat&&(s[s.length]=Zt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(s[s.length]=V6(h,h["!cols"])),s[c=s.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(d=X6(h,e),d.length>0&&(s[s.length]=d)),s.length>c+1&&(s[s.length]="</sheetData>",s[c]=s[c].replace("/>",">")),h["!protect"]&&(s[s.length]=$6(h["!protect"])),h["!autofilter"]!=null&&(s[s.length]=Y6(h["!autofilter"],h,n,t)),h["!merges"]!=null&&h["!merges"].length>0&&(s[s.length]=z6(h["!merges"]));var _=-1,y,E=-1;return h["!links"].length>0&&(s[s.length]="<hyperlinks>",h["!links"].forEach(function(S){S[1].Target&&(y={ref:S[0]},S[1].Target.charAt(0)!="#"&&(E=Fr(r,-1,zr(S[1].Target).replace(/#.*$/,""),Sr.HLINK),y["r:id"]="rId"+E),(_=S[1].Target.indexOf("#"))>-1&&(y.location=zr(S[1].Target.slice(_+1))),S[1].Tooltip&&(y.tooltip=zr(S[1].Tooltip)),s[s.length]=Zt("hyperlink",null,y))}),s[s.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(s[s.length]=W6(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=Ys("ignoredErrors",Zt("ignoredError",null,{numberStoredAsText:1,sqref:g}))),v.length>0&&(E=Fr(r,-1,"../drawings/drawing"+(t+1)+".xml",Sr.DRAW),s[s.length]=Zt("drawing",null,{"r:id":"rId"+E}),h["!drawing"]=v),h["!comments"].length>0&&(E=Fr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Sr.VML),s[s.length]=Zt("legacyDrawing",null,{"r:id":"rId"+E}),h["!legacy"]=E),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function J6(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var l=t.read_shift(1);return t.l=r,l&7&&(n.level=l&7),l&16&&(n.hidden=!0),l&32&&(n.hpt=s/20),n}function K6(t,e,n){var r=dt(145),s=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var l=320;s.hpx?l=u0(s.hpx)*20:s.hpt&&(l=s.hpt*20),r.write_shift(2,l),r.write_shift(1,0);var c=0;s.level&&(c|=s.level),s.hidden&&(c|=16),(s.hpx||s.hpt)&&(c|=32),r.write_shift(1,c),r.write_shift(1,0);var d=0,h=r.l;r.l+=4;for(var g={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var v=-1,_=-1,y=p<<10;y<p+1<<10;++y){g.c=y;var E=Array.isArray(n)?(n[g.r]||[])[g.c]:n[Br(g)];E&&(v<0&&(v=y),_=y)}v<0||(++d,r.write_shift(4,v),r.write_shift(4,_))}var S=r.l;return r.l=h,r.write_shift(4,d),r.l=S,r.length>r.l?r.slice(0,r.l):r}function Z6(t,e,n,r){var s=K6(r,n,e);(s.length>17||(e["!rows"]||[])[r])&&At(t,0,s)}var Q6=qo,eL=tu;function tL(){}function nL(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=fR(t),n}function rL(t,e,n){n==null&&(n=dt(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return a0({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),jk(t,n),n.slice(0,n.l)}function sL(t){var e=Qi(t);return[e]}function iL(t,e,n){return n==null&&(n=dt(8)),Vo(e,n)}function aL(t){var e=Yo(t);return[e]}function lL(t,e,n){return n==null&&(n=dt(4)),Go(e,n)}function oL(t){var e=Qi(t),n=t.read_shift(1);return[e,n,"b"]}function cL(t,e,n){return n==null&&(n=dt(9)),Vo(e,n),n.write_shift(1,t.v?1:0),n}function uL(t){var e=Yo(t),n=t.read_shift(1);return[e,n,"b"]}function dL(t,e,n){return n==null&&(n=dt(5)),Go(e,n),n.write_shift(1,t.v?1:0),n}function fL(t){var e=Qi(t),n=t.read_shift(1);return[e,n,"e"]}function hL(t,e,n){return n==null&&(n=dt(9)),Vo(e,n),n.write_shift(1,t.v),n}function gL(t){var e=Yo(t),n=t.read_shift(1);return[e,n,"e"]}function pL(t,e,n){return n==null&&(n=dt(8)),Go(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function mL(t){var e=Qi(t),n=t.read_shift(4);return[e,n,"s"]}function xL(t,e,n){return n==null&&(n=dt(12)),Vo(e,n),n.write_shift(4,e.v),n}function vL(t){var e=Yo(t),n=t.read_shift(4);return[e,n,"s"]}function yL(t,e,n){return n==null&&(n=dt(8)),Go(e,n),n.write_shift(4,e.v),n}function bL(t){var e=Qi(t),n=nu(t);return[e,n,"n"]}function _L(t,e,n){return n==null&&(n=dt(16)),Vo(e,n),Lo(t.v,n),n}function SL(t){var e=Yo(t),n=nu(t);return[e,n,"n"]}function wL(t,e,n){return n==null&&(n=dt(12)),Go(e,n),Lo(t.v,n),n}function EL(t){var e=Qi(t),n=Ak(t);return[e,n,"n"]}function kL(t,e,n){return n==null&&(n=dt(12)),Vo(e,n),Ok(t.v,n),n}function TL(t){var e=Yo(t),n=Ak(t);return[e,n,"n"]}function NL(t,e,n){return n==null&&(n=dt(8)),Go(e,n),Ok(t.v,n),n}function CL(t){var e=Qi(t),n=S1(t);return[e,n,"is"]}function jL(t){var e=Qi(t),n=ti(t);return[e,n,"str"]}function AL(t,e,n){return n==null&&(n=dt(12+4*t.v.length)),Vo(e,n),Is(t.v,n),n.length>n.l?n.slice(0,n.l):n}function OL(t){var e=Yo(t),n=ti(t);return[e,n,"str"]}function DL(t,e,n){return n==null&&(n=dt(8+4*t.v.length)),Go(e,n),Is(t.v,n),n.length>n.l?n.slice(0,n.l):n}function RL(t,e,n){var r=t.l+e,s=Qi(t);s.r=n["!row"];var l=t.read_shift(1),c=[s,l,"b"];if(n.cellFormula){t.l+=2;var d=P0(t,r-t.l,n);c[3]=Wc(d,null,s,n.supbooks,n)}else t.l=r;return c}function ML(t,e,n){var r=t.l+e,s=Qi(t);s.r=n["!row"];var l=t.read_shift(1),c=[s,l,"e"];if(n.cellFormula){t.l+=2;var d=P0(t,r-t.l,n);c[3]=Wc(d,null,s,n.supbooks,n)}else t.l=r;return c}function LL(t,e,n){var r=t.l+e,s=Qi(t);s.r=n["!row"];var l=nu(t),c=[s,l,"n"];if(n.cellFormula){t.l+=2;var d=P0(t,r-t.l,n);c[3]=Wc(d,null,s,n.supbooks,n)}else t.l=r;return c}function IL(t,e,n){var r=t.l+e,s=Qi(t);s.r=n["!row"];var l=ti(t),c=[s,l,"str"];if(n.cellFormula){t.l+=2;var d=P0(t,r-t.l,n);c[3]=Wc(d,null,s,n.supbooks,n)}else t.l=r;return c}var PL=qo,FL=tu;function zL(t,e){return e==null&&(e=dt(4)),e.write_shift(4,t),e}function BL(t,e){var n=t.l+e,r=qo(t),s=w1(t),l=ti(t),c=ti(t),d=ti(t);t.l=n;var h={rfx:r,relId:s,loc:l,display:d};return c&&(h.Tooltip=c),h}function HL(t,e){var n=dt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));tu({s:Ls(t[0]),e:Ls(t[0])},n),E1("rId"+e,n);var r=t[1].Target.indexOf("#"),s=r==-1?"":t[1].Target.slice(r+1);return Is(s||"",n),Is(t[1].Tooltip||"",n),Is("",n),n.slice(0,n.l)}function UL(){}function $L(t,e,n){var r=t.l+e,s=Dk(t),l=t.read_shift(1),c=[s];if(c[2]=l,n.cellFormula){var d=O6(t,r-t.l,n);c[1]=d}else t.l=r;return c}function WL(t,e,n){var r=t.l+e,s=qo(t),l=[s];if(n.cellFormula){var c=R6(t,r-t.l,n);l[1]=c,t.l=r}else t.l=r;return l}function VL(t,e,n){n==null&&(n=dt(18));var r=F0(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),n.write_shift(2,s),n}var pT=["left","right","top","bottom","header","footer"];function YL(t){var e={};return pT.forEach(function(n){e[n]=nu(t)}),e}function GL(t,e){return e==null&&(e=dt(6*8)),hT(t),pT.forEach(function(n){Lo(t[n],e)}),e}function qL(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function XL(t,e,n){n==null&&(n=dt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function JL(t){var e=dt(24);return e.write_shift(4,4),e.write_shift(4,1),tu(t,e),e}function KL(t,e){return e==null&&(e=dt(16*4+2)),e.write_shift(2,t.password?Jk(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function ZL(){}function QL(){}function eI(t,e,n,r,s,l,c){if(e.v===void 0)return!1;var d="";switch(e.t){case"b":d=e.v?"1":"0";break;case"d":e=yi(e),e.z=e.z||gs[14],e.v=vi(li(e.v)),e.t="n";break;case"n":case"e":d=""+e.v;break;default:d=e.v;break}var h={r:n,c:r};switch(h.s=io(s.cellXfs,e,s),e.l&&l["!links"].push([Br(h),e.l]),e.c&&l["!comments"].push([Br(h),e.c]),e.t){case"s":case"str":return s.bookSST?(d=A1(s.Strings,e.v,s.revStrings),h.t="s",h.v=d,c?At(t,18,yL(e,h)):At(t,7,xL(e,h))):(h.t="str",c?At(t,17,DL(e,h)):At(t,6,AL(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?At(t,13,NL(e,h)):At(t,2,kL(e,h)):c?At(t,16,wL(e,h)):At(t,5,_L(e,h)),!0;case"b":return h.t="b",c?At(t,15,dL(e,h)):At(t,4,cL(e,h)),!0;case"e":return h.t="e",c?At(t,14,pL(e,h)):At(t,3,hL(e,h)),!0}return c?At(t,12,lL(e,h)):At(t,1,iL(e,h)),!0}function tI(t,e,n,r){var s=ns(e["!ref"]||"A1"),l,c="",d=[];At(t,145);var h=Array.isArray(e),g=s.e.r;e["!rows"]&&(g=Math.max(s.e.r,e["!rows"].length-1));for(var p=s.s.r;p<=g;++p){c=Gs(p),Z6(t,e,s,p);var v=!1;if(p<=s.e.r)for(var _=s.s.c;_<=s.e.c;++_){p===s.s.r&&(d[_]=ei(_)),l=d[_]+c;var y=h?(e[p]||[])[_]:e[l];if(!y){v=!1;continue}v=eI(t,y,p,_,r,e,v)}}At(t,146)}function nI(t,e){!e||!e["!merges"]||(At(t,177,zL(e["!merges"].length)),e["!merges"].forEach(function(n){At(t,176,FL(n))}),At(t,178))}function rI(t,e){!e||!e["!cols"]||(At(t,390),e["!cols"].forEach(function(n,r){n&&At(t,60,VL(r,n))}),At(t,391))}function sI(t,e){!e||!e["!ref"]||(At(t,648),At(t,649,JL(ns(e["!ref"]))),At(t,650))}function iI(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var s=Fr(n,-1,r[1].Target.replace(/#.*$/,""),Sr.HLINK);At(t,494,HL(r,s))}}),delete e["!links"]}function aI(t,e,n,r){if(e["!comments"].length>0){var s=Fr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Sr.VML);At(t,551,E1("rId"+s)),e["!legacy"]=s}}function lI(t,e,n,r){if(e["!autofilter"]){var s=e["!autofilter"],l=typeof s.ref=="string"?s.ref:ws(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var c=n.Workbook.Names,d=Mi(l);d.s.r==d.e.r&&(d.e.r=Mi(e["!ref"]).e.r,l=ws(d));for(var h=0;h<c.length;++h){var g=c[h];if(g.Name=="_xlnm._FilterDatabase"&&g.Sheet==r){g.Ref="'"+n.SheetNames[r]+"'!"+l;break}}h==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+l}),At(t,161,tu(ns(l))),At(t,162)}}function oI(t,e,n){At(t,133),At(t,137,XL(e,n)),At(t,138),At(t,134)}function cI(t,e){e["!protect"]&&At(t,535,KL(e["!protect"]))}function uI(t,e,n,r){var s=gi(),l=n.SheetNames[t],c=n.Sheets[l]||{},d=l;try{n&&n.Workbook&&(d=n.Workbook.Sheets[t].CodeName||d)}catch{}var h=ns(c["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],At(s,129),(n.vbaraw||c["!outline"])&&At(s,147,rL(d,c["!outline"])),At(s,148,eL(h)),oI(s,c,n.Workbook),rI(s,c),tI(s,c,t,e),cI(s,c),lI(s,c,n,t),nI(s,c),iI(s,c,r),c["!margins"]&&At(s,476,GL(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&sI(s,c),aI(s,c,t,r),At(s,130),s.end()}function dI(t,e){t.l+=10;var n=ti(t);return{name:n}}var fI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function hI(t){return!t.Workbook||!t.Workbook.WBProps?"false":WD(t.Workbook.WBProps.date1904)?"true":"false"}var gI="][*?/\\".split("");function mT(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return gI.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function pI(t,e,n){t.forEach(function(r,s){mT(r);for(var l=0;l<s;++l)if(r==t[l])throw new Error("Duplicate Sheet Name: "+r);if(n){var c=e&&e[s]&&e[s].CodeName||r;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function mI(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];pI(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)F6(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function xT(t){var e=[Es];e[e.length]=Zt("workbook",null,{xmlns:Qc[0],"xmlns:r":Ms.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(fI.forEach(function(d){t.Workbook.WBProps[d[0]]!=null&&t.Workbook.WBProps[d[0]]!=d[1]&&(r[d[0]]=t.Workbook.WBProps[d[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Zt("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],l=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",l=0;l!=t.SheetNames.length&&!(!s[l]||!s[l].Hidden);++l);l==t.SheetNames.length&&(l=0),e[e.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",l=0;l!=t.SheetNames.length;++l){var c={name:zr(t.SheetNames[l].slice(0,31))};if(c.sheetId=""+(l+1),c["r:id"]="rId"+(l+1),s[l])switch(s[l].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=Zt("sheet",null,c)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(d){var h={name:d.Name};d.Comment&&(h.comment=d.Comment),d.Sheet!=null&&(h.localSheetId=""+d.Sheet),d.Hidden&&(h.hidden="1"),d.Ref&&(e[e.length]=Zt("definedName",zr(d.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function xI(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=gx(t),n.name=ti(t),n}function vI(t,e){return e||(e=dt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),E1(t.strRelID,e),Is(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function yI(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?ti(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function bI(t,e){e||(e=dt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),jk(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function _I(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),l=hR(t),c=D6(t,0,n),d=w1(t);t.l=r;var h={Name:l,Ptg:c};return s<268435455&&(h.Sheet=s),d&&(h.Comment=d),h}function SI(t,e){At(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};At(t,156,vI(s))}At(t,144)}function wI(t,e){e||(e=dt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Is("SheetJS",e),Is(Zh.version,e),Is(Zh.version,e),Is("7262",e),e.length>e.l?e.slice(0,e.l):e}function EI(t,e){e||(e=dt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function kI(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,s=-1,l=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&l==-1&&(l=r);l>s||(At(t,135),At(t,158,EI(s)),At(t,136))}}function TI(t,e){var n=gi();return At(n,131),At(n,128,wI()),At(n,153,bI(t.Workbook&&t.Workbook.WBProps||null)),kI(n,t),SI(n,t),At(n,132),n.end()}function NI(t,e,n){return(e.slice(-4)===".bin"?TI:xT)(t)}function CI(t,e,n,r,s){return(e.slice(-4)===".bin"?uI:gT)(t,n,r,s)}function jI(t,e,n){return(e.slice(-4)===".bin"?G8:Qk)(t,n)}function AI(t,e,n){return(e.slice(-4)===".bin"?b8:Xk)(t,n)}function OI(t,e,n){return(e.slice(-4)===".bin"?cM:sT)(t)}function DI(t){return(t.slice(-4)===".bin"?tM:nT)()}function RI(t,e){var n=[];return t.Props&&n.push(jR(t.Props,e)),t.Custprops&&n.push(AR(t.Props,t.Custprops)),n.join("")}function MI(){return""}function LI(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var l=[];l.push(Zt("NumberFormat",null,{"ss:Format":zr(gs[r.numFmtId])}));var c={"ss:ID":"s"+(21+s)};n.push(Zt("Style",l.join(""),c))}),Zt("Styles",n.join(""))}function vT(t){return Zt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+C1(t.Ref,{r:0,c:0})})}function II(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(vT(s)))}return Zt("Names",n.join(""))}function PI(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,l=[],c=0;c<s.length;++c){var d=s[c];d.Sheet==n&&(d.Name.match(/^_xlfn\./)||l.push(vT(d)))}return l.join("")}function FI(t,e,n,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Zt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Zt("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Zt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Zt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<n&&!(r.Workbook.Sheets[l]&&!r.Workbook.Sheets[l].Hidden);++l);l==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(Ys("ProtectContents","True")),t["!protect"].objects&&s.push(Ys("ProtectObjects","True")),t["!protect"].scenarios&&s.push(Ys("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(Ys("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(Ys("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){t["!protect"][c[0]]&&s.push("<"+c[1]+"/>")})),s.length==0?"":Zt("WorksheetOptions",s.join(""),{xmlns:Di.x})}function zI(t){return t.map(function(e){var n=$D(e.t||""),r=Zt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Zt("Comment",r,{"ss:Author":e.a})}).join("")}function BI(t,e,n,r,s,l,c){if(!t||t.v==null&&t.f==null)return"";var d={};if(t.f&&(d["ss:Formula"]="="+zr(C1(t.f,c))),t.F&&t.F.slice(0,e.length)==e){var h=Ls(t.F.slice(e.length+1));d["ss:ArrayRange"]="RC:R"+(h.r==c.r?"":"["+(h.r-c.r)+"]")+"C"+(h.c==c.c?"":"["+(h.c-c.c)+"]")}if(t.l&&t.l.Target&&(d["ss:HRef"]=zr(t.l.Target),t.l.Tooltip&&(d["x:HRefScreenTip"]=zr(t.l.Tooltip))),n["!merges"])for(var g=n["!merges"],p=0;p!=g.length;++p)g[p].s.c!=c.c||g[p].s.r!=c.r||(g[p].e.c>g[p].s.c&&(d["ss:MergeAcross"]=g[p].e.c-g[p].s.c),g[p].e.r>g[p].s.r&&(d["ss:MergeDown"]=g[p].e.r-g[p].s.r));var v="",_="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":v="Number",_=String(t.v);break;case"b":v="Boolean",_=t.v?"1":"0";break;case"e":v="Error",_=Qd[t.v];break;case"d":v="DateTime",_=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||gs[14]);break;case"s":v="String",_=UD(t.v||"");break}var y=io(r.cellXfs,t,r);d["ss:StyleID"]="s"+(21+y),d["ss:Index"]=c.c+1;var E=t.v!=null?_:"",S=t.t=="z"?"":'<Data ss:Type="'+v+'">'+E+"</Data>";return(t.c||[]).length>0&&(S+=zI(t.c)),Zt("Cell",S,d)}function HI(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Zk(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function UI(t,e,n,r){if(!t["!ref"])return"";var s=ns(t["!ref"]),l=t["!merges"]||[],c=0,d=[];t["!cols"]&&t["!cols"].forEach(function(k,D){T1(k);var A=!!k.width,M=F0(D,k),Y={"ss:Index":D+1};A&&(Y["ss:Width"]=o0(M.width)),k.hidden&&(Y["ss:Hidden"]="1"),d.push(Zt("Column",null,Y))});for(var h=Array.isArray(t),g=s.s.r;g<=s.e.r;++g){for(var p=[HI(g,(t["!rows"]||[])[g])],v=s.s.c;v<=s.e.c;++v){var _=!1;for(c=0;c!=l.length;++c)if(!(l[c].s.c>v)&&!(l[c].s.r>g)&&!(l[c].e.c<v)&&!(l[c].e.r<g)){(l[c].s.c!=v||l[c].s.r!=g)&&(_=!0);break}if(!_){var y={r:g,c:v},E=Br(y),S=h?(t[g]||[])[v]:t[E];p.push(BI(S,E,t,e,n,r,y))}}p.push("</Row>"),p.length>2&&d.push(p.join(""))}return d.join("")}function $I(t,e,n){var r=[],s=n.SheetNames[t],l=n.Sheets[s],c=l?PI(l,e,t,n):"";return c.length>0&&r.push("<Names>"+c+"</Names>"),c=l?UI(l,e,t,n):"",c.length>0&&r.push("<Table>"+c+"</Table>"),r.push(FI(l,e,t,n)),r.join("")}function WI(t,e){e||(e={}),t.SSF||(t.SSF=yi(gs)),t.SSF&&(R0(),D0(t.SSF),e.revssf=M0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],io(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(RI(t,e)),n.push(MI()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Zt("Worksheet",$I(r,e,t),{"ss:Name":zr(t.SheetNames[r])}));return n[2]=LI(t,e),n[3]=II(t),Es+Zt("Workbook",n.join(""),{xmlns:Di.ss,"xmlns:o":Di.o,"xmlns:x":Di.x,"xmlns:ss":Di.ss,"xmlns:dt":Di.dt,"xmlns:html":Di.html})}var dm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function VI(t,e){var n=[],r=[],s=[],l=0,c,d=K_(u2,"n"),h=K_(d2,"n");if(t.Props)for(c=qs(t.Props),l=0;l<c.length;++l)(Object.prototype.hasOwnProperty.call(d,c[l])?n:Object.prototype.hasOwnProperty.call(h,c[l])?r:s).push([c[l],t.Props[c[l]]]);if(t.Custprops)for(c=qs(t.Custprops),l=0;l<c.length;++l)Object.prototype.hasOwnProperty.call(t.Props||{},c[l])||(Object.prototype.hasOwnProperty.call(d,c[l])?n:Object.prototype.hasOwnProperty.call(h,c[l])?r:s).push([c[l],t.Custprops[c[l]]]);var g=[];for(l=0;l<s.length;++l)Uk.indexOf(s[l][0])>-1||zk.indexOf(s[l][0])>-1||s[l][1]!=null&&g.push(s[l]);r.length&&Wr.utils.cfb_add(e,"/SummaryInformation",m2(r,dm.SI,h,d2)),(n.length||g.length)&&Wr.utils.cfb_add(e,"/DocumentSummaryInformation",m2(n,dm.DSI,d,u2,g.length?g:null,dm.UDI))}function YI(t,e){var n=e||{},r=Wr.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Wr.utils.cfb_add(r,s,yT(t,n)),n.biff==8&&(t.Props||t.Custprops)&&VI(t,r),n.biff==8&&t.vbaraw&&uM(r,Wr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var GI={0:{f:J6},1:{f:sL},2:{f:EL},3:{f:fL},4:{f:oL},5:{f:bL},6:{f:jL},7:{f:mL},8:{f:IL},9:{f:LL},10:{f:RL},11:{f:ML},12:{f:aL},13:{f:TL},14:{f:gL},15:{f:uL},16:{f:SL},17:{f:OL},18:{f:vL},19:{f:S1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_I},40:{},42:{},43:{f:j8},44:{f:N8},45:{f:D8},46:{f:M8},47:{f:R8},48:{},49:{f:aR},50:{},51:{f:J8},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:l8},62:{f:CL},63:{f:nM},64:{f:ZL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Fa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qL},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:nL},148:{f:Q6,p:16},151:{f:UL},152:{},153:{f:yI},154:{},155:{},156:{f:xI},157:{},158:{},159:{T:1,f:x8},160:{T:-1},161:{T:1,f:qo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:PL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:q8},336:{T:-1},337:{f:Q8,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:gx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:t8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$L},427:{f:WL},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:YL},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tL},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:BL},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:gx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lM},633:{T:1},634:{T:-1},635:{T:1,f:iM},636:{T:-1},637:{f:uR},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:dI},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function nn(t,e,n,r){var s=e;if(!isNaN(s)){var l=r||(n||[]).length||0,c=t.next(4);c.write_shift(2,s),c.write_shift(2,l),l>0&&y1(n)&&t.push(n)}}function qI(t,e,n,r){var s=(n||[]).length||0;if(s<=8224)return nn(t,e,n,s);var l=e;if(!isNaN(l)){for(var c=n.parts||[],d=0,h=0,g=0;g+(c[d]||8224)<=8224;)g+=c[d]||8224,d++;var p=t.next(4);for(p.write_shift(2,l),p.write_shift(2,g),t.push(n.slice(h,h+g)),h+=g;h<s;){for(p=t.next(4),p.write_shift(2,60),g=0;g+(c[d]||8224)<=8224;)g+=c[d]||8224,d++;p.write_shift(2,g),t.push(n.slice(h,h+g)),h+=g}}}function tf(t,e,n){return t||(t=dt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function XI(t,e,n,r){var s=dt(9);return tf(s,t,e),Wk(n,r||"b",s),s}function JI(t,e,n){var r=dt(8+2*n.length);return tf(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function KI(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?vi(li(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?nn(t,2,d8(n,r,s)):nn(t,3,u8(n,r,s));return;case"b":case"e":nn(t,5,XI(n,r,e.v,e.t));return;case"s":case"str":nn(t,4,JI(n,r,(e.v||"").slice(0,255)));return}nn(t,1,tf(null,n,r))}function ZI(t,e,n,r){var s=Array.isArray(e),l=ns(e["!ref"]||"A1"),c,d="",h=[];if(l.e.c>255||l.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),c=ws(l)}for(var g=l.s.r;g<=l.e.r;++g){d=Gs(g);for(var p=l.s.c;p<=l.e.c;++p){g===l.s.r&&(h[p]=ei(p)),c=h[p]+d;var v=s?(e[g]||[])[p]:e[c];v&&KI(t,v,g,p)}}}function QI(t,e){for(var n=e||{},r=gi(),s=0,l=0;l<t.SheetNames.length;++l)t.SheetNames[l]==n.sheet&&(s=l);if(s==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return nn(r,n.biff==4?1033:n.biff==3?521:9,k1(t,16,n)),ZI(r,t.Sheets[t.SheetNames[s]],s,n),nn(r,10),r.end()}function eP(t,e,n){nn(t,49,GR({sz:12,name:"Arial"},n))}function tP(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&nn(t,1054,JR(s,e[s],n))})}function nP(t,e){var n=dt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),nn(t,2151,n),n=dt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Gk(ns(e["!ref"]||"A1"),n),n.write_shift(4,4),nn(t,2152,n)}function rP(t,e){for(var n=0;n<16;++n)nn(t,224,v2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){nn(t,224,v2(r,0,e))})}function sP(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];nn(t,440,s8(r)),r[1].Tooltip&&nn(t,2048,i8(r))}delete e["!links"]}function iP(t,e){if(e){var n=0;e.forEach(function(r,s){++n<=256&&r&&nn(t,125,o8(F0(s,r),s))})}}function aP(t,e,n,r,s){var l=16+io(s.cellXfs,e,s);if(e.v==null&&!e.bf){nn(t,513,Io(n,r,l));return}if(e.bf)nn(t,6,A6(e,n,r,s,l));else switch(e.t){case"d":case"n":var c=e.t=="d"?vi(li(e.v)):e.v;nn(t,515,e8(n,r,c,l));break;case"b":case"e":nn(t,517,QR(n,r,e.v,l,s,e.t));break;case"s":case"str":if(s.bookSST){var d=A1(s.Strings,e.v,s.revStrings);nn(t,253,qR(n,r,d,l))}else nn(t,516,XR(n,r,(e.v||"").slice(0,255),l,s));break;default:nn(t,513,Io(n,r,l))}}function lP(t,e,n){var r=gi(),s=n.SheetNames[t],l=n.Sheets[s]||{},c=(n||{}).Workbook||{},d=(c.Sheets||[])[t]||{},h=Array.isArray(l),g=e.biff==8,p,v="",_=[],y=ns(l["!ref"]||"A1"),E=g?65536:16384;if(y.e.c>255||y.e.r>=E){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,E-1)}nn(r,2057,k1(n,16,e)),nn(r,13,Gi(1)),nn(r,12,Gi(100)),nn(r,15,ai(!0)),nn(r,17,ai(!1)),nn(r,16,Lo(.001)),nn(r,95,ai(!0)),nn(r,42,ai(!1)),nn(r,43,ai(!1)),nn(r,130,Gi(1)),nn(r,128,ZR()),nn(r,131,ai(!1)),nn(r,132,ai(!1)),g&&iP(r,l["!cols"]),nn(r,512,KR(y,e)),g&&(l["!links"]=[]);for(var S=y.s.r;S<=y.e.r;++S){v=Gs(S);for(var k=y.s.c;k<=y.e.c;++k){S===y.s.r&&(_[k]=ei(k)),p=_[k]+v;var D=h?(l[S]||[])[k]:l[p];D&&(aP(r,D,S,k,e),g&&D.l&&l["!links"].push([p,D.l]))}}var A=d.CodeName||d.name||s;return g&&nn(r,574,YR((c.Views||[])[0])),g&&(l["!merges"]||[]).length&&nn(r,229,r8(l["!merges"])),g&&sP(r,l),nn(r,442,Yk(A)),g&&nP(r,l),nn(r,10),r.end()}function oP(t,e,n){var r=gi(),s=(t||{}).Workbook||{},l=s.Sheets||[],c=s.WBProps||{},d=n.biff==8,h=n.biff==5;if(nn(r,2057,k1(t,5,n)),n.bookType=="xla"&&nn(r,135),nn(r,225,d?Gi(1200):null),nn(r,193,RR(2)),h&&nn(r,191),h&&nn(r,192),nn(r,226),nn(r,92,UR("SheetJS",n)),nn(r,66,Gi(d?1200:1252)),d&&nn(r,353,Gi(0)),d&&nn(r,448),nn(r,317,c8(t.SheetNames.length)),d&&t.vbaraw&&nn(r,211),d&&t.vbaraw){var g=c.CodeName||"ThisWorkbook";nn(r,442,Yk(g))}nn(r,156,Gi(17)),nn(r,25,ai(!1)),nn(r,18,ai(!1)),nn(r,19,Gi(0)),d&&nn(r,431,ai(!1)),d&&nn(r,444,Gi(0)),nn(r,61,VR()),nn(r,64,ai(!1)),nn(r,141,Gi(0)),nn(r,34,ai(hI(t)=="true")),nn(r,14,ai(!0)),d&&nn(r,439,ai(!1)),nn(r,218,Gi(0)),eP(r,t,n),tP(r,t.SSF,n),rP(r,n),d&&nn(r,352,ai(!1));var p=r.end(),v=gi();d&&nn(v,140,a8()),d&&n.Strings&&qI(v,252,WR(n.Strings)),nn(v,10);var _=v.end(),y=gi(),E=0,S=0;for(S=0;S<t.SheetNames.length;++S)E+=(d?12:11)+(d?2:1)*t.SheetNames[S].length;var k=p.length+E+_.length;for(S=0;S<t.SheetNames.length;++S){var D=l[S]||{};nn(y,133,$R({pos:k,hs:D.Hidden||0,dt:0,name:t.SheetNames[S]},n)),k+=e[S].length}var A=y.end();if(E!=A.length)throw new Error("BS8 "+E+" != "+A.length);var M=[];return p.length&&M.push(p),A.length&&M.push(A),_.length&&M.push(_),Vs(M)}function cP(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=yi(gs)),t&&t.SSF&&(R0(),D0(t.SSF),n.revssf=M0(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,O1(n),n.cellXfs=[],io(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=lP(s,n,t);return r.unshift(oP(t,r,n)),Vs(r)}function yT(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var s=Mi(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var l=e||{};switch(l.biff||2){case 8:case 5:return cP(t,e);case 4:case 3:case 2:return QI(t,e)}throw new Error("invalid type "+l.bookType+" for BIFF")}function uP(t,e,n,r){for(var s=t["!merges"]||[],l=[],c=e.s.c;c<=e.e.c;++c){for(var d=0,h=0,g=0;g<s.length;++g)if(!(s[g].s.r>n||s[g].s.c>c)&&!(s[g].e.r<n||s[g].e.c<c)){if(s[g].s.r<n||s[g].s.c<c){d=-1;break}d=s[g].e.r-s[g].s.r+1,h=s[g].e.c-s[g].s.c+1;break}if(!(d<0)){var p=Br({r:n,c}),v=r.dense?(t[n]||[])[c]:t[p],_=v&&v.v!=null&&(v.h||HD(v.w||(vl(v),v.w)||""))||"",y={};d>1&&(y.rowspan=d),h>1&&(y.colspan=h),r.editable?_='<span contenteditable="true">'+_+"</span>":v&&(y["data-t"]=v&&v.t||"z",v.v!=null&&(y["data-v"]=v.v),v.z!=null&&(y["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+v.l.Target+'">'+_+"</a>")),y.id=(r.id||"sjs")+"-"+p,l.push(Zt("td",_,y))}}var E="<tr>";return E+l.join("")+"</tr>"}var dP='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',fP="</body></html>";function hP(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function bT(t,e){var n=e||{},r=n.header!=null?n.header:dP,s=n.footer!=null?n.footer:fP,l=[r],c=Mi(t["!ref"]);n.dense=Array.isArray(t),l.push(hP(t,c,n));for(var d=c.s.r;d<=c.e.r;++d)l.push(uP(t,c,d,n));return l.push("</table>"+s),l.join("")}function _T(t,e,n){var r=n||{},s=0,l=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var c=typeof r.origin=="string"?Ls(r.origin):r.origin;s=c.r,l=c.c}var d=e.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,d.length),g={s:{r:0,c:0},e:{r:s,c:l}};if(t["!ref"]){var p=Mi(t["!ref"]);g.s.r=Math.min(g.s.r,p.s.r),g.s.c=Math.min(g.s.c,p.s.c),g.e.r=Math.max(g.e.r,p.e.r),g.e.c=Math.max(g.e.c,p.e.c),s==-1&&(g.e.r=s=p.e.r+1)}var v=[],_=0,y=t["!rows"]||(t["!rows"]=[]),E=0,S=0,k=0,D=0,A=0,M=0;for(t["!cols"]||(t["!cols"]=[]);E<d.length&&S<h;++E){var Y=d[E];if(k2(Y)){if(r.display)continue;y[S]={hidden:!0}}var Q=Y.children;for(k=D=0;k<Q.length;++k){var K=Q[k];if(!(r.display&&k2(K))){var z=K.hasAttribute("data-v")?K.getAttribute("data-v"):K.hasAttribute("v")?K.getAttribute("v"):VD(K.innerHTML),ee=K.getAttribute("data-z")||K.getAttribute("z");for(_=0;_<v.length;++_){var se=v[_];se.s.c==D+l&&se.s.r<S+s&&S+s<=se.e.r&&(D=se.e.c+1-l,_=-1)}M=+K.getAttribute("colspan")||1,((A=+K.getAttribute("rowspan")||1)>1||M>1)&&v.push({s:{r:S+s,c:D+l},e:{r:S+s+(A||1)-1,c:D+l+(M||1)-1}});var oe={t:"s",v:z},Ee=K.getAttribute("data-t")||K.getAttribute("t")||"";z!=null&&(z.length==0?oe.t=Ee||"z":r.raw||z.trim().length==0||Ee=="s"||(z==="TRUE"?oe={t:"b",v:!0}:z==="FALSE"?oe={t:"b",v:!1}:isNaN(hl(z))?isNaN(Ad(z).getDate())||(oe={t:"d",v:li(z)},r.cellDates||(oe={t:"n",v:vi(oe.v)}),oe.z=r.dateNF||gs[14]):oe={t:"n",v:hl(z)})),oe.z===void 0&&ee!=null&&(oe.z=ee);var re="",me=K.getElementsByTagName("A");if(me&&me.length)for(var je=0;je<me.length&&!(me[je].hasAttribute("href")&&(re=me[je].getAttribute("href"),re.charAt(0)!="#"));++je);re&&re.charAt(0)!="#"&&(oe.l={Target:re}),r.dense?(t[S+s]||(t[S+s]=[]),t[S+s][D+l]=oe):t[Br({c:D+l,r:S+s})]=oe,g.e.c<D+l&&(g.e.c=D+l),D+=M}}++S}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),g.e.r=Math.max(g.e.r,S-1+s),t["!ref"]=ws(g),S>=h&&(t["!fullref"]=ws((g.e.r=d.length-E+S-1+s,g))),t}function ST(t,e){var n=e||{},r=n.dense?[]:{};return _T(r,t,e)}function gP(t,e){return Wo(ST(t,e),e)}function k2(t){var e="",n=pP(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function pP(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var mP=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Dd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Es+e}}(),T2=function(){var t=function(l){return zr(l).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(l,c,d){var h=[];h.push('      <table:table table:name="'+zr(c.SheetNames[d])+`" table:style-name="ta1">
`);var g=0,p=0,v=Mi(l["!ref"]||"A1"),_=l["!merges"]||[],y=0,E=Array.isArray(l);if(l["!cols"])for(p=0;p<=v.e.c;++p)h.push("        <table:table-column"+(l["!cols"][p]?' table:style-name="co'+l["!cols"][p].ods+'"':"")+`></table:table-column>
`);var S="",k=l["!rows"]||[];for(g=0;g<v.s.r;++g)S=k[g]?' table:style-name="ro'+k[g].ods+'"':"",h.push("        <table:table-row"+S+`></table:table-row>
`);for(;g<=v.e.r;++g){for(S=k[g]?' table:style-name="ro'+k[g].ods+'"':"",h.push("        <table:table-row"+S+`>
`),p=0;p<v.s.c;++p)h.push(e);for(;p<=v.e.c;++p){var D=!1,A={},M="";for(y=0;y!=_.length;++y)if(!(_[y].s.c>p)&&!(_[y].s.r>g)&&!(_[y].e.c<p)&&!(_[y].e.r<g)){(_[y].s.c!=p||_[y].s.r!=g)&&(D=!0),A["table:number-columns-spanned"]=_[y].e.c-_[y].s.c+1,A["table:number-rows-spanned"]=_[y].e.r-_[y].s.r+1;break}if(D){h.push(n);continue}var Y=Br({r:g,c:p}),Q=E?(l[g]||[])[p]:l[Y];if(Q&&Q.f&&(A["table:formula"]=zr(I6(Q.f)),Q.F&&Q.F.slice(0,Y.length)==Y)){var K=Mi(Q.F);A["table:number-matrix-columns-spanned"]=K.e.c-K.s.c+1,A["table:number-matrix-rows-spanned"]=K.e.r-K.s.r+1}if(!Q){h.push(e);continue}switch(Q.t){case"b":M=Q.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=Q.v?"true":"false";break;case"n":M=Q.w||String(Q.v||0),A["office:value-type"]="float",A["office:value"]=Q.v||0;break;case"s":case"str":M=Q.v==null?"":Q.v,A["office:value-type"]="string";break;case"d":M=Q.w||li(Q.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=li(Q.v).toISOString(),A["table:style-name"]="ce1";break;default:h.push(e);continue}var z=t(M);if(Q.l&&Q.l.Target){var ee=Q.l.Target;ee=ee.charAt(0)=="#"?"#"+P6(ee.slice(1)):ee,ee.charAt(0)!="#"&&!ee.match(/^\w+:/)&&(ee="../"+ee),z=Zt("text:a",z,{"xlink:href":ee.replace(/&/g,"&amp;")})}h.push("          "+Zt("table:table-cell",Zt("text:p",z,{}),A)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},s=function(l,c){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var d=0;c.SheetNames.map(function(g){return c.Sheets[g]}).forEach(function(g){if(g&&g["!cols"]){for(var p=0;p<g["!cols"].length;++p)if(g["!cols"][p]){var v=g["!cols"][p];if(v.width==null&&v.wpx==null&&v.wch==null)continue;T1(v),v.ods=d;var _=g["!cols"][p].wpx+"px";l.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+_+`"/>
`),l.push(`  </style:style>
`),++d}}});var h=0;c.SheetNames.map(function(g){return c.Sheets[g]}).forEach(function(g){if(g&&g["!rows"]){for(var p=0;p<g["!rows"].length;++p)if(g["!rows"][p]){g["!rows"][p].ods=h;var v=g["!rows"][p].hpx+"px";l.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),l.push(`  </style:style>
`),++h}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(c,d){var h=[Es],g=Dd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=Dd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(h.push("<office:document"+g+p+`>
`),h.push(Pk().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+g+`>
`),s(h,c),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var v=0;v!=c.SheetNames.length;++v)h.push(r(c.Sheets[c.SheetNames[v]],c,v));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),d.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}}();function wT(t,e){if(e.bookType=="fods")return T2(t,e);var n=p1(),r="",s=[],l=[];return r="mimetype",Zn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Zn(n,r,T2(t,e)),s.push([r,"text/xml"]),l.push([r,"ContentFile"]),r="styles.xml",Zn(n,r,mP(t,e)),s.push([r,"text/xml"]),l.push([r,"StylesFile"]),r="meta.xml",Zn(n,r,Es+Pk()),s.push([r,"text/xml"]),l.push([r,"MetadataFile"]),r="manifest.rdf",Zn(n,r,CR(l)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Zn(n,r,TR(s)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function d0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xP(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ca(Od(t))}function vP(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function ro(t){var e=t.reduce(function(s,l){return s+l.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function yP(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var l=0;s>=1;++l,s/=256)t[e+l]=s&255;t[e+15]|=n>=0?0:128}function Rd(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Pr(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Hc(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Cs(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=Rd(t,n),l=s&7;s=Math.floor(s/8);var c=0,d;if(s==0)break;switch(l){case 0:{for(var h=n[0];t[n[0]++]>=128;);d=t.slice(h,n[0])}break;case 5:c=4,d=t.slice(n[0],n[0]+c),n[0]+=c;break;case 1:c=8,d=t.slice(n[0],n[0]+c),n[0]+=c;break;case 2:c=Rd(t,n),d=t.slice(n[0],n[0]+c),n[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(s," at offset ").concat(r))}var g={data:d,type:l};e[s]==null?e[s]=[g]:e[s].push(g)}return e}function Us(t){var e=[];return t.forEach(function(n,r){n.forEach(function(s){s.data&&(e.push(Pr(r*8+s.type)),s.type==2&&e.push(Pr(s.data.length)),e.push(s.data))})}),ro(e)}function aa(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=Rd(t,r),l=Cs(t.slice(r[0],r[0]+s));r[0]+=s;var c={id:Hc(l[1][0].data),messages:[]};l[2].forEach(function(d){var h=Cs(d.data),g=Hc(h[3][0].data);c.messages.push({meta:h,data:t.slice(r[0],r[0]+g)}),r[0]+=g}),(e=l[3])!=null&&e[0]&&(c.merge=Hc(l[3][0].data)>>>0>0),n.push(c)}return n}function kc(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Pr(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Pr(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(c){s.push(c.data),c.meta[3]=[{type:0,data:Pr(c.data.length)}],r[2].push({data:Us(c.meta),type:2})});var l=Us(r);e.push(Pr(l.length)),e.push(l),s.forEach(function(c){return e.push(c)})}),ro(e)}function bP(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Rd(e,n),s=[];n[0]<e.length;){var l=e[n[0]]&3;if(l==0){var c=e[n[0]++]>>2;if(c<60)++c;else{var d=c-59;c=e[n[0]],d>1&&(c|=e[n[0]+1]<<8),d>2&&(c|=e[n[0]+2]<<16),d>3&&(c|=e[n[0]+3]<<24),c>>>=0,c++,n[0]+=d}s.push(e.slice(n[0],n[0]+c)),n[0]+=c;continue}else{var h=0,g=0;if(l==1?(g=(e[n[0]]>>2&7)+4,h=(e[n[0]++]&224)<<3,h|=e[n[0]++]):(g=(e[n[0]++]>>2)+1,l==2?(h=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(h=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[ro(s)],h==0)throw new Error("Invalid offset 0");if(h>s[0].length)throw new Error("Invalid offset beyond length");if(g>=h)for(s.push(s[0].slice(-h)),g-=h;g>=s[s.length-1].length;)s.push(s[s.length-1]),g-=s[s.length-1].length;s.push(s[0].slice(-h,-h+g))}}var p=ro(s);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function la(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(bP(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return ro(e)}function Tc(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),s=new Uint8Array(4);e.push(s);var l=Pr(r),c=l.length;e.push(l),r<=60?(c++,e.push(new Uint8Array([r-1<<2]))):r<=256?(c+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(c+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(c+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(c+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),c+=r,s[0]=0,s[1]=c&255,s[2]=c>>8&255,s[3]=c>>16&255,n+=r}return ro(e)}function fm(t,e){var n=new Uint8Array(32),r=d0(n),s=12,l=0;switch(n[0]=5,t.t){case"n":n[1]=2,yP(n,s,t.v),l|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,t.v?1:0,!0),l|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(s,e.indexOf(t.v),!0),l|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,l,!0),n.slice(0,s)}function hm(t,e){var n=new Uint8Array(32),r=d0(n),s=12,l=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(s,t.v,!0),l|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,t.v?1:0,!0),l|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(s,e.indexOf(t.v),!0),l|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,l,!0),n.slice(0,s)}function Wl(t){var e=Cs(t);return Rd(e[1][0].data)}function _P(t,e,n){var r,s,l,c;if(!((r=t[6])!=null&&r[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var d=((c=(l=t[8])==null?void 0:l[0])==null?void 0:c.data)&&Hc(t[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var h=0,g=d0(t[7][0].data),p=0,v=[],_=d0(t[4][0].data),y=0,E=[],S=0;S<e.length;++S){if(e[S]==null){g.setUint16(S*2,65535,!0),_.setUint16(S*2,65535);continue}g.setUint16(S*2,p,!0),_.setUint16(S*2,y,!0);var k,D;switch(typeof e[S]){case"string":k=fm({t:"s",v:e[S]},n),D=hm({t:"s",v:e[S]},n);break;case"number":k=fm({t:"n",v:e[S]},n),D=hm({t:"n",v:e[S]},n);break;case"boolean":k=fm({t:"b",v:e[S]},n),D=hm({t:"b",v:e[S]},n);break;default:throw new Error("Unsupported value "+e[S])}v.push(k),p+=k.length,E.push(D),y+=D.length,++h}for(t[2][0].data=Pr(h);S<t[7][0].data.length/2;++S)g.setUint16(S*2,65535,!0),_.setUint16(S*2,65535,!0);return t[6][0].data=ro(v),t[3][0].data=ro(E),h}function SP(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Mi(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(ws(r)));var l=f0(n,{range:r,header:1}),c=["~Sh33tJ5~"];l.forEach(function(F){return F.forEach(function(C){typeof C=="string"&&c.push(C)})});var d={},h=[],g=Wr.read(e.numbers,{type:"base64"});g.FileIndex.map(function(F,C){return[F,g.FullPaths[C]]}).forEach(function(F){var C=F[0],H=F[1];if(C.type==2&&C.name.match(/\.iwa/)){var de=C.content,tt=la(de),rt=aa(tt);rt.forEach(function(Ze){h.push(Ze.id),d[Ze.id]={deps:[],location:H,type:Hc(Ze.messages[0].meta[1][0].data)}})}}),h.sort(function(F,C){return F-C});var p=h.filter(function(F){return F>1}).map(function(F){return[F,Pr(F)]});g.FileIndex.map(function(F,C){return[F,g.FullPaths[C]]}).forEach(function(F){var C=F[0];if(F[1],!!C.name.match(/\.iwa/)){var H=aa(la(C.content));H.forEach(function(de){de.messages.forEach(function(tt){p.forEach(function(rt){de.messages.some(function(Ze){return Hc(Ze.meta[1][0].data)!=11006&&vP(Ze.data,rt[1])})&&d[rt[0]].deps.push(de.id)})})})}});for(var v=Wr.find(g,d[1].location),_=aa(la(v.content)),y,E=0;E<_.length;++E){var S=_[E];S.id==1&&(y=S)}var k=Wl(Cs(y.messages[0].data)[1][0].data);for(v=Wr.find(g,d[k].location),_=aa(la(v.content)),E=0;E<_.length;++E)S=_[E],S.id==k&&(y=S);for(k=Wl(Cs(y.messages[0].data)[2][0].data),v=Wr.find(g,d[k].location),_=aa(la(v.content)),E=0;E<_.length;++E)S=_[E],S.id==k&&(y=S);for(k=Wl(Cs(y.messages[0].data)[2][0].data),v=Wr.find(g,d[k].location),_=aa(la(v.content)),E=0;E<_.length;++E)S=_[E],S.id==k&&(y=S);var D=Cs(y.messages[0].data);{D[6][0].data=Pr(r.e.r+1),D[7][0].data=Pr(r.e.c+1);var A=Wl(D[46][0].data),M=Wr.find(g,d[A].location),Y=aa(la(M.content));{for(var Q=0;Q<Y.length&&Y[Q].id!=A;++Q);if(Y[Q].id!=A)throw"Bad ColumnRowUIDMapArchive";var K=Cs(Y[Q].messages[0].data);K[1]=[],K[2]=[],K[3]=[];for(var z=0;z<=r.e.c;++z){var ee=[];ee[1]=ee[2]=[{type:0,data:Pr(z+420690)}],K[1].push({type:2,data:Us(ee)}),K[2].push({type:0,data:Pr(z)}),K[3].push({type:0,data:Pr(z)})}K[4]=[],K[5]=[],K[6]=[];for(var se=0;se<=r.e.r;++se)ee=[],ee[1]=ee[2]=[{type:0,data:Pr(se+726270)}],K[4].push({type:2,data:Us(ee)}),K[5].push({type:0,data:Pr(se)}),K[6].push({type:0,data:Pr(se)});Y[Q].messages[0].data=Us(K)}M.content=Tc(kc(Y)),M.size=M.content.length,delete D[46];var oe=Cs(D[4][0].data);{oe[7][0].data=Pr(r.e.r+1);var Ee=Cs(oe[1][0].data),re=Wl(Ee[2][0].data);M=Wr.find(g,d[re].location),Y=aa(la(M.content));{if(Y[0].id!=re)throw"Bad HeaderStorageBucket";var me=Cs(Y[0].messages[0].data);for(se=0;se<l.length;++se){var je=Cs(me[2][0].data);je[1][0].data=Pr(se),je[4][0].data=Pr(l[se].length),me[2][se]={type:me[2][0].type,data:Us(je)}}Y[0].messages[0].data=Us(me)}M.content=Tc(kc(Y)),M.size=M.content.length;var We=Wl(oe[2][0].data);M=Wr.find(g,d[We].location),Y=aa(la(M.content));{if(Y[0].id!=We)throw"Bad HeaderStorageBucket";for(me=Cs(Y[0].messages[0].data),z=0;z<=r.e.c;++z)je=Cs(me[2][0].data),je[1][0].data=Pr(z),je[4][0].data=Pr(r.e.r+1),me[2][z]={type:me[2][0].type,data:Us(je)};Y[0].messages[0].data=Us(me)}M.content=Tc(kc(Y)),M.size=M.content.length;var ae=Wl(oe[4][0].data);(function(){for(var F=Wr.find(g,d[ae].location),C=aa(la(F.content)),H,de=0;de<C.length;++de){var tt=C[de];tt.id==ae&&(H=tt)}var rt=Cs(H.messages[0].data);{rt[3]=[];var Ze=[];c.forEach(function(Mt,_n){Ze[1]=[{type:0,data:Pr(_n)}],Ze[2]=[{type:0,data:Pr(1)}],Ze[3]=[{type:2,data:xP(Mt)}],rt[3].push({type:2,data:Us(Ze)})})}H.messages[0].data=Us(rt);var Et=kc(C),bn=Tc(Et);F.content=bn,F.size=F.content.length})();var Le=Cs(oe[3][0].data);{var Re=Le[1][0];delete Le[2];var jt=Cs(Re.data);{var P=Wl(jt[2][0].data);(function(){for(var F=Wr.find(g,d[P].location),C=aa(la(F.content)),H,de=0;de<C.length;++de){var tt=C[de];tt.id==P&&(H=tt)}var rt=Cs(H.messages[0].data);{delete rt[6],delete Le[7];var Ze=new Uint8Array(rt[5][0].data);rt[5]=[];for(var Et=0,bn=0;bn<=r.e.r;++bn){var Mt=Cs(Ze);Et+=_P(Mt,l[bn],c),Mt[1][0].data=Pr(bn),rt[5].push({data:Us(Mt),type:2})}rt[1]=[{type:0,data:Pr(r.e.c+1)}],rt[2]=[{type:0,data:Pr(r.e.r+1)}],rt[3]=[{type:0,data:Pr(Et)}],rt[4]=[{type:0,data:Pr(r.e.r+1)}]}H.messages[0].data=Us(rt);var _n=kc(C),Jt=Tc(_n);F.content=Jt,F.size=F.content.length})()}Re.data=Us(jt)}oe[3][0].data=Us(Le)}D[4][0].data=Us(oe)}y.messages[0].data=Us(D);var ce=kc(_),L=Tc(ce);return v.content=L,v.size=v.content.length,g}function wP(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function O1(t){wP([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function EP(t,e){return e.bookType=="ods"?wT(t,e):e.bookType=="numbers"?SP(t,e):e.bookType=="xlsb"?kP(t,e):TP(t,e)}function kP(t,e){Dc=1024,t&&!t.SSF&&(t.SSF=yi(gs)),t&&t.SSF&&(R0(),D0(t.SSF),e.revssf=M0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=iT.indexOf(e.bookType)>-1,s=Mk();O1(e=e||{});var l=p1(),c="",d=0;if(e.cellXfs=[],io(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",Zn(l,c,Fk(t.Props,e)),s.coreprops.push(c),Fr(e.rels,2,c,Sr.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],g=0;g<t.SheetNames.length;++g)(t.Workbook.Sheets[g]||{}).Hidden!=2&&h.push(t.SheetNames[g]);t.Props.SheetNames=h}for(t.Props.Worksheets=t.Props.SheetNames.length,Zn(l,c,Bk(t.Props)),s.extprops.push(c),Fr(e.rels,3,c,Sr.EXT_PROPS),t.Custprops!==t.Props&&qs(t.Custprops||{}).length>0&&(c="docProps/custom.xml",Zn(l,c,Hk(t.Custprops)),s.custprops.push(c),Fr(e.rels,4,c,Sr.CUST_PROPS)),d=1;d<=t.SheetNames.length;++d){var p={"!id":{}},v=t.Sheets[t.SheetNames[d-1]],_=(v||{})["!type"]||"sheet";switch(_){case"chart":default:c="xl/worksheets/sheet"+d+"."+n,Zn(l,c,CI(d-1,c,e,t,p)),s.sheets.push(c),Fr(e.wbrels,-1,"worksheets/sheet"+d+"."+n,Sr.WS[0])}if(v){var y=v["!comments"],E=!1,S="";y&&y.length>0&&(S="xl/comments"+d+"."+n,Zn(l,S,OI(y,S)),s.comments.push(S),Fr(p,-1,"../comments"+d+"."+n,Sr.CMNT),E=!0),v["!legacy"]&&E&&Zn(l,"xl/drawings/vmlDrawing"+d+".vml",rT(d,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&Zn(l,Ik(c),zc(p))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+n,Zn(l,c,AI(e.Strings,c,e)),s.strs.push(c),Fr(e.wbrels,-1,"sharedStrings."+n,Sr.SST)),c="xl/workbook."+n,Zn(l,c,NI(t,c)),s.workbooks.push(c),Fr(e.rels,1,c,Sr.WB),c="xl/theme/theme1.xml",Zn(l,c,tT(t.Themes,e)),s.themes.push(c),Fr(e.wbrels,-1,"theme/theme1.xml",Sr.THEME),c="xl/styles."+n,Zn(l,c,jI(t,c,e)),s.styles.push(c),Fr(e.wbrels,-1,"styles."+n,Sr.STY),t.vbaraw&&r&&(c="xl/vbaProject.bin",Zn(l,c,t.vbaraw),s.vba.push(c),Fr(e.wbrels,-1,"vbaProject.bin",Sr.VBA)),c="xl/metadata."+n,Zn(l,c,DI(c)),s.metadata.push(c),Fr(e.wbrels,-1,"metadata."+n,Sr.XLMETA),Zn(l,"[Content_Types].xml",Lk(s,e)),Zn(l,"_rels/.rels",zc(e.rels)),Zn(l,"xl/_rels/workbook."+n+".rels",zc(e.wbrels)),delete e.revssf,delete e.ssf,l}function TP(t,e){Dc=1024,t&&!t.SSF&&(t.SSF=yi(gs)),t&&t.SSF&&(R0(),D0(t.SSF),e.revssf=M0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=iT.indexOf(e.bookType)>-1,s=Mk();O1(e=e||{});var l=p1(),c="",d=0;if(e.cellXfs=[],io(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",Zn(l,c,Fk(t.Props,e)),s.coreprops.push(c),Fr(e.rels,2,c,Sr.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],g=0;g<t.SheetNames.length;++g)(t.Workbook.Sheets[g]||{}).Hidden!=2&&h.push(t.SheetNames[g]);t.Props.SheetNames=h}t.Props.Worksheets=t.Props.SheetNames.length,Zn(l,c,Bk(t.Props)),s.extprops.push(c),Fr(e.rels,3,c,Sr.EXT_PROPS),t.Custprops!==t.Props&&qs(t.Custprops||{}).length>0&&(c="docProps/custom.xml",Zn(l,c,Hk(t.Custprops)),s.custprops.push(c),Fr(e.rels,4,c,Sr.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,d=1;d<=t.SheetNames.length;++d){var v={"!id":{}},_=t.Sheets[t.SheetNames[d-1]],y=(_||{})["!type"]||"sheet";switch(y){case"chart":default:c="xl/worksheets/sheet"+d+"."+n,Zn(l,c,gT(d-1,e,t,v)),s.sheets.push(c),Fr(e.wbrels,-1,"worksheets/sheet"+d+"."+n,Sr.WS[0])}if(_){var E=_["!comments"],S=!1,k="";if(E&&E.length>0){var D=!1;E.forEach(function(A){A[1].forEach(function(M){M.T==!0&&(D=!0)})}),D&&(k="xl/threadedComments/threadedComment"+d+"."+n,Zn(l,k,rM(E,p,e)),s.threadedcomments.push(k),Fr(v,-1,"../threadedComments/threadedComment"+d+"."+n,Sr.TCMNT)),k="xl/comments"+d+"."+n,Zn(l,k,sT(E)),s.comments.push(k),Fr(v,-1,"../comments"+d+"."+n,Sr.CMNT),S=!0}_["!legacy"]&&S&&Zn(l,"xl/drawings/vmlDrawing"+d+".vml",rT(d,_["!comments"])),delete _["!comments"],delete _["!legacy"]}v["!id"].rId1&&Zn(l,Ik(c),zc(v))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+n,Zn(l,c,Xk(e.Strings,e)),s.strs.push(c),Fr(e.wbrels,-1,"sharedStrings."+n,Sr.SST)),c="xl/workbook."+n,Zn(l,c,xT(t)),s.workbooks.push(c),Fr(e.rels,1,c,Sr.WB),c="xl/theme/theme1.xml",Zn(l,c,tT(t.Themes,e)),s.themes.push(c),Fr(e.wbrels,-1,"theme/theme1.xml",Sr.THEME),c="xl/styles."+n,Zn(l,c,Qk(t,e)),s.styles.push(c),Fr(e.wbrels,-1,"styles."+n,Sr.STY),t.vbaraw&&r&&(c="xl/vbaProject.bin",Zn(l,c,t.vbaraw),s.vba.push(c),Fr(e.wbrels,-1,"vbaProject.bin",Sr.VBA)),c="xl/metadata."+n,Zn(l,c,nT()),s.metadata.push(c),Fr(e.wbrels,-1,"metadata."+n,Sr.XLMETA),p.length>1&&(c="xl/persons/person.xml",Zn(l,c,sM(p)),s.people.push(c),Fr(e.wbrels,-1,"persons/person.xml",Sr.PEOPLE)),Zn(l,"[Content_Types].xml",Lk(s,e)),Zn(l,"_rels/.rels",zc(e.rels)),Zn(l,"xl/_rels/workbook."+n+".rels",zc(e.wbrels)),delete e.revssf,delete e.ssf,l}function NP(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=xl(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function ET(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Kd(e.file,Wr.write(t,{type:jr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Wr.write(t,e)}function CP(t,e){var n=yi(e||{}),r=EP(t,n);return jP(r,n)}function jP(t,e){var n={},r=jr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?Wr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(O0(s))}return e.password&&typeof encrypt_agile<"u"?ET(encrypt_agile(s,e.password),e):e.type==="file"?Kd(e.file,s):e.type=="string"?hd(s):s}function AP(t,e){var n=e||{},r=YI(t,n);return ET(r,n)}function Aa(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return jd(Od(r));case"binary":return Od(r);case"string":return t;case"file":return Kd(e.file,r,"utf8");case"buffer":return jr?Sl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Aa(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function OP(t,e){switch(e.type){case"base64":return jd(t);case"binary":return t;case"string":return t;case"file":return Kd(e.file,t,"binary");case"buffer":return jr?Sl(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function xh(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?jd(n):e.type=="string"?hd(n):n;case"file":return Kd(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function kT(t,e){iD(),mI(t);var n=yi(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=kT(t,n);return n.type="array",O0(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Aa(WI(t,n),n);case"slk":case"sylk":return Aa(h8.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return Aa(bT(t.Sheets[t.SheetNames[s]],n),n);case"txt":return OP(TT(t.Sheets[t.SheetNames[s]],n),n);case"csv":return Aa(D1(t.Sheets[t.SheetNames[s]],n),n,"\uFEFF");case"dif":return Aa(g8.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return xh(f8.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return Aa(p8.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return Aa(S8.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return Aa(qk.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return Aa(wT(t,n),n);case"wk1":return xh(y2.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return xh(y2.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),xh(yT(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),AP(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return CP(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function DP(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function La(t,e,n){var r={};return r.type="file",r.file=e,DP(r),kT(t,r)}function RP(t,e,n,r,s,l,c,d){var h=Gs(n),g=d.defval,p=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),v=!0,_=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:n,enumerable:!1})}catch{_.__rowNum__=n}else _.__rowNum__=n;if(!c||t[n])for(var y=e.s.c;y<=e.e.c;++y){var E=c?t[n][y]:t[r[y]+h];if(E===void 0||E.t===void 0){if(g===void 0)continue;l[y]!=null&&(_[l[y]]=g);continue}var S=E.v;switch(E.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(l[y]!=null){if(S==null)if(E.t=="e"&&S===null)_[l[y]]=null;else if(g!==void 0)_[l[y]]=g;else if(p&&S===null)_[l[y]]=null;else continue;else _[l[y]]=p&&(E.t!=="n"||E.t==="n"&&d.rawNumbers!==!1)?S:vl(E,S,d);S!=null&&(v=!1)}}return{row:_,isempty:v}}function f0(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,l=[],c=0,d="",h={s:{r:0,c:0},e:{r:0,c:0}},g=e||{},p=g.range!=null?g.range:t["!ref"];switch(g.header===1?r=1:g.header==="A"?r=2:Array.isArray(g.header)?r=3:g.header==null&&(r=0),typeof p){case"string":h=ns(p);break;case"number":h=ns(t["!ref"]),h.s.r=p;break;default:h=p}r>0&&(s=0);var v=Gs(h.s.r),_=[],y=[],E=0,S=0,k=Array.isArray(t),D=h.s.r,A=0,M={};k&&!t[D]&&(t[D]=[]);var Y=g.skipHidden&&t["!cols"]||[],Q=g.skipHidden&&t["!rows"]||[];for(A=h.s.c;A<=h.e.c;++A)if(!(Y[A]||{}).hidden)switch(_[A]=ei(A),n=k?t[D][A]:t[_[A]+v],r){case 1:l[A]=A-h.s.c;break;case 2:l[A]=_[A];break;case 3:l[A]=g.header[A-h.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),d=c=vl(n,null,g),S=M[c]||0,!S)M[c]=1;else{do d=c+"_"+S++;while(M[d]);M[c]=S,M[d]=1}l[A]=d}for(D=h.s.r+s;D<=h.e.r;++D)if(!(Q[D]||{}).hidden){var K=RP(t,h,D,_,r,l,k,g);(K.isempty===!1||(r===1?g.blankrows!==!1:g.blankrows))&&(y[E++]=K.row)}return y.length=E,y}var N2=/"/g;function MP(t,e,n,r,s,l,c,d){for(var h=!0,g=[],p="",v=Gs(n),_=e.s.c;_<=e.e.c;++_)if(r[_]){var y=d.dense?(t[n]||[])[_]:t[r[_]+v];if(y==null)p="";else if(y.v!=null){h=!1,p=""+(d.rawNumbers&&y.t=="n"?y.v:vl(y,null,d));for(var E=0,S=0;E!==p.length;++E)if((S=p.charCodeAt(E))===s||S===l||S===34||d.forceQuotes){p='"'+p.replace(N2,'""')+'"';break}p=="ID"&&(p='"ID"')}else y.f!=null&&!y.F?(h=!1,p="="+y.f,p.indexOf(",")>=0&&(p='"'+p.replace(N2,'""')+'"')):p="";g.push(p)}return d.blankrows===!1&&h?null:g.join(c)}function D1(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=ns(t["!ref"]),l=r.FS!==void 0?r.FS:",",c=l.charCodeAt(0),d=r.RS!==void 0?r.RS:`
`,h=d.charCodeAt(0),g=new RegExp((l=="|"?"\\|":l)+"+$"),p="",v=[];r.dense=Array.isArray(t);for(var _=r.skipHidden&&t["!cols"]||[],y=r.skipHidden&&t["!rows"]||[],E=s.s.c;E<=s.e.c;++E)(_[E]||{}).hidden||(v[E]=ei(E));for(var S=0,k=s.s.r;k<=s.e.r;++k)(y[k]||{}).hidden||(p=MP(t,s,k,v,c,h,l,r),p!=null&&(r.strip&&(p=p.replace(g,"")),(p||r.blankrows!==!1)&&n.push((S++?d:"")+p)));return delete r.dense,n.join("")}function TT(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=D1(t,e);return n}function LP(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=ns(t["!ref"]),l="",c=[],d,h=[],g=Array.isArray(t);for(d=s.s.c;d<=s.e.c;++d)c[d]=ei(d);for(var p=s.s.r;p<=s.e.r;++p)for(l=Gs(p),d=s.s.c;d<=s.e.c;++d)if(e=c[d]+l,n=g?(t[p]||[])[d]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}h[h.length]=e+"="+r}return h}function NT(t,e,n){var r=n||{},s=+!r.skipHeader,l=t||{},c=0,d=0;if(l&&r.origin!=null)if(typeof r.origin=="number")c=r.origin;else{var h=typeof r.origin=="string"?Ls(r.origin):r.origin;c=h.r,d=h.c}var g,p={s:{c:0,r:0},e:{c:d,r:c+e.length-1+s}};if(l["!ref"]){var v=ns(l["!ref"]);p.e.c=Math.max(p.e.c,v.e.c),p.e.r=Math.max(p.e.r,v.e.r),c==-1&&(c=v.e.r+1,p.e.r=c+e.length-1+s)}else c==-1&&(c=0,p.e.r=e.length-1+s);var _=r.header||[],y=0;e.forEach(function(S,k){qs(S).forEach(function(D){(y=_.indexOf(D))==-1&&(_[y=_.length]=D);var A=S[D],M="z",Y="",Q=Br({c:d+y,r:c+k+s});g=Md(l,Q),A&&typeof A=="object"&&!(A instanceof Date)?l[Q]=A:(typeof A=="number"?M="n":typeof A=="boolean"?M="b":typeof A=="string"?M="s":A instanceof Date?(M="d",r.cellDates||(M="n",A=vi(A)),Y=r.dateNF||gs[14]):A===null&&r.nullError&&(M="e",A=0),g?(g.t=M,g.v=A,delete g.w,delete g.R,Y&&(g.z=Y)):l[Q]=g={t:M,v:A},Y&&(g.z=Y))})}),p.e.c=Math.max(p.e.c,d+_.length-1);var E=Gs(c);if(s)for(y=0;y<_.length;++y)l[ei(y+d)+E]={t:"s",v:_[y]};return l["!ref"]=ws(p),l}function IP(t,e){return NT(null,t,e)}function Md(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Ls(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Md(t,Br(e)):Md(t,Br({r:e,c:n||0}))}function PP(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function FP(){return{SheetNames:[],Sheets:{}}}function zP(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var l=n.match(/(^.*?)(\d+)$/);s=l&&+l[2]||0;var c=l&&l[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=c+s)!=-1;++s);}if(mT(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function BP(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=PP(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function HP(t,e){return t.z=e,t}function CT(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function UP(t,e,n){return CT(t,"#"+e,n)}function $P(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function WP(t,e,n,r){for(var s=typeof e!="string"?e:ns(e),l=typeof e=="string"?e:ws(e),c=s.s.r;c<=s.e.r;++c)for(var d=s.s.c;d<=s.e.c;++d){var h=Md(t,c,d);h.t="n",h.F=l,delete h.v,c==s.s.r&&d==s.s.c&&(h.f=n,r&&(h.D=!0))}return t}var Rr={encode_col:ei,encode_row:Gs,encode_cell:Br,encode_range:ws,decode_col:_1,decode_row:b1,split_cell:iR,decode_cell:Ls,decode_range:Mi,format_cell:vl,sheet_add_aoa:Ck,sheet_add_json:NT,sheet_add_dom:_T,aoa_to_sheet:eu,json_to_sheet:IP,table_to_sheet:ST,table_to_book:gP,sheet_to_csv:D1,sheet_to_txt:TT,sheet_to_json:f0,sheet_to_html:bT,sheet_to_formulae:LP,sheet_to_row_object_array:f0,sheet_get_cell:Md,book_new:FP,book_append_sheet:zP,book_set_sheet_visibility:BP,cell_set_number_format:HP,cell_set_hyperlink:CT,cell_set_internal_link:UP,cell_add_comment:$P,sheet_set_array_formula:WP,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const VP={"2POLE_IN5LOOP":"2P_L",IMACD:"IMACD","2POLE_Direct_Signal":"2P_DS","HIGHEST SWING HIGH":"HSH","LOWEST SWING LOW":"LSL","NORMAL SWING HIGH":"NSH","NORMAL SWING LOW":"NSL",ProGap:"PG",CrossOver:"CO",Spike:"SP",Kicker:"Kicker"},YP=({selectedSignals:t,setSelectedSignals:e,selectedMachines:n,setSelectedMachines:r,selectedIntervals:s,setSelectedIntervals:l,selectedActions:c,setSelectedActions:d,fromDate:h,toDate:g,setFromDate:p,setToDate:v,includeMinClose:_,setIncludeMinClose:y,signalRadioMode:E,setSignalRadioMode:S,machineRadioMode:k,setMachineRadioMode:D,intervalRadioMode:A,setIntervalRadioMode:M,actionRadioMode:Y,setActionRadioMode:Q,liveFilter:K,setLiveFilter:z,liveRadioMode:ee,setLiveRadioMode:se,signalToggleAll:oe,setSignalToggleAll:Ee,machineToggleAll:re,setMachineToggleAll:me,machines:je,setDateKey:We,assignedCount:ae,dateKey:Le})=>{const Re=F=>F==null?"":String(F),jt=F=>{e(C=>{const H={...C,[F]:!C[F]};return localStorage.setItem("selectedSignals",JSON.stringify(H)),H})},P=F=>{const C=Re(F);r(H=>{const de={...H,[C]:!H[C]};return localStorage.setItem("selectedMachines",JSON.stringify(de)),de})},ce=F=>{l(C=>{const H={...C,[F]:!C[F]};return localStorage.setItem("selectedIntervals",JSON.stringify(H)),H})},L=F=>{d(C=>{const H={...C,[F]:!C[F]};return localStorage.setItem("selectedActions",JSON.stringify(H)),H})};return o.jsxs("div",{className:"w-full columns-1 sm:columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4",children:[o.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-blue-900 dark:via-gray-900 dark:to-blue-950 rounded-2xl shadow-lg border border-blue-200 dark:border-blue-800 p-4 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-blue-700 dark:text-blue-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Signal",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-blue-400 via-blue-300 to-blue-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const F=!E;if(S(F),F){const C=Object.keys(t).find(H=>t[H]);if(C){const H={};Object.keys(t).forEach(de=>{H[de]=de===C}),e(H),localStorage.setItem("selectedSignals",JSON.stringify(H))}}},className:"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-100 px-2 py-1 rounded text-xs font-semibold hover:bg-blue-300 dark:hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 transition-all",title:"Toggle between radio and checkbox mode",children:E?" Check":" Radio"}),!E&&o.jsx("button",{onClick:()=>{const F={};Object.keys(t).forEach(C=>F[C]=oe),e(F),Ee(!oe),localStorage.setItem("selectedSignals",JSON.stringify(F))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${oe?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all signals",children:oe?" All":" Uncheck"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(t).map(F=>o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[E?o.jsx("input",{type:"radio",name:"signalFilterRadio",checked:t[F],onChange:()=>{const C={};Object.keys(t).forEach(H=>{C[H]=H===F}),e(C),localStorage.setItem("selectedSignals",JSON.stringify(C))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):o.jsx("input",{type:"checkbox",checked:t[F],onChange:()=>jt(F),className:"form-checkbox h-5 w-5 text-blue-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:VP[F]||F})]},F))})]}),o.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-green-50 via-white to-green-100 dark:from-green-900 dark:via-gray-900 dark:to-green-950 rounded-2xl shadow-lg border border-green-200 dark:border-green-800 p-4 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-green-700 dark:text-green-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Machine",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-green-400 via-green-300 to-green-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const F=!k;if(D(F),F){const C=je.find(H=>n[Re(H.machineid)]);if(C){const H={};je.forEach(de=>{const tt=Re(de.machineid);H[tt]=tt===Re(C.machineid)}),r(H),localStorage.setItem("selectedMachines",JSON.stringify(H))}}},className:"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 px-2 py-1 rounded text-xs font-semibold hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400 transition-all",title:"Toggle between radio and checkbox mode",children:k?" Check ":" Radio"}),!k&&o.jsx("button",{onClick:()=>{const F=Object.values(n).every(H=>H===!0),C={};je.forEach(H=>{const de=Re(H.machineid);C[de]=!F}),r(C),me(!F),localStorage.setItem("selectedMachines",JSON.stringify(C))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Object.values(n).every(F=>F===!1)?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all machines",children:Object.values(n).every(F=>F===!1)?" All":" Uncheck"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:je.map(F=>o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[k?o.jsx("input",{type:"radio",name:"machineRadio",checked:n[Re(F.machineid)]===!0,onChange:()=>{const C={};je.forEach(H=>{const de=Re(H.machineid);C[de]=de===Re(F.machineid)}),r(C),localStorage.setItem("selectedMachines",JSON.stringify(C))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):o.jsx("input",{type:"checkbox",checked:n[Re(F.machineid)]||!1,onChange:()=>P(Re(F.machineid)),className:"form-checkbox h-5 w-5 text-blue-600"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:[F.machineid,!F.active&&o.jsx("span",{className:"ml-1 text-xs text-red-500",children:"(inactive)"})]})]},F.machineid))})]}),o.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-purple-50 via-white to-purple-100 dark:from-purple-900 dark:via-gray-900 dark:to-purple-950 rounded-2xl shadow-lg border border-purple-200 dark:border-purple-800 p-4 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-purple-700 dark:text-purple-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Interval",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-purple-400 via-purple-300 to-purple-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const F=!A;if(M(F),F){const C=Object.keys(s).find(H=>s[H]);if(C){const H={};Object.keys(s).forEach(de=>{H[de]=de===C}),l(H),localStorage.setItem("selectedIntervals",JSON.stringify(H))}}},className:"bg-purple-200 dark:bg-purple-800 text-purple-900 dark:text-purple-100 px-2 py-1 rounded text-xs font-semibold hover:bg-purple-300 dark:hover:bg-purple-700 focus:ring-2 focus:ring-purple-400 transition-all",title:"Toggle between radio and checkbox mode",children:A?" Check":" Radio"}),!A&&o.jsx("button",{onClick:()=>{const F=Object.values(s).every(H=>H),C={};Object.keys(s).forEach(H=>{C[H]=!F}),l(C),localStorage.setItem("selectedIntervals",JSON.stringify(C))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Object.values(s).every(F=>!F)?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all intervals",children:Object.values(s).every(F=>!F)?" All":" Uncheck"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(s).map(F=>o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[A?o.jsx("input",{type:"radio",name:"intervalFilterRadio",checked:s[F],onChange:()=>{const C={};Object.keys(s).forEach(H=>{C[H]=H===F}),l(C),localStorage.setItem("selectedIntervals",JSON.stringify(C))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):o.jsx("input",{type:"checkbox",checked:s[F],onChange:()=>ce(F),className:"form-checkbox h-5 w-5 text-blue-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:F})]},F))})]}),o.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-pink-50 via-white to-pink-100 dark:from-pink-900 dark:via-gray-900 dark:to-pink-950 rounded-2xl shadow-lg border border-pink-200 dark:border-pink-800 p-4 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-pink-700 dark:text-pink-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Action",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-pink-400 via-pink-300 to-pink-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const F=!Y;if(Q(F),F){const C=Object.keys(c).find(H=>c[H]);if(C){const H={BUY:!1,SELL:!1};H[C]=!0,d(H),localStorage.setItem("selectedActions",JSON.stringify(H))}}},className:"bg-pink-200 dark:bg-pink-800 text-pink-900 dark:text-pink-100 px-2 py-1 rounded text-xs font-semibold hover:bg-pink-300 dark:hover:bg-pink-700 focus:ring-2 focus:ring-pink-400 transition-all",title:"Toggle between radio and checkbox mode",children:Y?" Check":" Radio"}),!Y&&o.jsx("button",{onClick:()=>{const F=Object.values(c).every(H=>H),C={BUY:!F,SELL:!F};d(C),localStorage.setItem("selectedActions",JSON.stringify(C))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Object.values(c).every(F=>!F)?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all actions",children:Object.values(c).every(F=>!F)?" All":" Uncheck"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["BUY","SELL"].map(F=>o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[Y?o.jsx("input",{type:"radio",name:"actionRadio",checked:c[F],onChange:()=>{const C={BUY:!1,SELL:!1};C[F]=!0,d(C),localStorage.setItem("selectedActions",JSON.stringify(C))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):o.jsx("input",{type:"checkbox",checked:c[F],onChange:()=>L(F),className:"form-checkbox h-5 w-5 text-blue-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:F})]},F))})]}),o.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-emerald-900 dark:via-gray-900 dark:to-teal-950 rounded-2xl shadow-lg border border-emerald-200 dark:border-emerald-800 p-4 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-emerald-700 dark:text-emerald-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Live",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-emerald-400 via-emerald-300 to-teal-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const F=!ee;if(se==null||se(F),F){const H=(K??{true:!0}).true?"true":"false";z==null||z({true:H==="true",false:H==="false"})}},className:"bg-emerald-200 dark:bg-emerald-800 text-emerald-900 dark:text-emerald-100 px-2 py-1 rounded text-xs font-semibold hover:bg-emerald-300 dark:hover:bg-emerald-700 focus:ring-2 focus:ring-emerald-400 transition-all",title:"Toggle between radio and checkbox mode",children:ee?" Check":" Radio"}),!ee&&o.jsx("button",{onClick:()=>{const F=K??{true:!0,false:!0},C=F.true&&F.false;z==null||z({true:!C,false:!C})},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${K!=null&&K.true&&(K!=null&&K.false)?"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400":"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400"} transition-all`,title:"Uncheck or select all",children:K!=null&&K.true&&(K!=null&&K.false)?" Uncheck":" All"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[ee?o.jsx("input",{type:"radio",name:"liveFilterRadio",checked:!!(K!=null&&K.true),onChange:()=>z==null?void 0:z({true:!0,false:!1}),className:"form-radio h-5 w-5 text-emerald-600",style:{accentColor:"#10b981"}}):o.jsx("input",{type:"checkbox",checked:(K==null?void 0:K.true)??!0,onChange:()=>z==null?void 0:z(F=>({...F,true:!F.true})),className:"form-checkbox h-5 w-5 text-emerald-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:"True"})]}),o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[ee?o.jsx("input",{type:"radio",name:"liveFilterRadio",checked:!!(K!=null&&K.false),onChange:()=>z==null?void 0:z({true:!1,false:!0}),className:"form-radio h-5 w-5 text-emerald-600",style:{accentColor:"#10b981"}}):o.jsx("input",{type:"checkbox",checked:(K==null?void 0:K.false)??!0,onChange:()=>z==null?void 0:z(F=>({...F,false:!F.false})),className:"form-checkbox h-5 w-5 text-emerald-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:"False"})]})]})]}),o.jsxs("div",{className:"break-inside-avoid mb-4 bg-gradient-to-br from-yellow-50 via-white to-yellow-100 dark:from-yellow-900 dark:via-gray-900 dark:to-yellow-950 rounded-2xl shadow-lg border border-yellow-200 dark:border-yellow-800 p-2 gap-1 justify-start items-stretch",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-yellow-700 dark:text-yellow-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Date & Time",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]})}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-800 dark:text-gray-200 mb-0.5",children:"From"}),o.jsx("input",{type:"datetime-local",value:h?Dt(h).format("YYYY-MM-DDTHH:mm"):"",onChange:F=>{const C=F.target.value;p(C?Dt(C):null)},className:"border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"From"})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-800 dark:text-gray-200 mb-0.5",children:"To"}),o.jsx("input",{type:"datetime-local",value:g?Dt(g).format("YYYY-MM-DDTHH:mm"):"",onChange:F=>{const C=F.target.value;v(C?Dt(C):null)},className:"border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"To"})]}),o.jsx("button",{type:"button",onClick:()=>{p(null),v(null),We(F=>F+1)},className:"bg-yellow-400 dark:bg-yellow-700 text-yellow-900 dark:text-yellow-100 px-2 py-1 rounded mt-1 hover:bg-yellow-500 dark:hover:bg-yellow-800 focus:ring-1 focus:ring-yellow-400 transition-all font-semibold text-xs",children:"Reset"})]})]})]})},GP=({title:t,value:e,isSelected:n,onClick:r,sticker:s,onStickerClick:l})=>{const[c,d]=qr.useState(()=>localStorage.getItem(`boxTag-${t}`)||""),[h,g]=x.useState(!1),[p,v]=x.useState(""),[_,y]=x.useState("#FFF9C4"),[E,S]=x.useState(1),k=x.useRef(null),D=[{name:"Yellow",value:"#FFF9C4"},{name:"Orange",value:"#FFE0B2"},{name:"Green",value:"#C8E6C9"},{name:"Blue",value:"#BBDEFB"},{name:"Pink",value:"#F8BBD0"}],A=[{name:"Small",value:1},{name:"Large",value:1.2},{name:"Largest",value:1.4}],M=ee=>{ee.stopPropagation(),v(""),y("#FFF9C4"),S(1),g(!0)},Y=ee=>{ee.stopPropagation(),d(""),localStorage.removeItem(`boxTag-${t}`)},Q=ee=>{ee.stopPropagation();const se=JSON.stringify({text:p,color:_,scale:E});d(se),localStorage.setItem(`boxTag-${t}`,se),g(!1)},K=ee=>{ee.stopPropagation(),g(!1)},z=ee=>{let se=0;return ee.split(/([+-]?[\d.]+)/g).map((oe,Ee)=>{if(!isNaN(oe)&&oe.trim()!==""){const me=parseFloat(oe)<0?"text-red-400":"text-green-300";return se++,o.jsx("span",{className:`relative px-[3px] font-semibold text-[46px] ${me}`,onMouseEnter:je=>{const We=["Running","Closed","Total"];let ae=window.dashboardTooltip;ae||(ae=document.createElement("div"),ae.id="dashboardTooltip",ae.style.cssText=`
                  position: fixed;
                  background: #222;
                  color: #fff;
                  padding: 6px 12px;
                  border-radius: 5px;
                  font-size: 18px;
                  font-weight: 600;
                  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                  z-index: 9999;
                  pointer-events: none;
                  opacity: 0;
                  transition: opacity 0.1s ease;
                `,document.body.appendChild(ae),window.dashboardTooltip=ae),ae.innerText=We[se-1]||"",ae.style.left=`${je.clientX+10}px`,ae.style.top=`${je.clientY+10}px`,ae.style.opacity="0",requestAnimationFrame(()=>{ae.style.display="block",requestAnimationFrame(()=>{ae.style.opacity="1"})})},onMouseMove:je=>{window.dashboardTooltip&&(window.dashboardTooltip.style.left=`${je.clientX+10}px`,window.dashboardTooltip.style.top=`${je.clientY+10}px`)},onMouseLeave:()=>{window.dashboardTooltip&&(window.dashboardTooltip.style.display="none")},children:oe},Ee)}else return o.jsx("span",{className:"text-white text-sm px-[1px] opacity-80",children:oe},Ee)})};return o.jsxs("div",{className:"relative group",children:[n&&o.jsx("div",{className:"absolute top-2 right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-1 rounded-full shadow-lg z-20 border border-yellow-600 animate-pulse",children:"Selected"}),c&&(()=>{const ee=JSON.parse(c);return o.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-3 py-1.5 rounded-full z-10 shadow-lg border border-gray-300 dark:border-gray-700",style:{backgroundColor:ee.color||"yellow",fontSize:`calc(1.1rem * var(--app-font-scale) * ${ee.scale||1})`},children:[o.jsx("span",{className:"font-bold mr-1",children:""}),ee.text,o.jsx("button",{onClick:Y,className:"ml-1 text-red-700 font-bold hover:text-red-900",children:""})]})})(),o.jsx("button",{ref:k,onClick:M,className:"absolute top-2 left-2 bg-gray-200 text-black text-xs w-5 h-5 rounded-full z-10 shadow hover:bg-gray-300 border border-gray-400 flex items-center justify-center",style:{transform:"translate(-110%, -110%)"},title:"Add tag",children:"+"}),h&&o.jsxs("div",{className:"absolute top-8 left-2 z-30 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-4 w-64 animate-fade-in",style:{minWidth:220},children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Tag Name"}),o.jsx("input",{className:"w-full px-2 py-1 rounded border border-gray-300 dark:bg-gray-800 dark:text-white",value:p,onChange:ee=>v(ee.target.value),placeholder:"Enter tag name",autoFocus:!0})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Color"}),o.jsx("div",{className:"flex gap-2",children:D.map(ee=>o.jsx("button",{className:`w-7 h-7 rounded-full border-2 ${_===ee.value?"border-black dark:border-white scale-110":"border-gray-300"} transition-all`,style:{backgroundColor:ee.value},onClick:se=>{se.stopPropagation(),y(ee.value)},title:ee.name},ee.value))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Size"}),o.jsx("div",{className:"flex gap-2",children:A.map(ee=>o.jsx("button",{className:`px-2 py-1 rounded border-2 ${E===ee.value?"border-blue-500 bg-blue-100 dark:bg-blue-900":"border-gray-300"} transition-all text-xs font-semibold`,onClick:se=>{se.stopPropagation(),S(ee.value)},title:ee.name,children:ee.name},ee.value))})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[o.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 text-black text-xs font-semibold",onClick:K,children:"Cancel"}),o.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 hover:bg-blue-700 text-white text-xs font-semibold",onClick:Q,disabled:!p.trim(),children:"Save"})]})]}),o.jsxs("div",{className:`cursor-pointer p-8 rounded-2xl border-2 border-transparent transition-all duration-300 transform bg-gradient-to-br from-blue-800/90 to-indigo-900/90 dark:from-blue-900/80 dark:to-gray-900/90 group-hover:scale-105 group-hover:shadow-2xl group-hover:border-yellow-400/70 group-focus-within:scale-105 group-focus-within:shadow-2xl group-focus-within:border-yellow-400/90 group-active:scale-100 group-active:shadow-lg group-active:border-yellow-500/90
      ${n?"ring-4 ring-yellow-400 border-yellow-600 scale-105 shadow-2xl bg-yellow-100/80 dark:bg-yellow-900/30":"hover:ring-2 hover:ring-yellow-400/60"}
      `,onClick:r,tabIndex:0,title:t.replace(/_/g," "),children:[s&&o.jsx("button",{className:"absolute -top-2 -right-2 z-20 bg-pink-600 text-white text-[10px] md:text-xs font-bold px-2 py-1 rounded-full shadow-lg border border-pink-300 hover:bg-pink-700 animate-pulse ring-2 ring-pink-300",onClick:ee=>{ee.stopPropagation(),l&&l()},title:"View newly added trades",children:s}),o.jsx("h2",{className:"text-lg font-semibold text-center text-sky-300 mb-2 truncate",title:t.replace(/_/g," "),children:t.replace(/_/g," ")}),o.jsx("div",{className:"text-2xl font-bold text-center leading-snug whitespace-nowrap overflow-x-auto",children:typeof e=="string"?o.jsx("span",{className:"text-[22px] leading-snug inline-block min-w-full pointer-events-none",children:o.jsx("div",{className:"flex flex-wrap justify-end gap-[3px] pointer-events-auto",style:{pointerEvents:"auto"},children:z(e)})}):e})]})]})};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...d},h)=>x.createElement("svg",{ref:h,...XP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jT("lucide",s),...d},[...c.map(([g,p])=>x.createElement(g,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=(t,e)=>{const n=x.forwardRef(({className:r,...s},l)=>x.createElement(JP,{ref:l,iconNode:e,className:jT(`lucide-${qP(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ZP=ni("Activity",KP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],AT=ni("ChartNoAxesColumnIncreasing",QP);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tF=ni("ChevronDown",eF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rF=ni("ChevronRight",nF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iF=ni("FileText",sF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],OT=ni("House",aF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],oF=ni("LayoutGrid",lF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uF=ni("LoaderCircle",cF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fF=ni("Lock",dF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gF=ni("Mail",hF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],mF=ni("Menu",pF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],vF=ni("Play",xF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bF=ni("Settings",yF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],SF=ni("Shield",_F);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],EF=ni("Users",wF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],TF=ni("X",kF),NF="http://150.241.244.130:10000";let Ld=null,C2=!1,j2=!1;function DT(){var e;if(typeof window>"u")return!1;const t=((e=window.location)==null?void 0:e.hostname)||"";return t==="localhost"||t==="127.0.0.1"}function CF(){var e,n,r;let t="https://api.clubinfotech.com/";if(t!==void 0&&t!==""){if(typeof window<"u"&&((e=window.location)==null?void 0:e.protocol)==="https:"&&t.startsWith("http://")){if(t.startsWith("http://150.241.244.130"))return"";t="https://"+t.slice(7)}return t}if(typeof window<"u"&&DT())return"";if(typeof window<"u"&&((n=window.location)!=null&&n.origin)){const s=window.location.origin;if(s.startsWith("http://150.241.244.130")||s.startsWith("https://localhost"))return""}return typeof window<"u"&&((r=window.location)==null?void 0:r.protocol)==="https:"?"":NF}function RT(){var e;return typeof window>"u"?!1:(((e=window.location)==null?void 0:e.hostname)||"")==="150.241.244.130"}function A2(t){if(!t||typeof t!="string")return t;const e=t.trim().replace(/\/+$/,"");return!e||e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e}function Oa(){return RT()?"":A2(Ld||CF())}function mx(){var l,c;if(typeof window>"u"||RT())return Promise.resolve();const t=typeof import.meta<"u"&&"/lab_live/"||"/",e=t==="./"||t==="."?"":t.replace(/\/$/,"")||"",n=(e?e+"/":"")+"api-config.json",r=new URL(n,window.location.origin).href,s=r+(r.includes("?")?"&":"?")+"t="+Date.now();return(c=(l=window.location)==null?void 0:l.hostname)!=null&&c.includes("github.io")&&!j2&&(j2=!0,console.log("[LAB] Fetching api-config.json:",r)),fetch(s).then(d=>{var h,g;if((g=(h=window.location)==null?void 0:h.hostname)!=null&&g.includes("github.io")&&!d.ok&&(console.error(`[LAB] api-config.json not found (${d.status}). Set API_BASE_URL secret and run Deploy frontend to GitHub Pages.`),d.status===404&&e)){const p=new URL("api-config.json",window.location.origin).href;return fetch(p+"?t="+Date.now()).catch(()=>d)}return d.ok?d.json():null}).then(d=>{var p,v,_,y;if(!d)return;const g=(typeof d.apiBaseUrl=="string"?d.apiBaseUrl:typeof d.tunnelUrl=="string"?d.tunnelUrl:"").replace(/\/$/,"").trim();if(g){const E=Ld;Ld=g,(v=(p=window.location)==null?void 0:p.hostname)!=null&&v.includes("github.io")&&console.log("[LAB] API base from api-config.json:",g),(E!==g||!E)&&window.dispatchEvent(new CustomEvent("api-config-loaded"))}else(y=(_=window.location)==null?void 0:_.hostname)!=null&&y.includes("github.io")&&!C2&&(C2=!0,console.warn("[LAB] api-config.json has empty apiBaseUrl. Set API_BASE_URL to your cloud URL (e.g. http://150.241.244.130:10000) and run Deploy frontend to GitHub Pages."))}).catch(d=>{var h,g;(g=(h=window.location)==null?void 0:h.hostname)!=null&&g.includes("github.io")&&console.error("[LAB] api-config.json fetch failed:",d.message)})}typeof window<"u"&&mx();const jF=typeof window<"u"?Oa():"";var zw,Bw;typeof window<"u"&&((Bw=(zw=window.location)==null?void 0:zw.hostname)!=null&&Bw.includes("github.io"))&&(console.log("[LAB] Page URL:",window.location.href),!jF&&!Ld&&console.log("[LAB] Set API_BASE_URL secret to your cloud URL (e.g. http://150.241.244.130:10000) and run Deploy frontend to GitHub Pages."));function Fn(t){var s,l;const e=Oa(),n=typeof window<"u"&&((l=(s=window.location)==null?void 0:s.hostname)==null?void 0:l.includes("github.io"));if(!e)return n&&console.warn("[api()] No API base URL  set API_BASE_URL and redeploy, or wait for api-config.json"),t;const r=`${e.replace(/\/$/,"")}${t.startsWith("/")?t:`/${t}`}`;return n&&console.log(`[api()] Built URL: ${r} (base: ${e}, path: ${t})`),r}function Bn(t,e={}){const n=typeof t=="string"&&t.startsWith("http")?t:Fn(t);return fetch(n,{...e,credentials:"include"}).then(r=>(r.status===401&&typeof window<"u"&&window.dispatchEvent(new CustomEvent("lab-unauthorized")),r.status===404&&typeof window<"u"&&console.error("[LAB] 404 Not Found ",n,"| If this is api.clubinfotech.com, restart Node on cloud: sudo systemctl restart lab-trading-dashboard"),r))}function gm(t=""){const e=typeof import.meta<"u"?"/lab_live/".replace(/\/$/,""):"",n=e?`${e}/live-trade-view`:"/live-trade-view";return`${window.location.origin}${n}${t?`?${t}`:""}`}const cd=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(t===!1||t==="false"||t===0||t==="0"||t===null||t===void 0)return!1;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},oa=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},_r=(t,e=2,n="")=>{const r=parseFloat(t);return isNaN(r)?"N/A":`${n}${r.toFixed(e)}`},O2=t=>{if(!t)return"";let e=String(t).replace(/<[^>]+>/g,"").replace(/\s+/g,"").replace(/[^A-Z0-9]/gi,"").toUpperCase();return e.startsWith("BINANCE")&&(e=e.slice(7)),e=e.replace(/PERPETUALCONTRACT|PERP|CHART/gi,"").replace(/\d{6,}$/,""),e||""},Ku=t=>{if(!t)return"N/A";const e=Dt.utc(t);if(e.isValid())return e.format("YYYY-MM-DD HH:mm:ss");try{return String(t).replace("T"," ").replace("Z","")}catch{return String(t)}},AF=t=>{if(!t)return"N/A";const e=Dt.utc(t);if(e.isValid())return e.format("YYYY-MM-DD");try{const n=String(t).replace("T"," ").replace("Z","");return n.split(" ")[0]||n}catch{return String(t)}},Uc=(t,e)=>({"S No":e+1,"M.Id":t.machineid||"N/A","":"copy",Unique_ID:t.unique_id||"N/A",macd_action:t.macd_action??t.MACD_Action??t.macdAction??"N/A","Candle_":Ku(t.candel_time),"Fetcher_":Ku(t.fetcher_trade_time),"Operator_":Ku(t.operator_trade_time),Pair:t.pair?`<div style="display:flex; flex-direction:column; align-items:center;">
          <a href="https://www.binance.com/en/futures/${t.pair}" target="_blank" rel="noopener noreferrer" style="color:#1d4ed8;text-decoration:underline;">${t.pair}</a>
          <button onclick="window.open('https://www.tradingview.com/chart/?symbol=BINANCE:${t.pair}.P', '_blank')" style="margin-top:2px;font-size:10px;padding:2px 6px;background:#eee;border:1px solid #aaa;border-radius:4px;cursor:pointer;">
             Chart
          </button>
        </div>`:"N/A","":t.interval||"N/A","":t.action||"N/A",Investment:_r(t.investment,2,"$"),PL:_r(t.pl_after_comm,2),"_BUY":_r(t.hedge_buy_pl,2),"_SELL":_r(t.hedge_sell_pl,2),Type:t.type||"N/A","Operator_":Ku(t.operator_close_time),"":t.signalfrom||"N/A",PJ:(()=>{const n=t.profit_journey;return n===!0||n==="true"||n===1||typeof n=="string"&&parseFloat(n)>0?"":""})(),CJ:(()=>{const n=t.commision_journey;return n===!0||n==="true"||n===1||typeof n=="string"&&parseFloat(n)>0?"":""})(),Stop_Price:_r(t.stop_price,6),Save_Price:_r(t.save_price,6),Min_Comm:_r(t.min_comm,6),"":cd(t.hedge)?" Yes":" No","1-1":oa(t.hedge_1_1_bool)?" Yes":" No","_Order_Size":t.hedge_order_size||"N/A","Min_Comm_After_":_r(t.min_comm_after_hedge,6),Min_Profit:_r(t.min_profit,2,"$"),Buy_Qty:t.buy_qty||0,Buy_Price:_r(t.buy_price,6),Buy_PL:_r(t.buy_pl,6),Added_Qty:t.added_qty||"N/A",Sell_Qty:t.sell_qty||0,Sell_Price:_r(t.sell_price,6),Sell_PL:_r(t.sell_pl,6),Close_Price:_r(t.close_price,6),Commission:_r(t.commission,2,"$"),Date:AF(t.candel_time),Swing1:_r(t.swing1,6),Swing2:_r(t.swing2,6),Swing3:_r(t.swing3,6),Swing4:_r(t.swing4,6),Swing5:_r(t.swing5,6),HSHighP:_r(t.hedge_swing_high_point,6),HSLowP:_r(t.hedge_swing_low_point,6),THighP:_r(t.temp_high_point,6),TlowP:_r(t.temp_low_point,6),Min_Close:t.min_close||"N/A",Exist_In_Exchange:oa(t.exist_in_exchange)?" Yes":" No",Exchange_Position:t.exchange_position||"N/A",Auto:oa(t.auto)?" Yes":" No",Created_At:Ku(t.created_at),Update_Table:oa(t.update_table)?" Yes":" No",Position_Amt:_r(t.position_amt,6),Entry_Price:_r(t.entry_price,6),Unrealized_Profit:_r(t.unrealized_profit,2),Leverage:t.leverage_val??t.leverage??"N/A",Position_Side:t.position_side||"N/A",Swing6:_r(t.swing6,6),Swing7:_r(t.swing7,6),Swing8:_r(t.swing8,6),Swing9:_r(t.swing9,6),Swing10:_r(t.swing10,6)}),OF=({title:t,tradeData:e,clientData:n,activeSubReport:r,setActiveSubReport:s})=>{var Yn;const l=qr.useMemo(()=>t.replace(/\s+/g,"_").trim(),[t]),[c,d]=x.useState(()=>{try{const he=localStorage.getItem("chartSettings"),$e=he?JSON.parse(he):{};return{layout:$e.layout??3,showVolume:$e.showVolume??!1,showRSI:$e.showRSI??!1,showMACD:$e.showMACD??!0,height:$e.height??500,interval:$e.interval??"15"}}catch{return{layout:3,showVolume:!1,showRSI:!1,showMACD:!0,height:500,interval:"15"}}});x.useEffect(()=>{localStorage.setItem("chartSettings",JSON.stringify(c))},[c]);const[h,g]=x.useState(()=>{const he=localStorage.getItem("remarksMap");return he?JSON.parse(he):{}}),[p,v]=x.useState(14),[_,y]=x.useState(()=>{const he=localStorage.getItem("remarksWidth");return he?parseInt(he):300});x.useEffect(()=>{localStorage.setItem("remarksMap",JSON.stringify(h))},[h]),x.useEffect(()=>{localStorage.setItem("remarksWidth",_)},[_]);const[E,S]=x.useState(()=>{const he=localStorage.getItem("reportFontSizeLevel");return he?parseInt(he,10):3});x.useEffect(()=>{localStorage.setItem("reportFontSizeLevel",E)},[E]);const k="tableColumnOrder_global",[D,A]=x.useState([]),[M,Y]=x.useState(!1),[Q,K]=x.useState(null),z=x.useCallback((he,$e)=>{if($e==="Client_Stats"){const qe=n.filter(ze=>ze.machineid===he);se(qe.map((ze,Be)=>({"S No":Be+1,"Machine ID":ze.machineid||"N/A","Client Name":ze.name||"N/A",Active:oa(ze.active)?"":"","Last Ping":ze.lastping||"N/A",Region:ze.region||"N/A"})))}else s(he)},[n]),[ee,se]=x.useState([]),[oe,Ee]=x.useState([]),[re,me]=x.useState({}),[je,We]=x.useState(null),[ae,Le]=qr.useState({key:null,direction:"asc"}),[Re,jt]=x.useState(null),[P,ce]=x.useState({}),[L,F]=x.useState(""),[C,H]=x.useState(null);x.useEffect(()=>{if(C){const he=setTimeout(()=>H(null),1200);return()=>clearTimeout(he)}},[C]);function de(){document.querySelectorAll("th .filter-icon").forEach(he=>{const $e=he.getAttribute("data-index");P[$e]?(he.innerText="",he.style.color="green"):(he.innerText="",he.style.color="")})}function tt(he,$e){document.querySelectorAll(".filter-popup").forEach(ot=>ot.remove());const qe=[...document.querySelectorAll("tbody tr td:nth-child("+(he+1)+")")].map(ot=>ot.innerText.trim()),ze={};qe.forEach(ot=>ze[ot]=(ze[ot]||0)+1);const Be=Object.keys(ze),R=document.createElement("div");R.className="filter-popup",R.style.position="fixed",R.style.background="white",R.style.color="black",R.style.padding="12px",R.style.borderRadius="8px",R.style.zIndex="999999",R.style.maxHeight="500px",R.style.overflowY="auto",R.style.display="flex",R.style.flexDirection="column",R.style.gap="8px";const ge=[],Ie=document.createElement("button");Ie.innerText=" Reset Column",Ie.onclick=ot=>{ot.stopPropagation();const ct={...P};delete ct[he],ce(ct),R.remove()},R.appendChild(Ie);const wt=document.createElement("button");wt.innerText=" Apply",wt.onclick=ot=>{ot.stopPropagation();const ct=ge.filter(Wt=>Wt.checked).map(Wt=>Wt.value);P[he]=ct.length===Be.length?void 0:ct,ce({...P}),R.remove(),de()},R.appendChild(wt);const ht=document.createElement("button");ht.innerText=" Select All",ht.style.backgroundColor="#4caf50",ht.style.color="white";let $t=!0;ht.onclick=()=>{$t=!$t,ge.forEach(ot=>ot.checked=$t),ht.innerText=$t?" Select All":" Deselect All",ht.style.backgroundColor=$t?"#4caf50":"#f44336"},R.appendChild(ht),Be.forEach(ot=>{const ct=document.createElement("label");ct.style.display="flex",ct.style.alignItems="center",ct.style.gap="6px";const Wt=document.createElement("input");Wt.type="checkbox",Wt.value=ot,Wt.checked=!0,ct.appendChild(Wt),ct.appendChild(document.createTextNode(` ${ot} (${ze[ot]})`)),R.appendChild(ct),ge.push(Wt)}),document.body.appendChild(R);const bt=$e.target.getBoundingClientRect();R.style.top=`${bt.bottom+10}px`,R.style.left=`${bt.left}px`,setTimeout(()=>{const ot=ct=>{R.contains(ct.target)||(R.remove(),document.removeEventListener("click",ot))};document.addEventListener("click",ot)},100)}function rt(he,$e,qe){let ze=document.getElementById("copyPopup");ze||(ze=document.createElement("div"),ze.id="copyPopup",ze.innerText=" Copy Selected",ze.style.position="fixed",ze.style.background="black",ze.style.color="white",ze.style.padding="10px 20px",ze.style.borderRadius="8px",ze.style.fontSize="13px",ze.style.fontWeight="bold",ze.style.cursor="pointer",ze.style.zIndex="999999",ze.style.opacity="1",ze.style.pointerEvents="auto",ze.style.boxShadow="0 5px 15px rgba(0,0,0,0.3)",ze.style.userSelect="none",ze.style.transition="opacity 0.3s ease, transform 0.2s ease",ze.addEventListener("mouseenter",()=>{ze.style.backgroundColor="#333",ze.style.transform="scale(1.05)"}),ze.addEventListener("mouseleave",()=>{ze.style.backgroundColor="black",ze.style.transform="scale(1)"}),ze.addEventListener("click",R=>{R.stopPropagation(),navigator.clipboard.writeText(he).then(()=>{ze.innerText=" Copied!",setTimeout(()=>{ze&&ze.remove()},800)})}),document.body.appendChild(ze)),ze.style.left=`${$e-window.scrollX}px`,ze.style.top=`${qe-window.scrollY}px`,ze.style.display="block",ze.style.opacity="1";const Be=R=>{ze.contains(R.target)||(ze.remove(),document.removeEventListener("click",Be))};setTimeout(()=>{document.addEventListener("click",Be)},10)}x.useEffect(()=>{const he=$e=>{const qe=window.getSelection();if(!qe)return;const ze=qe.toString().trim();if(!ze){const Be=document.getElementById("copyPopup");Be&&Be.remove();return}setTimeout(()=>{try{const R=qe.getRangeAt(0).getBoundingClientRect(),ge=R.left+window.scrollX+R.width/2,Ie=R.bottom+window.scrollY+10;rt(ze,ge,Ie)}catch(Be){console.error("Copy popup positioning error:",Be)}},0)};return document.addEventListener("mouseup",he),()=>{document.removeEventListener("mouseup",he)}},[]),x.useEffect(()=>{const he=$e=>{document.querySelectorAll(".filter-popup").forEach(ze=>{ze.contains($e.target)||(ze.remove(),setActivePopupIndex(null))})};return document.addEventListener("click",he),()=>document.removeEventListener("click",he)},[]);const Ze=x.useMemo(()=>{let he=[...ee];const $e=ze=>{if(ze==null)return"";if(typeof ze!="string")return String(ze).trim();const Be=document.createElement("div");return Be.innerHTML=ze,(Be.textContent||"").replace(/\s+/g," ").trim()},qe=D.length?D:ee[0]?Object.keys(ee[0]):[];return Object.entries(P).forEach(([ze,Be])=>{if(!Be)return;const R=Be.map($e),ge=parseInt(ze),Ie=qe[ge];Ie&&(he=he.filter(wt=>{const ht=$e(wt[Ie]);return R.includes(ht)}))}),ae.key?[...he].sort((ze,Be)=>{const R=ze[ae.key]||"",ge=Be[ae.key]||"";return!isNaN(R)&&!isNaN(ge)?ae.direction==="asc"?R-ge:ge-R:ae.direction==="asc"?R.localeCompare(ge):ge.localeCompare(R)}):he},[ee,ae,P]);x.useEffect(()=>{if(!Ze.length)return;const he=Object.keys(Ze[0]);let $e=[];try{$e=JSON.parse(localStorage.getItem(k)||"[]")}catch{$e=[]}let qe;Array.isArray($e)&&$e.length?qe=$e:(qe=["Investment","PL","Pair"].filter(ht=>he.includes(ht)),he.forEach(ht=>{qe.includes(ht)||qe.push(ht)}));const ze=qe.filter(wt=>he.includes(wt)||wt==="Live"),Be=he.filter(wt=>!ze.includes(wt));let R=[...ze,...Be];R.includes("Live")||R.push("Live");const ge=R.indexOf("Investment"),Ie=R.indexOf("PL");if(ge!==-1&&Ie!==-1&&ge>Ie){const wt=[...R];wt.splice(ge,1),wt.splice(Ie,0,"Investment"),R=wt}R.join("|")!==D.join("|")&&(A(R),localStorage.setItem(k,JSON.stringify(R)))},[Ze,k,D]);const Et=he=>K(he),bn=(he,$e)=>{he.preventDefault(),!(!Q||Q===$e)&&A(qe=>{const ze=qe.indexOf(Q),Be=qe.indexOf($e);if(ze===-1||Be===-1)return qe;const R=[...qe];return R.splice(ze,1),R.splice(Be,0,Q),localStorage.setItem(k,JSON.stringify(R)),R})},Mt=()=>{if(!Ze.length)return;const he=Object.keys(Ze[0]),$e=he.includes("Live")?he:[...he,"Live"];A($e),localStorage.setItem(k,JSON.stringify($e))},_n=x.useMemo(()=>ae.key?[...ee].sort((he,$e)=>{const qe=he[ae.key]||"",ze=$e[ae.key]||"";return!isNaN(qe)&&!isNaN(ze)?ae.direction==="asc"?qe-ze:ze-qe:ae.direction==="asc"?qe.localeCompare(ze):ze.localeCompare(qe)}):ee,[ee,ae]);x.useEffect(()=>{if(console.log(" TableView useEffect - title:",t,"tradeData length:",e==null?void 0:e.length),!t||!e||e.length===0)return;let he=[...e];switch(t){case"Total_Closed_Stats":he=he.filter(Be=>Be.type==="close"||Be.type==="hedge_close");break;case"Direct_Closed_Stats":he=he.filter(Be=>{const R=cd(Be.hedge);return Be.type==="close"&&!R});break;case"Hedge_Closed_Stats":he=he.filter(Be=>Be.type==="hedge_close");break;case"Total_Running_Stats":he=he.filter(Be=>Be.type==="running"||Be.type==="hedge_hold");break;case"Assigned_New":he=he.filter(Be=>Be.type==="assign"||Be.type==="back_close");break;case"Direct_Running_Stats":he=he.filter(Be=>{const R=cd(Be.hedge)||Be.type==="hedge_hold";return Be.type==="running"&&!R});break;case"Hedge_Running_Stats":he=he.filter(Be=>{const R=cd(Be.hedge)||Be.type==="hedge_hold",ge=oa(Be.hedge_1_1_bool);return(Be.type==="running"||Be.type==="hedge_hold")&&R&&!ge});break;case"Hedge_on_Hold":he=he.filter(Be=>{const R=cd(Be.hedge)||Be.type==="hedge_hold",ge=oa(Be.hedge_1_1_bool);return(Be.type==="running"||Be.type==="hedge_hold")&&R&&ge});break;case"Closed_Count_Stats":he=he.filter(Be=>{if(r==="loss")return Be.type==="close"&&Be.pl_after_comm<0;if(r==="profit")return Be.type==="close"&&Be.pl_after_comm>0;if(r==="pj"){const R=oa(Be.profit_journey);return Be.type==="close"&&R}return!0});break;case"Buy_Sell_Stats":he=he.filter(Be=>["BUY","SELL"].includes(Be.action)?r==="buy"?Be.action==="BUY":r==="sell"?Be.action==="SELL":!0:!1);break;case"Journey_Stats_Running":he=he.filter(Be=>{const R=oa(Be.profit_journey),ge=oa(Be.commision_journey);return r==="pj"?R&&Be.pl_after_comm>0&&(Be.type==="running"||Be.type==="hedge_hold"):r==="cj"?ge&&Be.pl_after_comm>0&&(Be.type==="running"||Be.type==="hedge_hold")&&!R:r==="bc"?Be.pl_after_comm<0&&(Be.type==="running"||Be.type==="hedge_hold"):!0});break;case"Client_Stats":const ze=n.map((Be,R)=>({"S No":R+1,"Machine ID":Be.machineid||"N/A","Client Name":Be.name||"N/A",Active:oa(Be.active)?"":"","Last Ping":Be.lastping||"N/A",Region:Be.region||"N/A"}));se(ze);return;case"Min_Close_Profit":he=he.filter(Be=>Be.type==="close"&&Be.min_close==="Min_close"&&Be.pl_after_comm>0);break;case"Min_Close_Loss":he=he.filter(Be=>Be.type==="close"&&Be.min_close==="Min_close"&&Be.pl_after_comm<0);break;default:console.log(" TableView - No case match for title:",t);break}console.log(" TableView after switch - filteredTrades length:",he.length);let $e=he.map((ze,Be)=>Uc(ze,Be));const qe=L.trim().toLowerCase();qe.length>0&&($e=$e.filter(ze=>Object.values(ze).some(Be=>String(Be).toLowerCase().includes(qe)))),console.log(" TableView final result length:",$e.length),console.log(" TableView final result sample:",$e.slice(0,1)),se($e),Ee(he)},[t,e,r,n,L]),x.useEffect(()=>{const he=Be=>Be.exist_in_exchange===!0||Be.exist_in_exchange==="true"||Be.exist_in_exchange===1,$e=[...new Set(oe.filter(he).map(Be=>O2(Be.pair||Be.symbol)).filter(Boolean))];if(!$e.length){me({});return}const qe=async()=>{const Be={};for(const R of $e)try{const Ie=await(await Bn(Fn(`/api/open-position?symbol=${encodeURIComponent(R)}`))).json().catch(()=>({}));Be[R]=Ie}catch{Be[R]={ok:!1,error:"Network error"}}me(Be)};qe();const ze=setInterval(qe,60*1e3);return()=>clearInterval(ze)},[oe]);const Jt=(he,$e,qe=3)=>{if(!$e||$e.length===0)return;const ze=window.open("","_blank","width=1200,height=600"),Be=Object.keys($e[0]),R=`
  <html>
  <head>
  <title>${he.replace(/_/g," ")} Report</title>
  <style>
  body { font-family: Arial; margin:20px; background:#f2f2f7; font-size: ${12+(qe-8)*2}px; }
  table { width:100%; border-collapse: collapse; cursor:pointer; }
  th, td { padding:6px 8px; border-bottom:1px solid #ccc; text-align:center; }
  th { background:#288994; color:white; position:sticky; top:0; z-index:3; }
  </style>
  </head>
  <body>
  
    <table>
      <thead>
        <tr>
          ${Be.map(ge=>`<th>${ge}</th>`).join("")}
        </tr>
      </thead>
      <tbody>
        ${$e.map(ge=>`<tr>${Be.map(Ie=>`<td>${ge[Ie]}</td>`).join("")}</tr>`).join("")}
      </tbody>
    </table>
  </body>
  </html>
  `;ze.document.write(R)},on=he=>{Le($e=>({key:he,direction:$e.key===he&&$e.direction==="asc"?"desc":"asc"}))},Kt=he=>he==null?"":typeof he=="string"?he.replace(/<[^>]+>/g,"").trim():String(he).trim(),Ue=x.useCallback(he=>{if(!he||!ee.length||!oe.length)return null;const $e=Kt(he.Unique_ID);if(!$e||$e==="n/a")return null;const qe=ee.findIndex(ze=>Kt(ze.Unique_ID)===$e);return qe>=0?oe[qe]:null},[ee,oe]),Nn=Xc(),Xt=oe.length>0&&oe.every(he=>he.type==="running"||he.type==="hedge_hold");let xt=[];switch(l){case"Closed_Count_Stats":xt=["loss","profit","pj"];break;case"Buy_Sell_Stats":xt=["buy","sell"];break;case"Journey_Stats_Running":xt=["pj","cj","bc"];break;case"Client_Stats":xt=n.map(he=>he.MachineId);break;default:xt=[]}const Qt=xt.length>0&&o.jsx("div",{className:"flex gap-2 mb-2",children:xt.map(he=>o.jsx("button",{onClick:()=>z(he,l),className:`px-3 py-1 text-sm rounded transition-all duration-150 ease-in-out ${r===he?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:he.toUpperCase()},he))}),Yt=(Yn=L==null?void 0:L.trim())==null?void 0:Yn.toLowerCase(),ln=Yt&&Yt.length>0,lt=ee.length===0;if(console.log(" TableView render - filteredData.length:",ee.length),lt&&!ln)return o.jsxs("div",{className:"mt-6 p-6 bg-[#f2f2f7] text-[#222] shadow-md rounded-lg max-w-full",children:[o.jsxs("div",{className:"flex gap-2 my-4",children:[o.jsx("input",{type:"text",placeholder:" Type to search...",value:L,onChange:he=>{const $e=he.target.value.toLowerCase();F(he.target.value);const qe=e.filter(ze=>Object.values(ze).some(Be=>String(Be).toLowerCase().includes($e)));se(qe)},className:"px-3 py-2 border rounded-md w-64 text-sm dark:bg-black dark:text-white"}),o.jsx("button",{onClick:()=>{ce({}),se(e)},className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded",children:" Reset Filters"}),Qt]}),o.jsxs("p",{className:"text-center text-gray-500 mt-4",children:[" No relevant data available for ",t]})]});const Qn=()=>{if(!ee||!Array.isArray(ee))return["BTCUSDT","ETHUSDT"];const he=[...new Set(ee.filter($e=>$e.Pair).map($e=>{let qe=$e.Pair;return typeof qe=="string"&&(qe=qe.replace(/<[^>]+>/g,"").toUpperCase().trim(),qe.startsWith("BINANCE")&&(qe=qe.slice(7)),qe=qe.split("_")[0]),qe}).filter($e=>$e))];return console.log("ChartGrid Base Symbols:",he),he.length?he:["BTCUSDT","ETHUSDT"]};return o.jsxs("div",{className:"mt-6 p-6 bg-[#f5ecd7] dark:bg-[#181a20] text-[#222] dark:text-white shadow-md rounded-lg max-w-full",children:[o.jsx("div",{className:"flex flex-wrap items-center gap-2 w-full bg-gradient-to-r from-gray-100 via-white to-gray-200 dark:from-gray-800 dark:via-gray-900 dark:to-gray-800 rounded-xl shadow-md p-3 mb-2 transition-colors duration-300",style:{marginBottom:0,paddingBottom:0},children:o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("button",{onClick:()=>S(he=>Math.max(1,he-1)),className:"bg-gray-200 text-black p-2 rounded flex items-center justify-center transition-all duration-150",title:"Decrease Font Size",children:[o.jsx("span",{className:"sr-only",children:"Decrease Font Size"}),o.jsx("span",{style:{fontSize:18},children:"A"})]}),o.jsxs("button",{onClick:()=>S(he=>Math.min(20,he+1)),className:"bg-gray-200 text-black p-2 rounded flex items-center justify-center transition-all duration-150",title:"Increase Font Size",children:[o.jsx("span",{className:"sr-only",children:"Increase Font Size"}),o.jsx("span",{style:{fontSize:18},children:"A+"})]}),o.jsxs("button",{onClick:()=>Jt(t,_n,E),className:"bg-blue-500 hover:bg-blue-600 focus:ring-2 focus:ring-blue-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Open in New Tab",children:[o.jsx(iF,{size:18}),o.jsx("span",{className:"text-xs font-semibold",children:"Tab"})]}),o.jsxs("button",{onClick:()=>{const he=Qn(),$e=Ze;window.open("/chart-grid","_blank"),localStorage.setItem("chartGridSymbols",JSON.stringify(he)),localStorage.setItem("chartGridTrades",JSON.stringify($e)),setTimeout(()=>{const qe=new BroadcastChannel("chart-grid-data");qe.postMessage({symbols:he,trades:$e}),qe.close()},500)},className:"bg-purple-600 hover:bg-purple-700 focus:ring-2 focus:ring-purple-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Chart Grid",children:[o.jsx(AT,{size:18}),o.jsx("span",{className:"text-xs font-semibold",children:"Chart"})]}),o.jsx("input",{type:"text",placeholder:"Search...",value:L,onChange:he=>{const $e=he.target.value.toLowerCase();F(he.target.value);const qe=e.filter(ze=>Object.values(ze).some(Be=>String(Be).toLowerCase().includes($e)));se(qe)},className:"px-3 py-2 border rounded-md w-48 text-sm focus:ring-2 focus:ring-blue-400 transition-all duration-150 dark:bg-black dark:text-white",title:"Search"}),o.jsxs("button",{onClick:()=>{const he=Ze.map(ze=>{let Be=ze.Pair;return typeof Be=="string"&&(Be=Be.replace(/<[^>]+>/g,"")),{...ze,Pair:Be,Remarks:h[Be]||""}}),$e=Rr.book_new(),qe=Rr.json_to_sheet(he);Rr.book_append_sheet($e,qe,"Dashboard Report"),La($e,"Dashboard_Trade_Report.xlsx")},className:"bg-green-600 hover:bg-green-700 focus:ring-2 focus:ring-green-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Export to Excel",children:[o.jsx(OT,{size:18}),o.jsx("span",{className:"text-xs font-semibold",children:"Excel"})]}),o.jsxs("button",{onClick:()=>{ce({}),se(e),setSelectedIntervals({"1m":!0,"3m":!0,"5m":!0,"15m":!0,"30m":!0,"1h":!0,"4h":!0,"1d":!0}),typeof setGlobalInterval=="function"&&setGlobalInterval(null),localStorage.removeItem("globalInterval"),setTimeout(()=>{document.querySelectorAll('input[name="interval-radio"]').forEach(he=>{he.checked=!1})},0)},className:"bg-yellow-600 hover:bg-yellow-700 focus:ring-2 focus:ring-yellow-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Reset Filters",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582M20 20v-5h-.581M5.582 9A7.978 7.978 0 014 12c0 4.418 3.582 8 8 8a7.978 7.978 0 006.418-3M15 9V4h5m-1.418 5A7.978 7.978 0 0020 12c0 4.418-3.582 8-8 8a7.978 7.978 0 01-6.418-3"})}),o.jsx("span",{className:"text-xs font-semibold",children:"Reset"})]}),o.jsxs("button",{onClick:()=>Y(!0),className:"bg-gray-700 hover:bg-gray-800 focus:ring-2 focus:ring-gray-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Reorder columns",children:[o.jsx("span",{role:"img","aria-label":"settings",children:""}),o.jsx("span",{className:"text-xs font-semibold hidden sm:inline",children:"Columns"})]}),Xt&&o.jsx("button",{onClick:()=>Nn("/live-running-trades",{state:{trades:oe,formattedRows:Ze}}),className:"bg-emerald-600 hover:bg-emerald-700 focus:ring-2 focus:ring-emerald-400 text-white p-2 rounded flex items-center justify-center gap-1 transition-all duration-150",title:"Live show all  bulk actions",children:o.jsx("span",{className:"text-xs font-semibold",children:"Live show all"})}),Re!==null&&(()=>{const he=Ze[Re]||{},$e=["Stop_Price","Save_Price","Buy_Price","Sell_Price"];let qe=he.Pair;return typeof qe=="string"&&(qe=qe.replace(/<[^>]+>/g,"")),o.jsx("div",{className:"flex flex-wrap items-center gap-3 p-1 border border-gray-300 bg-white dark:bg-gray-800 rounded text-sm ml-2 transition-all duration-150",children:$e.map(ze=>{const Be=he[ze]||"N/A";return o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",style:{fontSize:"16px"},children:[ze.replace(/_/g," "),":"]}),o.jsx("button",{className:"px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 border border-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-150",style:{fontSize:"16px"},onClick:()=>{navigator.clipboard.writeText(Be),H(ze)},children:C===ze?" Copied!":`${Be} `})]},ze)})})})()]})}),o.jsxs("div",{className:"w-full flex items-start gap-2",style:{marginBottom:0,paddingBottom:0},children:[o.jsxs("div",{className:"flex flex-col items-center justify-between h-full",children:[o.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded hover:bg-gray-300 text-sm mb-1 dark:bg-black dark:text-white",onClick:()=>v(he=>Math.min(30,he+2)),children:"A+"}),o.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded hover:bg-gray-300 text-sm mt-1 dark:bg-black dark:text-white",onClick:()=>v(he=>Math.max(10,he-2)),children:"A"})]}),o.jsx("textarea",{className:"border border-gray-300 rounded p-2 resize-y w-full min-h-[48px] max-h-[200px] transition-all duration-200 dark:bg-black dark:text-white",style:{fontSize:`${p}px`,marginBottom:0,paddingBottom:0},placeholder:Re===null?"Select a row to add remarks":"Write your remarks here...",value:(()=>{if(Re===null)return"";let $e=(Ze[Re]||{}).Pair;return typeof $e=="string"&&($e=$e.replace(/<[^>]+>/g,"")),h[$e]||""})(),onChange:he=>{if(Re===null)return;let qe=(Ze[Re]||{}).Pair;typeof qe=="string"&&(qe=qe.replace(/<[^>]+>/g,"")),g(ze=>({...ze,[qe]:he.target.value}))},disabled:Re===null})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-4",style:{fontSize:`${12+(E-3)*2}px`},children:o.jsx("div",{style:{minHeight:"40px"}})}),(()=>{let he=[];switch(l){case"Closed_Count_Stats":he=["loss","profit","pj"];break;case"Buy_Sell_Stats":he=["buy","sell"];break;case"Journey_Stats_Running":he=["pj","cj","bc"];break;case"Client_Stats":he=n.map($e=>$e.MachineId);break;default:he=[]}return he.length>0?o.jsx("div",{className:"flex gap-2 mb-2",children:he.map($e=>o.jsx("button",{onClick:()=>z($e,l),className:`px-3 py-1 text-sm rounded transition-all duration-150 ease-in-out ${r===$e?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:$e.toUpperCase()},$e))}):null})(),o.jsxs("div",{className:"relative overflow-auto max-h-[600px] border border-gray-300 rounded-lg bg-[#f5ecd7] dark:bg-[#181a20]",children:[M&&o.jsxs("div",{className:"absolute z-40 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-xl p-4 w-64 mx-4 my-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Column order"}),o.jsx("button",{onClick:()=>Y(!1),className:"text-sm px-2 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Close"})]}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-2",children:"Drag to rearrange. Applies immediately."}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:(D.length?D:Object.keys(_n[0]||{})).map(he=>o.jsxs("div",{draggable:!0,onDragStart:()=>Et(he),onDragOver:$e=>bn($e,he),className:`flex items-center gap-2 px-2 py-1 border rounded cursor-move text-sm ${Q===he?"bg-yellow-100 dark:bg-yellow-900":"bg-gray-50 dark:bg-gray-800"}`,children:[o.jsx("span",{className:"opacity-70",children:""}),o.jsx("span",{className:"text-gray-800 dark:text-gray-100 truncate",children:he.replace(/_/g," ")})]},he))}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsx("button",{className:"text-xs px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>Y(!1),children:"Done"}),o.jsx("button",{className:"text-xs px-3 py-1 rounded bg-red-200 hover:bg-red-300 dark:bg-red-700 dark:hover:bg-red-600 text-red-900 dark:text-white",onClick:Mt,children:"Reset"})]})]}),o.jsxs("table",{className:"w-full border-collapse",style:{fontSize:`${12+(E-3)*2}px`},children:[o.jsx("thead",{className:"sticky top-0 z-30 bg-teal-700 text-white",style:{fontSize:"inherit"},children:o.jsx("tr",{children:(D.length?D:[...Object.keys(_n[0]||{}),"Live"]).map((he,$e)=>{const qe=he==="",ze=he==="Live";return o.jsx("th",{onClick:!qe&&!ze?()=>on(he):void 0,className:`relative px-4 py-2 text-left whitespace-nowrap ${qe||ze?"cursor-default":"cursor-pointer"} ${$e===0&&"min-w-[50px] max-w-[50px] sticky left-0 bg-teal-700 text-white z-[5]"} ${$e===1&&"min-w-[60px] max-w-[60px] sticky left-[50px] bg-teal-700 text-white z-[5]"} ${$e===2&&"min-w-[30px] max-w-[30px] sticky left-[110px] bg-teal-700 text-white z-[5] text-center"} ${$e===3&&"min-w-[170px] max-w-[170px] sticky left-[140px] bg-teal-700 text-white z-[5]"}`,style:{fontSize:"inherit"},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:ze?"Live":he.replace(/_/g," ")}),!qe&&o.jsx("span",{className:"ml-1",children:ae.key===he?ae.direction==="asc"?o.jsx("span",{className:"text-yellow-300",children:""}):o.jsx("span",{className:"text-yellow-300",children:""}):o.jsx("span",{className:"opacity-60",children:""})}),!qe&&!ze&&o.jsx("span",{className:"ml-1 cursor-pointer filter-icon","data-index":$e,onClick:Be=>{Be.stopPropagation(),tt($e,Be)},children:""})]})},he)})})}),o.jsx("tbody",{children:Ze.map((he,$e)=>{var wt;const qe=Ue(he),ze=qe&&(qe.exist_in_exchange===!0||qe.exist_in_exchange==="true"||qe.exist_in_exchange===1),Be=ze?O2(qe.pair||qe.symbol):"",R=Be?re[Be]:null,ge=Kt(he.Unique_ID)||`row-${$e}`,Ie=je===ge;return o.jsxs(qr.Fragment,{children:[o.jsx("tr",{className:`cursor-pointer ${Re===$e?"bg-amber-200 dark:bg-amber-400 text-black":"hover:bg-green-200 dark:hover:bg-[#3d4451] dark:hover:text-white"}`,style:{fontSize:`${12+(E-3)*2}px`},onClick:()=>jt(ht=>ht===$e?null:$e),children:(D.length?D:[...Object.keys(he),"Live"]).map((ht,$t)=>{if(ht==="Live")return o.jsx("td",{className:"px-2 py-1 whitespace-nowrap align-middle text-center",onClick:ot=>ot.stopPropagation(),children:o.jsx("button",{type:"button",onClick:()=>{const ot=Ue(he),ct=`liveTradeViewState_${Date.now()}`;try{localStorage.setItem(ct,JSON.stringify({formattedRow:he,rawTrade:ot}))}catch{}const Wt=gm(`stateKey=${encodeURIComponent(ct)}`);window.open(Wt,"_blank","noopener,noreferrer")},className:"px-2 py-1 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-semibold transition-colors",title:"Open live trade view in new tab",children:"Live"})},$t);const sn=he[ht],bt=typeof sn=="string"?sn:sn!=null?String(sn):"";return ht==="Pair"?o.jsx("td",{className:`
                        px-2 py-1 whitespace-nowrap align-top text-sm select-text
                        ${Re===$e?"text-amber-900":"text-sky-500 dark:text-yellow-300"}
                        ${$t===0&&"min-w-[50px] max-w-[50px] sticky left-0 bg-[#046e7a] text-white z-[5] text-xs"}
                        ${$t===1&&"min-w-[60px] max-w-[60px] sticky left-[50px] bg-[#046e7a] text-white z-[5] text-[10px] font-light"}
                        ${$t===2&&"min-w-[30px] max-w-[30px] sticky left-[110px] bg-[#046e7a] text-white z-[5] text-center"}
                        ${$t===3&&"min-w-[170px] max-w-[170px] sticky left-[140px] bg-[#046e7a] text-white z-[5] text-[12px] leading-snug"}
                      `,style:{fontSize:"inherit"},dangerouslySetInnerHTML:{__html:Re===$e?bt.replace(/color:(#[A-Fa-f0-9]{6}|[a-zA-Z]+)/g,"color:#b45309"):bt.replace(/color:(#[A-Fa-f0-9]{6}|[a-zA-Z]+)/g,"color:#0ea5e9")}},$t):ht===""?o.jsx("td",{className:`
                        px-1 py-1 whitespace-nowrap align-top text-sm
                        ${$t===2&&"min-w-[30px] max-w-[30px] sticky left-[110px] bg-[#046e7a] text-white z-[5] text-center"}
                      `,style:{fontSize:"inherit"},children:o.jsx("button",{onClick:ot=>{ot.stopPropagation();const ct=he.Unique_ID;ct&&ct!=="N/A"&&navigator.clipboard.writeText(ct).then(()=>{const Wt=ot.target,vn=Wt.textContent;Wt.textContent="",Wt.className="text-green-400 text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all",setTimeout(()=>{Wt.textContent=vn,Wt.className="text-gray-300 hover:text-white text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all cursor-pointer"},1e3)}).catch(()=>{const Wt=document.createElement("textarea");Wt.value=ct,document.body.appendChild(Wt),Wt.select(),document.execCommand("copy"),document.body.removeChild(Wt);const vn=ot.target,Wn=vn.textContent;vn.textContent="",vn.className="text-green-400 text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all",setTimeout(()=>{vn.textContent=Wn,vn.className="text-gray-300 hover:text-white text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all cursor-pointer"},1e3)})},className:"text-gray-300 hover:text-white text-xs px-1 py-0.5 rounded hover:bg-gray-600 transition-all cursor-pointer",title:"Click to copy Unique ID",children:""})},$t):$t===0?o.jsx("td",{className:`
                          px-2 py-1 whitespace-nowrap align-top text-sm select-text
                          min-w-[50px] max-w-[50px] sticky left-0 bg-[#046e7a] text-white z-[5] text-xs
                        `,style:{fontSize:"inherit"},onClick:ze?ot=>{ot.stopPropagation(),We(ct=>ct===ge?null:ge)}:void 0,children:ze?o.jsxs("span",{className:"inline-flex items-center gap-1 cursor-pointer",title:"Toggle exchange data",children:[Ie?o.jsx(tF,{size:14}):o.jsx(rF,{size:14}),bt]}):bt},$t):o.jsx("td",{className:`
                          px-2 py-1 whitespace-nowrap align-top text-sm select-text
                          ${$t===1&&"min-w-[60px] max-w-[60px] sticky left-[50px] bg-[#046e7a] text-white z-[5] text-[10px] font-light"}
                          ${$t===2&&"min-w-[30px] max-w-[30px] sticky left-[110px] bg-[#046e7a] text-white z-[5] text-center"}
                          ${$t===3&&"min-w-[170px] max-w-[170px] sticky left-[140px] bg-[#046e7a] text-white z-[5] text-[12px] leading-snug"}
                          ${["Candle_Time","Fetcher_Trade_Time","Operator_Trade_Time","Operator_Close_Time"].includes(ht)?"text-[11px]":""}
                          ${["Type","Action","Interval","CJ","PJ"].includes(ht)?"min-w-[60px] max-w-[60px] text-center":""}
                          ${ht==="Unique_ID"?"text-black":""}
                        `,style:{fontSize:ht==="Unique_ID"?`${8+(E-2)*2}px`:"inherit"},children:ht==="Unique_ID"&&typeof bt=="string"&&bt.match(/\d{4}-\d{2}-\d{2}/)?(()=>{const ot=bt.match(/\d{4}-\d{2}-\d{2}/);if(!ot)return bt;const ct=bt.indexOf(ot[0]),Wt=bt.slice(0,ct),vn=bt.slice(ct).replace("T"," ");return o.jsxs("div",{className:"cursor-pointer font-bold text-yellow-400 hover:underline hover:text-yellow-300",onClick:Wn=>{Wn.stopPropagation(),window.open(gm(`uid=${encodeURIComponent(bt)}`),"_blank")},title:"Click to view live trade details",children:[o.jsx("div",{className:"leading-tight",children:Wt}),o.jsx("div",{className:"opacity-80 -mt-[2px] leading-tight",children:vn})]})})():ht==="Unique_ID"&&typeof bt=="string"&&bt!=="N/A"?o.jsx("div",{className:"cursor-pointer font-bold text-yellow-400 hover:underline hover:text-yellow-300",onClick:ot=>{ot.stopPropagation(),window.open(gm(`uid=${encodeURIComponent(bt)}`),"_blank")},title:"Click to view live trade details",children:bt}):ht==="PL"?bt!=="N/A"?o.jsx("span",{className:Re===$e?parseFloat(bt)>=0?"text-green-800":"text-black":parseFloat(bt)>=0?"text-green-400":"text-red-400",children:bt}):bt:ht==="PL_After_Comm"&&bt!=="N/A"?`$${bt}`:bt},$t)})},$e),Ie&&ze&&o.jsx("tr",{className:"bg-gray-100 dark:bg-gray-800",children:o.jsx("td",{colSpan:D.length||Object.keys(he).length+1,className:"p-3 align-top",children:o.jsxs("div",{className:"text-xs",children:[o.jsxs("div",{className:"font-semibold text-teal-700 dark:text-teal-400 mb-1",children:["Exchange position: ",Be]}),R!=null&&R.ok&&((wt=R==null?void 0:R.positions)!=null&&wt.length)?o.jsxs("table",{className:"w-full border border-gray-300 dark:border-gray-600 rounded overflow-hidden",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-teal-100 dark:bg-teal-900/40",children:R.positions[0]&&Object.keys(R.positions[0]).map(ht=>o.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300 dark:border-gray-600 font-medium",children:ht.replace(/([A-Z])/g," $1").trim()},ht))})}),o.jsx("tbody",{children:R.positions.map((ht,$t)=>o.jsx("tr",{className:"border-b border-gray-200 dark:border-gray-700 last:border-0",children:Object.keys(ht).map(sn=>{const bt=ht[sn],ot=parseFloat(bt),ct=!isNaN(ot)&&typeof bt!="boolean",Wt=bt==null?"":ct?sn.toLowerCase().includes("price")||sn.toLowerCase().includes("profit")||sn.toLowerCase().includes("margin")?ot.toFixed(4):ot.toFixed(2):String(bt),vn=sn==="unRealizedProfit"&&ct?ot>=0?"text-green-600":"text-red-600":"";return o.jsx("td",{className:`px-2 py-1 ${vn}`,children:Wt},sn)})},$t))})]}):(R==null?void 0:R.ok)===!1?o.jsx("span",{className:"text-amber-600",children:(R==null?void 0:R.error)||"Failed to fetch"}):o.jsx("span",{className:"text-gray-500",children:"Loading exchange data"})]})})},`ex-${$e}`)]},$e)})})]})]})]})},vh=({icon:t,text:e,isOpen:n,to:r,isActive:s})=>o.jsxs(nE,{to:r,className:({isActive:l})=>`flex items-center space-x-4 px-4 py-3 hover:bg-gray-700 rounded-lg cursor-pointer transition-all ${l?"bg-gray-700 text-blue-400":"text-white"}`,children:[o.jsx(t,{size:24}),o.jsx("span",{className:`transition-all ${n?"block":"hidden"}`,children:e.replace(/_/g," ")})]}),R1=({isOpen:t,toggleSidebar:e})=>o.jsxs("div",{className:`fixed h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white transition-all duration-300 ${t?"w-64":"w-20"}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-5",children:[o.jsx("h2",{className:`text-xl font-bold transition-all ${t?"block":"hidden"}`,children:"LAB"}),o.jsx("button",{onClick:e,className:"focus:outline-none",children:t?o.jsx(TF,{size:24}):o.jsx(mF,{size:24})})]}),o.jsx("nav",{className:"mt-10",children:o.jsxs("ul",{className:"space-y-4",children:[o.jsx("li",{children:o.jsx(vh,{icon:OT,text:"Dashboard",isOpen:t,to:"/"})}),o.jsx("li",{children:o.jsx(vh,{icon:AT,text:"Trades",isOpen:t,to:"/trades"})}),o.jsx("li",{children:o.jsx(vh,{icon:EF,text:"Clients",isOpen:t,to:"/clients"})}),o.jsx("li",{children:o.jsx(vh,{icon:ZP,text:"Reports & Logs",isOpen:t,to:"/reports"})})]})})]}),D2="tradingview-widget-script";function DF(){if(!document.getElementById(D2)){const t=document.createElement("script");t.id=D2,t.src="https://s3.tradingview.com/tv.js",t.async=!0,document.body.appendChild(t)}}const RF=[{key:"RSI@tv-basicstudies",label:"RSI-9"},{key:"MACD@tv-basicstudies",label:"MACD"},{key:"Volume@tv-basicstudies",label:"Volume"}],R2={"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},M2=t=>{if(!t)return"BTCUSDT";let e=t.replace(/<[^>]+>/g,"").replace(/\s+/g,"").replace(/[^A-Z0-9]/gi,"").replace("PERPETUALCONTRACT","").replace("PERP","").replace("Chart","").toUpperCase();return e.startsWith("BINANCE")&&(e=e.slice(7)),e=e.replace(/\d{6,}$/,""),e},MF=({symbols:t=[],trades:e=[]})=>{const n=(ce,L)=>{try{const F=localStorage.getItem(`chartGridSetting_${ce}`);if(F!==null)return JSON.parse(F)}catch{}return L},[r,s]=x.useState(t),[l,c]=x.useState(e),[d,h]=x.useState(n("source","tradingview")),[g,p]=x.useState(n("interval","15m")),[v,_]=x.useState(n("indicators",["RSI@tv-basicstudies","MACD@tv-basicstudies","Volume@tv-basicstudies"])),[y,E]=x.useState(n("layout",3)),[S,k]=x.useState(0),[D,A]=x.useState(n("pageSize",50)),[M,Y]=x.useState(n("chartSize",{width:400,height:400})),[Q,K]=x.useState(14),z=x.useRef();x.useEffect(()=>{const ce=new BroadcastChannel("chart-grid-data");if(ce.onmessage=L=>{L.data.symbols&&(s(L.data.symbols),localStorage.setItem("chartGridSymbols",JSON.stringify(L.data.symbols))),L.data.trades&&(c(L.data.trades),localStorage.setItem("chartGridTrades",JSON.stringify(L.data.trades)))},(!t||t.length===0)&&r.length===0){const L=localStorage.getItem("chartGridSymbols");L&&s(JSON.parse(L))}if((!e||e.length===0)&&l.length===0){const L=localStorage.getItem("chartGridTrades");L&&c(JSON.parse(L))}return()=>ce.close()},[]),x.useEffect(()=>{d==="tradingview"&&DF()},[d]),x.useEffect(()=>{d!=="tradingview"||!window.TradingView||ee().forEach((ce,L)=>{const F=M2(ce.Pair),C=`tv_chart_${L}`,H=document.getElementById(C);H&&(H.innerHTML=""),new window.TradingView.widget({container_id:C,autosize:!0,symbol:`BINANCE:${F}PERP`,interval:R2[g]||"15",timezone:"Etc/UTC",theme:"dark",style:"8",locale:"en",studies:v,overrides:{volumePaneSize:v.includes("Volume@tv-basicstudies")?"medium":"0","paneProperties.topMargin":10,"paneProperties.bottomMargin":15,"paneProperties.rightMargin":20,"scalesProperties.fontSize":11},studies_overrides:{"RSI@tv-basicstudies.length":9},hide_side_toolbar:!1,allow_symbol_change:!1,details:!0,withdateranges:!0,hideideas:!0,toolbar_bg:"#222",height:M.height,width:M.width})})},[d,g,v,y,S,M,l,D]);const ee=()=>l.slice(S*D,(S+1)*D),se=Math.ceil(l.length/D),oe=x.useRef(),[Ee,re]=x.useState(!1),[me,je]=x.useState({x:0,y:0,width:400,height:400}),We=ce=>{re(!0),je({x:ce.clientX,y:ce.clientY,width:M.width,height:M.height})},ae=ce=>{if(!Ee)return;const L=ce.clientX-me.x,F=ce.clientY-me.y;Y({width:Math.max(200,me.width+L),height:Math.max(200,me.height+F)})},Le=()=>re(!1);x.useEffect(()=>(Ee?(window.addEventListener("mousemove",ae),window.addEventListener("mouseup",Le)):(window.removeEventListener("mousemove",ae),window.removeEventListener("mouseup",Le)),()=>{window.removeEventListener("mousemove",ae),window.removeEventListener("mouseup",Le)}),[Ee]);const[Re,jt]=x.useState({}),P=(ce,L,F)=>{L&&(navigator.clipboard.writeText(L.toString()),jt(C=>({...C,[`${F}_${ce}`]:!0})),setTimeout(()=>jt(C=>({...C,[`${F}_${ce}`]:!1})),1200))};return x.useEffect(()=>{localStorage.setItem("chartGridSetting_source",JSON.stringify(d))},[d]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_interval",JSON.stringify(g))},[g]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_indicators",JSON.stringify(v))},[v]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_layout",JSON.stringify(y))},[y]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_pageSize",JSON.stringify(D))},[D]),x.useEffect(()=>{localStorage.setItem("chartGridSetting_chartSize",JSON.stringify(M))},[M]),o.jsxs("div",{className:"w-full h-full min-h-screen bg-black",children:[o.jsxs("div",{className:"w-full text-center text-white py-2 text-sm font-semibold",children:["Total Trades: ",l.length]}),o.jsxs("div",{ref:z,className:"sticky top-0 z-40 bg-[#181818] shadow p-4 flex flex-wrap gap-4 items-center justify-between",style:{borderBottom:"1px solid #222"},children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-center text-white",children:[o.jsxs("label",{children:["Source:",o.jsxs("select",{value:d,onChange:ce=>h(ce.target.value),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[o.jsx("option",{value:"tradingview",children:"TradingView"}),o.jsx("option",{value:"binance",children:"Binance"})]})]}),o.jsxs("label",{children:["Interval:",o.jsx("select",{value:g,onChange:ce=>p(ce.target.value),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:Object.keys(R2).map(ce=>o.jsx("option",{value:ce,children:ce},ce))})]}),o.jsx("label",{children:"Indicators:"}),RF.map(ce=>o.jsxs("label",{className:"ml-2 flex items-center gap-1",children:[o.jsx("input",{type:"checkbox",checked:v.includes(ce.key),onChange:L=>{_(F=>L.target.checked?[...F,ce.key]:F.filter(C=>C!==ce.key))}}),o.jsx("span",{className:"text-white",children:ce.label})]},ce.key)),o.jsxs("label",{children:["Layout:",o.jsx("select",{value:y,onChange:ce=>E(Number(ce.target.value)),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[1,2,3,4,5,6].map(ce=>o.jsxs("option",{value:ce,children:[ce," per row"]},ce))})]}),o.jsxs("label",{children:["Page Size:",o.jsx("select",{value:D,onChange:ce=>{A(Number(ce.target.value)),k(0)},className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[10,20,50,100,200].map(ce=>o.jsx("option",{value:ce,children:ce},ce))})]}),o.jsxs("label",{children:["Font Size:",o.jsx("select",{value:Q,onChange:ce=>K(Number(ce.target.value)),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[12,14,16,18,20].map(ce=>o.jsxs("option",{value:ce,children:[ce,"px"]},ce))})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-white",children:[o.jsx("button",{disabled:S===0,onClick:()=>k(ce=>Math.max(0,ce-1)),className:"px-2 py-1 bg-[#222] rounded text-white",children:"Prev"}),o.jsxs("span",{children:["Page ",S+1," / ",se]}),o.jsx("button",{disabled:S>=se-1,onClick:()=>k(ce=>Math.min(se-1,ce+1)),className:"px-2 py-1 bg-[#222] rounded text-white",children:"Next"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-white",children:[o.jsx("span",{children:"Chart Size:"}),o.jsx("div",{ref:oe,onMouseDown:We,style:{width:24,height:24,background:Ee?"#333":"#222",cursor:"nwse-resize",borderRadius:4,display:"inline-block",border:"1px solid #444",color:"#fff"},title:"Drag to resize charts",children:"45"}),o.jsxs("span",{children:[M.width,"x",M.height]})]})]}),o.jsx("div",{className:"grid gap-6 p-6",style:{gridTemplateColumns:`repeat(${y}, minmax(0, 1fr))`,background:"#111"},children:ee().map((ce,L)=>{const F=M2(ce.Pair);return o.jsxs("div",{className:"bg-[#181818] rounded-lg p-2 flex flex-col items-center shadow relative",style:{minHeight:M.height,minWidth:M.width},children:[o.jsxs("div",{className:"font-bold mb-1 text-white",children:[F," ",d==="tradingview"?"4c8":"7e1"," CHART"]}),d==="tradingview"?o.jsx("div",{id:`tv_chart_${L}`,style:{width:"100%",height:M.height}}):o.jsx("iframe",{title:F,src:`https://www.binance.com/en/futures/${F}`,style:{width:"100%",height:M.height,border:0},sandbox:"allow-scripts allow-same-origin allow-popups"}),o.jsxs("div",{className:"mt-2 text-white w-full flex flex-col gap-1",style:{fontSize:Q},children:[o.jsxs("div",{children:["PL: ",o.jsx("b",{children:ce.PL??"N/A"})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"cursor-pointer hover:underline px-1",onClick:()=>P("Buy_Price",ce.Buy_Price,L),title:"Click to copy",children:["Buy: ",o.jsx("b",{children:ce.Buy_Price??"N/A"}),Re[`${L}_Buy_Price`]&&o.jsx("span",{className:"ml-1 text-green-400",children:"Copied!"})]}),o.jsx("span",{className:"mx-1",children:"|"}),o.jsxs("span",{className:"cursor-pointer hover:underline px-1",onClick:()=>P("Sell_Price",ce.Sell_Price,L),title:"Click to copy",children:["Sell: ",o.jsx("b",{children:ce.Sell_Price??"N/A"}),Re[`${L}_Sell_Price`]&&o.jsx("span",{className:"ml-1 text-green-400",children:"Copied!"})]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"cursor-pointer hover:underline px-1",onClick:()=>P("Stop_Price",ce.Stop_Price,L),title:"Click to copy",children:["Stop: ",o.jsx("b",{children:ce.Stop_Price??"N/A"}),Re[`${L}_Stop_Price`]&&o.jsx("span",{className:"ml-1 text-green-400",children:"Copied!"})]}),o.jsx("span",{className:"mx-1",children:"|"}),o.jsxs("span",{className:"cursor-pointer hover:underline px-1",onClick:()=>P("Save_Price",ce.Save_Price,L),title:"Click to copy",children:["Save: ",o.jsx("b",{children:ce.Save_Price??"N/A"}),Re[`${L}_Save_Price`]&&o.jsx("span",{className:"ml-1 text-green-400",children:"Copied!"})]})]})]})]},L)})})]})};function Qr(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function Do(t,e){return t.width===e.width&&t.height===e.height}var LF=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){n._observers=n._observers.filter(function(s){return s!==r})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function IF(t){return new LF(t)}var PF=function(){function t(e,n,r){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Qr({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(l){return l},this._allowResizeObserver=(s=r==null?void 0:r.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Qr({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Qr(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;Do(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var r=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(r,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,r=Qr(this._transformBitmapSize(e,this._canvasElementClientSize)),s=Do(this.bitmapSize,r)?null:r;n===null&&s===null||n!==null&&s!==null&&Do(n,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(n,s))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(r,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}zF().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=L2(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=IF(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var r=L2(this._canvasElement);if(r!==null){var s=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:r.devicePixelRatio,l=this._canvasElement.getClientRects(),c=l[0]!==void 0?BF(l[0],s):Qr({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(c)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var r=n.find(function(c){return c.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var s=r.devicePixelContentBoxSize[0],l=Qr({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(l)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function FF(t,e){return new PF(t,e.transform,e.options)}function L2(t){return t.ownerDocument.defaultView}function zF(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function BF(t,e){return Qr({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var HF=function(){function t(e,n,r){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function Po(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var r=t.bitmapSize;if(r.width===0||r.height===0)return null;var s=t.canvasElement.getContext("2d",e);return s===null?null:new HF(s,n,r)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const UF={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},$F={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},WF={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},VF={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YF={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},GF={color:"#26a69a",base:0},MT={color:"#2196f3"},LT={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var I2,P2;function Fo(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function IT(t,e,n,r){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(n,e+s),t.lineTo(r,e+s),t.stroke()}function so(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function oi(t){if(t===void 0)throw new Error("Value is undefined");return t}function zt(t){if(t===null)throw new Error("Value is null");return t}function Rc(t){return zt(oi(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(I2||(I2={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(P2||(P2={}));const F2={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Yi(t){return t<0?0:t>255?255:Math.round(t)||0}function PT(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const qF=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,XF=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,JF=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,KF=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Id(t){(t=t.toLowerCase())in F2&&(t=F2[t]);{const e=KF.exec(t)||JF.exec(t);if(e)return[Yi(parseInt(e[1],10)),Yi(parseInt(e[2],10)),Yi(parseInt(e[3],10)),PT(e.length<5?1:parseFloat(e[4]))]}{const e=XF.exec(t);if(e)return[Yi(parseInt(e[1],16)),Yi(parseInt(e[2],16)),Yi(parseInt(e[3],16)),1]}{const e=qF.exec(t);if(e)return[Yi(17*parseInt(e[1],16)),Yi(17*parseInt(e[2],16)),Yi(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function FT(t){return .199*t[0]+.687*t[1]+.114*t[2]}function z0(t){const e=Id(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:FT(e)>160?"black":"white"}}class vs{constructor(){this.h=[]}l(e,n,r){const s={o:e,_:n,u:r===!0};this.h.push(s)}v(e){const n=this.h.findIndex(r=>e===r.o);n>-1&&this.h.splice(n,1)}p(e){this.h=this.h.filter(n=>n._!==e)}m(e,n,r){const s=[...this.h];this.h=this.h.filter(l=>!l.u),s.forEach(l=>l.o(e,n,r))}M(){return this.h.length>0}S(){this.h=[]}}function pa(t,...e){for(const n of e)for(const r in n)n[r]!==void 0&&Object.prototype.hasOwnProperty.call(n,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof n[r]!="object"||t[r]===void 0||Array.isArray(n[r])?t[r]=n[r]:pa(t[r],n[r]));return t}function Ma(t){return typeof t=="number"&&isFinite(t)}function Pd(t){return typeof t=="number"&&t%1==0}function nf(t){return typeof t=="string"}function yh(t){return typeof t=="boolean"}function ll(t){const e=t;if(!e||typeof e!="object")return e;let n,r,s;for(r in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(s=e[r],n[r]=s&&typeof s=="object"?ll(s):s);return n}function ZF(t){return t!==null}function Fd(t){return t===null?void 0:t}const M1="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Vc(t,e,n){return e===void 0&&(e=M1),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class QF{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,n=this.j(),r=this.H();return e.P===n&&e.D===r||(e.P=n,e.D=r,e.R=Vc(n,r),e.L=2.5/12*n,e.B=e.L,e.A=n/12*e.T,e.I=n/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class L1{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,n,r){this.Y.forEach(s=>{s.X(e,n,r)})}}class xa{X(e,n,r){e.useBitmapCoordinateSpace(s=>this.K(s,n,r))}}let ez=class extends xa{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.G===null||this.G.tt===null)return;const s=this.G.tt,l=this.G,c=Math.max(1,Math.floor(n))%2/2,d=h=>{e.beginPath();for(let g=s.to-1;g>=s.from;--g){const p=l.it[g],v=Math.round(p.nt*n)+c,_=p.st*r,y=h*r+c;e.moveTo(v,_),e.arc(v,_,y,0,2*Math.PI)}e.fill()};l.et>0&&(e.fillStyle=l.rt,d(l.ht+l.et)),e.fillStyle=l.lt,d(l.ht)}};function tz(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const nz={from:0,to:1};class rz{constructor(e,n){this.ut=new L1,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=n,this.ut.Z(this.ct)}bt(e){const n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map(tz),this.ct=this.dt.map(r=>{const s=new ez;return s.J(r),s}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,n=this.F.wt(),r=this.vt.xt(),s=this.F.St();n.forEach((l,c)=>{var d;const h=this.dt[c],g=l.kt(r);if(e||g===null||!l.yt())return void(h.tt=null);const p=zt(l.Ct());h.lt=g.Tt,h.ht=g.ht,h.et=g.Pt,h.it[0]._t=g._t,h.it[0].st=l.Dt().Rt(g._t,p.Vt),h.rt=(d=g.Ot)!==null&&d!==void 0?d:this.F.Bt(h.it[0].st/l.Dt().At()),h.it[0].ot=r,h.it[0].nt=s.It(r),h.tt=nz})}}class sz extends xa{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:s}){if(this.zt===null)return;const l=this.zt.Lt.yt,c=this.zt.Et.yt;if(!l&&!c)return;const d=Math.round(this.zt.nt*r),h=Math.round(this.zt.st*s);e.lineCap="butt",l&&d>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*r),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,Fo(e,this.zt.Lt.Nt),function(g,p,v,_){g.beginPath();const y=g.lineWidth%2?.5:0;g.moveTo(p+y,v),g.lineTo(p+y,_),g.stroke()}(e,d,0,n.height)),c&&h>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*s),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,Fo(e,this.zt.Et.Nt),IT(e,h,0,n.width))}}class iz{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new sz(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),n=zt(this.jt.Ht()),r=n.$t().W().crosshair,s=this.Ft;if(r.mode===2)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=e&&this.jt.Ut(n),s.Lt.yt=e&&this.jt.qt(),s.Et.et=r.horzLine.width,s.Et.Nt=r.horzLine.style,s.Et.V=r.horzLine.color,s.Lt.et=r.vertLine.width,s.Lt.Nt=r.vertLine.style,s.Lt.V=r.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function az(t,e,n,r,s,l){t.fillRect(e+l,n,r-2*l,l),t.fillRect(e+l,n+s-l,r-2*l,l),t.fillRect(e,n,l,s),t.fillRect(e+r-l,n,l,s)}function B0(t,e,n,r,s,l){t.save(),t.globalCompositeOperation="copy",t.fillStyle=l,t.fillRect(e,n,r,s),t.restore()}function z2(t,e,n,r,s,l){t.beginPath(),t.roundRect?t.roundRect(e,n,r,s,l):(t.lineTo(e+r-l[1],n),l[1]!==0&&t.arcTo(e+r,n,e+r,n+l[1],l[1]),t.lineTo(e+r,n+s-l[2]),l[2]!==0&&t.arcTo(e+r,n+s,e+r-l[2],n+s,l[2]),t.lineTo(e+l[3],n+s),l[3]!==0&&t.arcTo(e,n+s,e,n+s-l[3],l[3]),t.lineTo(e,n+l[0]),l[0]!==0&&t.arcTo(e,n,e+l[0],n,l[0]))}function B2(t,e,n,r,s,l,c=0,d=[0,0,0,0],h=""){if(t.save(),!c||!h||h===l)return z2(t,e,n,r,s,d),t.fillStyle=l,t.fill(),void t.restore();const g=c/2;var p;z2(t,e+g,n+g,r-c,s-c,(p=-g,d.map(v=>v===0?v:v+p))),l!=="transparent"&&(t.fillStyle=l,t.fill()),h!=="transparent"&&(t.lineWidth=c,t.strokeStyle=h,t.closePath(),t.stroke()),t.restore()}function zT(t,e,n,r,s,l,c){t.save(),t.globalCompositeOperation="copy";const d=t.createLinearGradient(0,0,0,s);d.addColorStop(0,l),d.addColorStop(1,c),t.fillStyle=d,t.fillRect(e,n,r,s),t.restore()}class H2{constructor(e,n){this.J(e,n)}J(e,n){this.zt=e,this.Xt=n}At(e,n){return this.zt.yt?e.P+e.L+e.B:0}X(e,n,r,s){if(!this.zt.yt||this.zt.Kt.length===0)return;const l=this.zt.V,c=this.Xt.t,d=e.useBitmapCoordinateSpace(h=>{const g=h.context;g.font=n.R;const p=this.Gt(h,n,r,s),v=p.Jt;return p.Qt?B2(g,v.ti,v.ii,v.ni,v.si,c,v.ei,[v.ht,0,0,v.ht],c):B2(g,v.ri,v.ii,v.ni,v.si,c,v.ei,[0,v.ht,v.ht,0],c),this.zt.hi&&(g.fillStyle=l,g.fillRect(v.ri,v.li,v.ai-v.ri,v.oi)),this.zt._i&&(g.fillStyle=n.O,g.fillRect(p.Qt?v.ui-v.ei:0,v.ii,v.ei,v.ci-v.ii)),p});e.useMediaCoordinateSpace(({context:h})=>{const g=d.di;h.font=n.R,h.textAlign=d.Qt?"right":"left",h.textBaseline="middle",h.fillStyle=l,h.fillText(this.zt.Kt,g.fi,(g.ii+g.ci)/2+g.pi)})}Gt(e,n,r,s){var l;const{context:c,bitmapSize:d,mediaSize:h,horizontalPixelRatio:g,verticalPixelRatio:p}=e,v=this.zt.hi||!this.zt.mi?n.T:0,_=this.zt.bi?n.C:0,y=n.L+this.Xt.wi,E=n.B+this.Xt.gi,S=n.A,k=n.I,D=this.zt.Kt,A=n.P,M=r.Mi(c,D),Y=Math.ceil(r.xi(c,D)),Q=A+y+E,K=n.C+S+k+Y+v,z=Math.max(1,Math.floor(p));let ee=Math.round(Q*p);ee%2!=z%2&&(ee+=1);const se=_>0?Math.max(1,Math.floor(_*g)):0,oe=Math.round(K*g),Ee=Math.round(v*g),re=(l=this.Xt.Si)!==null&&l!==void 0?l:this.Xt.ki,me=Math.round(re*p)-Math.floor(.5*p),je=Math.floor(me+z/2-ee/2),We=je+ee,ae=s==="right",Le=ae?h.width-_:_,Re=ae?d.width-se:se;let jt,P,ce;return ae?(jt=Re-oe,P=Re-Ee,ce=Le-v-S-_):(jt=Re+oe,P=Re+Ee,ce=Le+v+S),{Qt:ae,Jt:{ii:je,li:me,ci:We,ni:oe,si:ee,ht:2*g,ei:se,ti:jt,ri:Re,ai:P,oi:z,ui:d.width},di:{ii:je/p,ci:We/p,fi:ce,pi:M}}}}class H0{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||H2)(this.Ci,this.yi),this.Ri=new(e||H2)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,n=!1){return Math.max(this.Pi.At(e,n),this.Ri.At(e,n))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class lz extends H0{constructor(e,n,r){super(),this.jt=e,this.Li=n,this.Ei=r}zi(e,n,r){if(e.yt=!1,this.jt.W().mode===2)return;const s=this.jt.W().horzLine;if(!s.labelVisible)return;const l=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||l===null)return;const c=z0(s.labelBackgroundColor);r.t=c.t,e.V=c.i;const d=2/12*this.Li.P();r.wi=d,r.gi=d;const h=this.Ei(this.Li);r.ki=h.ki,e.Kt=this.Li.Fi(h._t,l),e.yt=!0}}const oz=/[1-9]/g;class BT{constructor(){this.zt=null}J(e){this.zt=e}X(e,n){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const r=e.useMediaCoordinateSpace(({context:_})=>(_.font=n.R,Math.round(n.Wi.xi(_,zt(this.zt).Kt,oz))));if(r<=0)return;const s=n.ji,l=r+2*s,c=l/2,d=this.zt.Hi;let h=this.zt.ki,g=Math.floor(h-c)+.5;g<0?(h+=Math.abs(0-g),g=Math.floor(h-c)+.5):g+l>d&&(h-=Math.abs(d-(g+l)),g=Math.floor(h-c)+.5);const p=g+l,v=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);e.useBitmapCoordinateSpace(({context:_,horizontalPixelRatio:y,verticalPixelRatio:E})=>{const S=zt(this.zt);_.fillStyle=S.t;const k=Math.round(g*y),D=Math.round(0*E),A=Math.round(p*y),M=Math.round(v*E),Y=Math.round(2*y);if(_.beginPath(),_.moveTo(k,D),_.lineTo(k,M-Y),_.arcTo(k,M,k+Y,M,Y),_.lineTo(A-Y,M),_.arcTo(A,M,A,M-Y,Y),_.lineTo(A,D),_.fill(),S.hi){const Q=Math.round(S.ki*y),K=D,z=Math.round((K+n.T)*E);_.fillStyle=S.V;const ee=Math.max(1,Math.floor(y)),se=Math.floor(.5*y);_.fillRect(Q-se,K,ee,z-K)}}),e.useMediaCoordinateSpace(({context:_})=>{const y=zt(this.zt),E=0+n.C+n.T+n.L+n.P/2;_.font=n.R,_.textAlign="left",_.textBaseline="middle",_.fillStyle=y.V;const S=n.Wi.Mi(_,"Apr0");_.translate(g+s,E+S),_.fillText(y.Kt,0,0)})}}class cz{constructor(e,n,r){this.ft=!0,this.Wt=new BT,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=n,this.Ei=r}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const n=this.vt.W().vertLine;if(!n.labelVisible)return;const r=this.$i.St();if(r.Ni())return;e.Hi=r.Hi();const s=this.Ei();if(s===null)return;e.ki=s.ki;const l=r.Ui(this.vt.xt());e.Kt=r.qi(zt(l)),e.yt=!0;const c=z0(n.labelBackgroundColor);e.t=c.t,e.V=c.i,e.hi=r.W().ticksVisible}}class I1{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var U2;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(U2||(U2={}));class uz extends I1{constructor(e,n){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=n,this.dn=new rz(e,this),this.fn=((s,l)=>c=>{const d=l(),h=s();if(c===zt(this.tn).vn())return{_t:h,ki:d};{const g=zt(c.Ct());return{_t:c.pn(d,g),ki:d}}})(()=>this.nn,()=>this.an);const r=((s,l)=>()=>{const c=this.$i.St().mn(s()),d=l();return c&&Number.isFinite(d)?{ot:c,ki:d}:null})(()=>this.sn,()=>this.Yt());this.bn=new cz(this,e,r),this.wn=new iz(this)}W(){return this.cn}gn(e,n){this._n=e,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,n,r){this.hn||(this.hn=!0),this.en=!0,this.yn(e,n,r)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,n){this.en&&this.tn===e||this.rn.clear();const r=[];return this.tn===e&&r.push(this.Dn(this.rn,n,this.fn)),r}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,n,r){this.Bn(e,n,r)&&this.Vn()}Bn(e,n,r){const s=this.ln,l=this.an,c=this.nn,d=this.sn,h=this.tn,g=this.On(r);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=r;const p=g!==null?g.Ct():null;return g!==null&&p!==null?(this.nn=n,this.an=g.Rt(n,p)):(this.nn=NaN,this.an=NaN),s!==this.ln||l!==this.an||d!==this.sn||c!==this.nn||h!==this.tn}Tn(){const e=this.$i.wt().map(r=>r.In().An()).filter(ZF),n=e.length===0?null:Math.max(...e);this.sn=n!==null?n:NaN}Dn(e,n,r){let s=e.get(n);return s===void 0&&(s=new lz(this,n,r),e.set(n,s)),s}}function U0(t){return t==="left"||t==="right"}class $s{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,n){const r=function(s,l){return s===void 0?l:{Fn:Math.max(s.Fn,l.Fn),Wn:s.Wn||l.Wn}}(this.zn.get(e),n);this.zn.set(e,r)}jn(){return this.En}Hn(e){const n=this.zn.get(e);return n===void 0?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const n of e.Ln)this.ns(n);this.En=Math.max(this.En,e.En),e.zn.forEach((n,r)=>{this.Nn(r,n)})}static ss(){return new $s(2)}static es(){return new $s(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(n=>n.qn===5);e!==-1&&this.Ln.splice(e,1)}}const $2=".";function ol(t,e){if(!Ma(t))return"n/a";if(!Pd(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class $0{constructor(e,n){if(n||(n=1),Ma(e)&&Pd(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const n=this.Li/this.rs;let r=Math.floor(e),s="";const l=this._s!==void 0?this._s:NaN;if(n>1){let c=+(Math.round(e*n)-r*n).toFixed(this._s);c>=n&&(c-=n,r+=1),s=$2+ol(+c.toFixed(this._s)*this.rs,l)}else r=Math.round(r*n)/n,l>0&&(s=$2+ol(0,l));return r.toFixed(0)+s}}class HT extends $0{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class dz{constructor(e){this.us=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.cs(e):e<999995?n+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.cs(e/1e9)+"B")}cs(e){let n;const r=Math.pow(10,this.us);return n=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(s,l)=>l)}}function UT(t,e,n,r,s,l,c){if(e.length===0||r.from>=e.length||r.to<=0)return;const{context:d,horizontalPixelRatio:h,verticalPixelRatio:g}=t,p=e[r.from];let v=l(t,p),_=p;if(r.to-r.from<2){const y=s/2;d.beginPath();const E={nt:p.nt-y,st:p.st},S={nt:p.nt+y,st:p.st};d.moveTo(E.nt*h,E.st*g),d.lineTo(S.nt*h,S.st*g),c(t,v,E,S)}else{const y=(S,k)=>{c(t,v,_,k),d.beginPath(),v=S,_=k};let E=_;d.beginPath(),d.moveTo(p.nt*h,p.st*g);for(let S=r.from+1;S<r.to;++S){E=e[S];const k=l(t,E);switch(n){case 0:d.lineTo(E.nt*h,E.st*g);break;case 1:d.lineTo(E.nt*h,e[S-1].st*g),k!==v&&(y(k,E),d.lineTo(E.nt*h,e[S-1].st*g)),d.lineTo(E.nt*h,E.st*g);break;case 2:{const[D,A]=fz(e,S-1,S);d.bezierCurveTo(D.nt*h,D.st*g,A.nt*h,A.st*g,E.nt*h,E.st*g);break}}n!==1&&k!==v&&(y(k,E),d.moveTo(E.nt*h,E.st*g))}(_!==E||_===E&&n===1)&&c(t,v,_,E)}}const W2=6;function pm(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function V2(t,e){return{nt:t.nt/e,st:t.st/e}}function fz(t,e,n){const r=Math.max(0,e-1),s=Math.min(t.length-1,n+1);var l,c;return[(l=t[e],c=V2(pm(t[n],t[r]),W2),{nt:l.nt+c.nt,st:l.st+c.st}),pm(t[n],V2(pm(t[s],t[e]),W2))]}function hz(t,e,n,r,s){const{context:l,horizontalPixelRatio:c,verticalPixelRatio:d}=e;l.lineTo(s.nt*c,t*d),l.lineTo(r.nt*c,t*d),l.closePath(),l.fillStyle=n,l.fill()}class $T extends xa{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var n;if(this.G===null)return;const{it:r,tt:s,ds:l,et:c,Nt:d,fs:h}=this.G,g=(n=this.G.vs)!==null&&n!==void 0?n:this.G.ps?0:e.mediaSize.height;if(s===null)return;const p=e.context;p.lineCap="butt",p.lineJoin="round",p.lineWidth=c,Fo(p,d),p.lineWidth=1,UT(e,r,h,s,l,this.bs.bind(this),hz.bind(null,g))}}function xx(t,e,n){return Math.min(Math.max(t,e),n)}function bh(t,e,n){return e-t<=n}function WT(t){const e=Math.ceil(t);return e%2==0?e-1:e}class P1{ws(e,n){const r=this.gs,{Ms:s,xs:l,Ss:c,ks:d,ys:h,vs:g}=n;if(this.Cs===void 0||r===void 0||r.Ms!==s||r.xs!==l||r.Ss!==c||r.ks!==d||r.vs!==g||r.ys!==h){const p=e.context.createLinearGradient(0,0,0,h);if(p.addColorStop(0,s),g!=null){const v=xx(g*e.verticalPixelRatio/h,0,1);p.addColorStop(v,l),p.addColorStop(v,c)}p.addColorStop(1,d),this.Cs=p,this.gs=n}return this.Cs}}class gz extends $T{constructor(){super(...arguments),this.Ts=new P1}bs(e,n){return this.Ts.ws(e,{Ms:n.Ps,xs:"",Ss:"",ks:n.Rs,ys:e.bitmapSize.height})}}function pz(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class VT extends xa{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:n,tt:r,ds:s,fs:l,et:c,Nt:d,Ds:h}=this.G;if(r===null)return;const g=e.context;g.lineCap="butt",g.lineWidth=c*e.verticalPixelRatio,Fo(g,d),g.lineJoin="round";const p=this.Vs.bind(this);l!==void 0&&UT(e,n,l,r,s,p,pz),h&&function(v,_,y,E,S){const{horizontalPixelRatio:k,verticalPixelRatio:D,context:A}=v;let M=null;const Y=Math.max(1,Math.floor(k))%2/2,Q=y*D+Y;for(let K=E.to-1;K>=E.from;--K){const z=_[K];if(z){const ee=S(v,z);ee!==M&&(A.beginPath(),M!==null&&A.fill(),A.fillStyle=ee,M=ee);const se=Math.round(z.nt*k)+Y,oe=z.st*D;A.moveTo(se,oe),A.arc(se,oe,Q,0,2*Math.PI)}}A.fill()}(e,n,h,r,p)}}class YT extends VT{Vs(e,n){return n.lt}}function GT(t,e,n,r,s=0,l=e.length){let c=l-s;for(;0<c;){const d=c>>1,h=s+d;r(e[h],n)===t?(s=h+1,c-=d+1):c=d}return s}const rf=GT.bind(null,!0),qT=GT.bind(null,!1);function mz(t,e){return t.ot<e}function xz(t,e){return e<t.ot}function XT(t,e,n){const r=e.Os(),s=e.ui(),l=rf(t,r,mz),c=qT(t,s,xz);if(!n)return{from:l,to:c};let d=l,h=c;return l>0&&l<t.length&&t[l].ot>=r&&(d=l-1),c>0&&c<t.length&&t[c-1].ot<=s&&(h=c+1),{from:d,to:h}}class F1{constructor(e,n,r){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=n,this.Fs=r}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),n=this.Ns.St();if(this.qs(),n.Ni()||e.Ni())return;const r=n.Xs();if(r===null||this.Es.In().Ks()===0)return;const s=this.Es.Ct();s!==null&&(this.Ls=XT(this.zs,r,this.Fs),this.Gs(e,n,s.Vt),this.Js())}}class W0 extends F1{constructor(e,n){super(e,n,!0)}Gs(e,n,r){n.Qs(this.zs,Fd(this.Ls)),e.te(this.zs,r,Fd(this.Ls))}ie(e,n){return{ot:e,_t:n,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>{const r=n.Vt[3];return this.se(n.ee,r,e)})}}class vz extends W0{constructor(e,n){super(e,n),this.js=new L1,this.re=new gz,this.he=new YT,this.js.Z([this.re,this.he])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class yz extends xa{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(n),this.ae>=2&&Math.max(1,Math.floor(n))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(n)):this.ae;let s=null;const l=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*n);for(let c=this.zt.tt.from;c<this.zt.tt.to;++c){const d=this.zt.In[c];s!==d.ce&&(e.fillStyle=d.ce,s=d.ce);const h=Math.floor(.5*this.oe),g=Math.round(d.nt*n),p=g-h,v=this.oe,_=p+v-1,y=Math.min(d.de,d.fe),E=Math.max(d.de,d.fe),S=Math.round(y*r)-h,k=Math.round(E*r)+h,D=Math.max(k-S,this.oe);e.fillRect(p,S,v,D);const A=Math.ceil(1.5*this.ae);if(l){if(this.zt.ve){const K=g-A;let z=Math.max(S,Math.round(d.pe*r)-h),ee=z+v-1;ee>S+D-1&&(ee=S+D-1,z=ee-v+1),e.fillRect(K,z,p-K,ee-z+1)}const M=g+A;let Y=Math.max(S,Math.round(d.me*r)-h),Q=Y+v-1;Q>S+D-1&&(Q=S+D-1,Y=Q-v+1),e.fillRect(_+1,Y,M-_,Q-Y+1)}}}_e(e){const n=Math.floor(e);return Math.max(n,Math.floor(function(r,s){return Math.floor(.3*r*s)}(zt(this.zt).le,e)))}}class JT extends F1{constructor(e,n){super(e,n,!1)}Gs(e,n,r){n.Qs(this.zs,Fd(this.Ls)),e.be(this.zs,r,Fd(this.Ls))}we(e,n,r){return{ot:e,ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>this.se(n.ee,n,e))}}class bz extends JT{constructor(){super(...arguments),this.js=new yz}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class _z extends $T{constructor(){super(...arguments),this.Ts=new P1}bs(e,n){const r=this.G;return this.Ts.ws(e,{Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:n.Te,ys:e.bitmapSize.height,vs:r.vs})}}class Sz extends VT{constructor(){super(...arguments),this.Pe=new P1}Vs(e,n){const r=this.G;return this.Pe.ws(e,{Ms:n.Re,xs:n.Re,Ss:n.De,ks:n.De,ys:e.bitmapSize.height,vs:r.vs})}}class wz extends W0{constructor(e,n){super(e,n),this.js=new L1,this.Ve=new _z,this.Oe=new Sz,this.js.Z([this.Ve,this.Oe])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const n=this.Es.W(),r=this.Es.Dt().Rt(n.baseValue.price,e.Vt),s=this.Ns.St().le();this.Ve.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineType,vs:r,ps:!1,tt:this.Ls,ds:s}),this.Oe.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineVisible?n.lineType:void 0,Ds:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,vs:r,tt:this.Ls,ds:s})}}class Ez extends xa{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:n}=e;this.ae=function(l,c){if(l>=2.5&&l<=4)return Math.floor(3*c);const d=1-.2*Math.atan(Math.max(4,l)-4)/(.5*Math.PI),h=Math.floor(l*d*c),g=Math.floor(l*c),p=Math.min(h,g);return Math.max(Math.floor(c),p)}(this.zt.le,n),this.ae>=2&&Math.floor(n)%2!=this.ae%2&&this.ae--;const r=this.zt.In;this.zt.Be&&this.Ae(e,r,this.zt.tt),this.zt._i&&this.Ie(e,r,this.zt.tt);const s=this.ze(n);(!this.zt._i||this.ae>2*s)&&this.Le(e,r,this.zt.tt)}Ae(e,n,r){if(this.zt===null)return;const{context:s,horizontalPixelRatio:l,verticalPixelRatio:c}=e;let d="",h=Math.min(Math.floor(l),Math.floor(this.zt.le*l));h=Math.max(Math.floor(l),Math.min(h,this.ae));const g=Math.floor(.5*h);let p=null;for(let v=r.from;v<r.to;v++){const _=n[v];_.Ee!==d&&(s.fillStyle=_.Ee,d=_.Ee);const y=Math.round(Math.min(_.pe,_.me)*c),E=Math.round(Math.max(_.pe,_.me)*c),S=Math.round(_.de*c),k=Math.round(_.fe*c);let D=Math.round(l*_.nt)-g;const A=D+h-1;p!==null&&(D=Math.max(p+1,D),D=Math.min(D,A));const M=A-D+1;s.fillRect(D,S,M,y-S),s.fillRect(D,E+1,M,k-E),p=A}}ze(e){let n=Math.floor(1*e);this.ae<=2*n&&(n=Math.floor(.5*(this.ae-1)));const r=Math.max(Math.floor(e),n);return this.ae<=2*r?Math.max(Math.floor(e),Math.floor(1*e)):r}Ie(e,n,r){if(this.zt===null)return;const{context:s,horizontalPixelRatio:l,verticalPixelRatio:c}=e;let d="";const h=this.ze(l);let g=null;for(let p=r.from;p<r.to;p++){const v=n[p];v.Ne!==d&&(s.fillStyle=v.Ne,d=v.Ne);let _=Math.round(v.nt*l)-Math.floor(.5*this.ae);const y=_+this.ae-1,E=Math.round(Math.min(v.pe,v.me)*c),S=Math.round(Math.max(v.pe,v.me)*c);if(g!==null&&(_=Math.max(g+1,_),_=Math.min(_,y)),this.zt.le*l>2*h)az(s,_,E,y-_+1,S-E+1,h);else{const k=y-_+1;s.fillRect(_,E,k,S-E+1)}g=y}}Le(e,n,r){if(this.zt===null)return;const{context:s,horizontalPixelRatio:l,verticalPixelRatio:c}=e;let d="";const h=this.ze(l);for(let g=r.from;g<r.to;g++){const p=n[g];let v=Math.round(Math.min(p.pe,p.me)*c),_=Math.round(Math.max(p.pe,p.me)*c),y=Math.round(p.nt*l)-Math.floor(.5*this.ae),E=y+this.ae-1;if(p.ce!==d){const S=p.ce;s.fillStyle=S,d=S}this.zt._i&&(y+=h,v+=h,E-=h,_-=h),v>_||s.fillRect(y,v,E-y+1,_-v+1)}}}class kz extends JT{constructor(){super(...arguments),this.js=new Ez}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class Tz{constructor(e,n){this.Fe=e,this.Li=n}X(e,n,r){this.Fe.draw(e,this.Li,n,r)}}class mm extends F1{constructor(e,n,r){super(e,n,!1),this.wn=r,this.js=new Tz(this.wn.renderer(),s=>{const l=e.Ct();return l===null?null:e.Dt().Rt(s,l.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>Object.assign(Object.assign({ot:n.ee,nt:NaN},e.$s(n.ee)),{He:n.$e}))}Gs(e,n){n.Qs(this.zs,Fd(this.Ls))}Js(){this.wn.update({bars:this.zs.map(Nz),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function Nz(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class Cz extends xa{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(n);const s=Math.max(1,Math.floor(r)),l=Math.round(this.zt.Ye*r)-Math.floor(s/2),c=l+s;for(let d=this.zt.tt.from;d<this.zt.tt.to;d++){const h=this.zt.it[d],g=this.Ue[d-this.zt.tt.from],p=Math.round(h.st*r);let v,_;e.fillStyle=h.ce,p<=l?(v=p,_=c):(v=l,_=p-Math.floor(s/2)+s),e.fillRect(g.Os,v,g.ui-g.Os+1,_-v)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const n=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),r=Math.round(this.zt.le*e)-n;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const c=this.zt.it[l],d=Math.round(c.nt*e);let h,g;if(r%2){const p=(r-1)/2;h=d-p,g=d+p}else{const p=r/2;h=d-p,g=d+p-1}this.Ue[l-this.zt.tt.from]={Os:h,ui:g,Ze:d,Xe:c.nt*e,ot:c.ot}}for(let l=this.zt.tt.from+1;l<this.zt.tt.to;l++){const c=this.Ue[l-this.zt.tt.from],d=this.Ue[l-this.zt.tt.from-1];c.ot===d.ot+1&&c.Os-d.ui!==n+1&&(d.Ze>d.Xe?d.ui=c.Os-n-1:c.Os=d.ui+n+1)}let s=Math.ceil(this.zt.le*e);for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const c=this.Ue[l-this.zt.tt.from];c.ui<c.Os&&(c.ui=c.Os);const d=c.ui-c.Os+1;s=Math.min(d,s)}if(n>0&&s<4)for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const c=this.Ue[l-this.zt.tt.from];c.ui-c.Os+1>s&&(c.Ze>c.Xe?c.ui-=1:c.Os+=1)}}}class jz extends W0{constructor(){super(...arguments),this.js=new Cz}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,zt(this.Es.Ct()).Vt)};this.js.J(e)}}class Az extends W0{constructor(){super(...arguments),this.js=new YT}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W(),n={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(n)}}const Oz=/[2-9]/g;class zd{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,n,r){return this.sr(e,n,r).width}Mi(e,n,r){const s=this.sr(e,n,r);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}sr(e,n,r){const s=r||Oz,l=String(n).replace(s,"0");if(this.tr.has(l))return oi(this.tr.get(l)).er;if(this.Ke===this.ir){const d=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(d),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const c=e.measureText(l);return e.restore(),c.width===0&&n.length||(this.tr.set(l,{er:c,rr:this.Ge}),this.Qe[this.Ge]=l,this.Ke++,this.Ge++),c}}class Dz{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,n,r){this.hr=e,this.k=n,this.lr=r}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class KT{constructor(e,n,r){this.ur=e,this.ar=new zd(50),this.cr=n,this.F=r,this.j=-1,this.Wt=new Dz(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const n=e.vr(this.cr)?e.pr():this.cr.Dt();if(n===null)return null;const r=e.mr(n);if(r==="overlay")return null;const s=this.F.br();return s.P!==this.j&&(this.j=s.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),s,r),this.Wt}}class Rz extends xa{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,n){var r;if(!(!((r=this.zt)===null||r===void 0)&&r.yt))return null;const{st:s,et:l,gr:c}=this.zt;return n>=s-l-7&&n<=s+l+7?{Mr:this.zt,gr:c}:null}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:s}){if(this.zt===null||this.zt.yt===!1)return;const l=Math.round(this.zt.st*s);l<0||l>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*r),Fo(e,this.zt.Nt),IT(e,l,0,n.width))}}class z1{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new Rz,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class Mz extends z1{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),n=e.Cr().Cr;if(n!==2&&n!==3)return;const r=this.Es.W();if(!r.baseLineVisible||!this.Es.yt())return;const s=this.Es.Ct();s!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(s.Vt,s.Vt),this.Sr.V=r.baseLineColor,this.Sr.et=r.baseLineWidth,this.Sr.Nt=r.baseLineStyle)}}class Lz extends xa{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){const s=this.zt;if(s===null)return;const l=Math.max(1,Math.floor(n)),c=l%2/2,d=Math.round(s.Xe.x*n)+c,h=s.Xe.y*r;e.fillStyle=s.Tr,e.beginPath();const g=Math.max(2,1.5*s.Pr)*n;e.arc(d,h,g,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.Rr,e.beginPath(),e.arc(d,h,s.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=l,e.strokeStyle=s.Dr,e.beginPath(),e.arc(d,h,s.ht*n+l/2,0,2*Math.PI,!1),e.stroke()}}const Iz=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function Y2(t,e,n,r){return function(s,l){if(s==="transparent")return s;const c=Id(s),d=c[3];return`rgba(${c[0]}, ${c[1]}, ${c[2]}, ${l*d})`}(t,n+(r-n)*e)}function G2(t,e){const n=t%2600/2600;let r;for(const h of Iz)if(n>=h.Vr&&n<=h.Or){r=h;break}so(r!==void 0,"Last price animation internal logic error");const s=(n-r.Vr)/(r.Or-r.Vr);return{Rr:Y2(e,s,r.Ir,r.zr),Dr:Y2(e,s,r.Lr,r.Er),ht:(l=s,c=r.Br,d=r.Ar,c+(d-c)*l)};var l,c,d}class Pz{constructor(e){this.Wt=new Lz,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),n=this.Wr-e;if(n>0)return void(n<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),n=e.Xs(),r=this.jr.Ct();if(n===null||r===null)return;const s=this.jr.Zr(!0);if(s.Xr||!n.Kr(s.ee))return;const l={x:e.It(s.ee),y:this.jr.Dt().Rt(s._t,r.Vt)},c=s.V,d=this.jr.W().lineWidth,h=G2(this.Gr(),c);this.Wt.J({Tr:c,Pr:d,Rr:h.Rr,Dr:h.Dr,ht:h.ht,Xe:l})}Yr(){const e=this.Wt.$e();if(e!==null){const n=G2(this.Gr(),e.Tr);e.Rr=n.Rr,e.Dr=n.Dr,e.ht=n.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function vd(t,e){return WT(Math.min(Math.max(t,12),30)*e)}function Bd(t,e){switch(t){case"arrowDown":case"arrowUp":return vd(e,1);case"circle":return vd(e,.8);case"square":return vd(e,.7)}}function ZT(t){return function(e){const n=Math.ceil(e);return n%2!=0?n-1:n}(vd(t,1))}function q2(t){return Math.max(vd(t,.1),3)}function X2(t,e,n){return e?t:n?Math.ceil(t/2):0}function QT(t,e,n,r,s){const l=Bd("square",n),c=(l-1)/2,d=t-c,h=e-c;return r>=d&&r<=d+l&&s>=h&&s<=h+l}function J2(t,e,n,r){const s=(Bd("arrowUp",r)-1)/2*n.Jr,l=(WT(r/2)-1)/2*n.Jr;e.beginPath(),t?(e.moveTo(n.nt-s,n.st),e.lineTo(n.nt,n.st-s),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+l,n.st),e.lineTo(n.nt+l,n.st+s),e.lineTo(n.nt-l,n.st+s),e.lineTo(n.nt-l,n.st)):(e.moveTo(n.nt-s,n.st),e.lineTo(n.nt,n.st+s),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+l,n.st),e.lineTo(n.nt+l,n.st-s),e.lineTo(n.nt-l,n.st-s),e.lineTo(n.nt-l,n.st)),e.fill()}function Fz(t,e,n,r,s,l){return QT(e,n,r,s,l)}class zz extends xa{constructor(){super(...arguments),this.zt=null,this.ar=new zd,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,n){this.j===e&&this.H===n||(this.j=e,this.H=n,this.Qr=Vc(e,n),this.ar.nr())}wr(e,n){if(this.zt===null||this.zt.tt===null)return null;for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const s=this.zt.it[r];if(Hz(s,e,n))return{Mr:s.th,gr:s.gr}}return null}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r},s,l){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let c=this.zt.tt.from;c<this.zt.tt.to;c++){const d=this.zt.it[c];d.Kt!==void 0&&(d.Kt.Hi=this.ar.xi(e,d.Kt.ih),d.Kt.At=this.j,d.Kt.nt=d.nt-d.Kt.Hi/2),Bz(d,e,n,r)}}}}function Bz(t,e,n,r){e.fillStyle=t.V,t.Kt!==void 0&&function(s,l,c,d,h,g){s.save(),s.scale(h,g),s.fillText(l,c,d),s.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,n,r),function(s,l,c){if(s.Ks!==0){switch(s.nh){case"arrowDown":return void J2(!1,l,c,s.Ks);case"arrowUp":return void J2(!0,l,c,s.Ks);case"circle":return void function(d,h,g){const p=(Bd("circle",g)-1)/2;d.beginPath(),d.arc(h.nt,h.st,p*h.Jr,0,2*Math.PI,!1),d.fill()}(l,c,s.Ks);case"square":return void function(d,h,g){const p=Bd("square",g),v=(p-1)*h.Jr/2,_=h.nt-v,y=h.st-v;d.fillRect(_,y,p*h.Jr,p*h.Jr)}(l,c,s.Ks)}s.nh}}(t,e,function(s,l,c){const d=Math.max(1,Math.floor(l))%2/2;return{nt:Math.round(s.nt*l)+d,st:s.st*c,Jr:l}}(t,n,r))}function Hz(t,e,n){return!(t.Kt===void 0||!function(r,s,l,c,d,h){const g=c/2;return d>=r&&d<=r+l&&h>=s-g&&h<=s+g}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(r,s,l){if(r.Ks===0)return!1;switch(r.nh){case"arrowDown":case"arrowUp":return Fz(0,r.nt,r.st,r.Ks,s,l);case"circle":return function(c,d,h,g,p){const v=2+Bd("circle",h)/2,_=c-g,y=d-p;return Math.sqrt(_*_+y*y)<=v}(r.nt,r.st,r.Ks,s,l);case"square":return QT(r.nt,r.st,r.Ks,s,l)}}(t,e,n)}function Uz(t,e,n,r,s,l,c,d,h){const g=Ma(n)?n:n.Se,p=Ma(n)?n:n.Me,v=Ma(n)?n:n.xe,_=Ma(e.size)?Math.max(e.size,0):1,y=ZT(d.le())*_,E=y/2;switch(t.Ks=y,e.position){case"inBar":return t.st=c.Rt(g,h),void(t.Kt!==void 0&&(t.Kt.st=t.st+E+l+.6*s));case"aboveBar":return t.st=c.Rt(p,h)-E-r.sh,t.Kt!==void 0&&(t.Kt.st=t.st-E-.6*s,r.sh+=1.2*s),void(r.sh+=y+l);case"belowBar":return t.st=c.Rt(v,h)+E+r.eh,t.Kt!==void 0&&(t.Kt.st=t.st+E+l+.6*s,r.eh+=1.2*s),void(r.eh+=y+l)}e.position}class $z{constructor(e,n){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new zz,this.jr=e,this.$i=n,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const n=this.$i.W().layout;return this.Wt._r(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),n=q2(e),r=1.5*ZT(e)+2*n,s=this.fh();this.ah={above:X2(r,s.aboveBar,s.inBar),below:X2(r,s.belowBar,s.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,n)=>(e[n.position]||(e[n.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),n=this.$i.St(),r=this.jr.dh();this.rh&&(this.zt.it=r.map(p=>({ot:p.time,nt:0,st:0,Ks:0,nh:p.shape,V:p.color,th:p.th,gr:p.id,Kt:void 0})),this.rh=!1);const s=this.$i.W().layout;this.zt.tt=null;const l=n.Xs();if(l===null)return;const c=this.jr.Ct();if(c===null||this.zt.it.length===0)return;let d=NaN;const h=q2(n.le()),g={sh:h,eh:h};this.zt.tt=XT(this.zt.it,l,!0);for(let p=this.zt.tt.from;p<this.zt.tt.to;p++){const v=r[p];v.time!==d&&(g.sh=h,g.eh=h,d=v.time);const _=this.zt.it[p];_.nt=n.It(v.time),v.text!==void 0&&v.text.length>0&&(_.Kt={ih:v.text,nt:0,st:0,Hi:0,At:0});const y=this.jr.ph(v.time);y!==null&&Uz(_,v,y,g,s.fontSize,h,e,n,c.Vt)}this.ft=!1}}class Wz extends z1{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.yt())return;const r=this.Es.Zr(n.priceLineSource===0);r.Xr||(e.yt=!0,e.st=r.ki,e.V=this.Es.mh(r.V),e.et=n.priceLineWidth,e.Nt=n.priceLineStyle)}}class Vz extends H0{constructor(e){super(),this.jt=e}zi(e,n,r){e.yt=!1,n.yt=!1;const s=this.jt;if(!s.yt())return;const l=s.W(),c=l.lastValueVisible,d=s.bh()!=="",h=l.seriesLastValueMode===0,g=s.Zr(!1);if(g.Xr)return;c&&(e.Kt=this.wh(g,c,h),e.yt=e.Kt.length!==0),(d||h)&&(n.Kt=this.gh(g,c,d,h),n.yt=n.Kt.length>0);const p=s.mh(g.V),v=z0(p);r.t=v.t,r.ki=g.ki,n.Ot=s.$t().Bt(g.ki/s.Dt().At()),e.Ot=p,e.V=v.i,n.V=v.i}gh(e,n,r,s){let l="";const c=this.jt.bh();return r&&c.length!==0&&(l+=`${c} `),n&&s&&(l+=this.jt.Dt().Mh()?e.xh:e.Sh),l.trim()}wh(e,n,r){return n?r?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function K2(t,e,n,r){const s=Number.isFinite(e),l=Number.isFinite(n);return s&&l?t(e,n):s||l?s?e:n:r}class pi{constructor(e,n){this.kh=e,this.yh=n}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new pi(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new pi(K2(Math.min,this.Ph(),e.Ph(),-1/0),K2(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!Ma(e)||this.yh-this.kh===0)return;const n=.5*(this.yh+this.kh);let r=this.yh-n,s=this.kh-n;r*=e,s*=e,this.yh=n+r,this.kh=n+s}Oh(e){Ma(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new pi(e.minValue,e.maxValue)}}class h0{constructor(e,n){this.Ih=e,this.zh=n||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new h0(pi.Ah(e.priceRange),e.margins)}}class Yz extends z1{constructor(e,n){super(e),this.Nh=n}yr(){const e=this.Sr;e.yt=!1;const n=this.Nh.W();if(!this.Es.yt()||!n.lineVisible)return;const r=this.Nh.Fh();r!==null&&(e.yt=!0,e.st=r,e.V=n.color,e.et=n.lineWidth,e.Nt=n.lineStyle,e.gr=this.Nh.W().id)}}class Gz extends H0{constructor(e,n){super(),this.jr=e,this.Nh=n}zi(e,n,r){e.yt=!1,n.yt=!1;const s=this.Nh.W(),l=s.axisLabelVisible,c=s.title!=="",d=this.jr;if(!l||!d.yt())return;const h=this.Nh.Fh();if(h===null)return;c&&(n.Kt=s.title,n.yt=!0),n.Ot=d.$t().Bt(h/d.Dt().At()),e.Kt=this.Wh(s.price),e.yt=!0;const g=z0(s.axisLabelColor||s.color);r.t=g.t;const p=s.axisLabelTextColor||g.i;e.V=p,n.V=p,r.ki=h}Wh(e){const n=this.jr.Ct();return n===null?"":this.jr.Dt().Fi(e,n.Vt)}}class qz{constructor(e,n){this.jr=e,this.cn=n,this.jh=new Yz(e,this),this.ur=new Gz(e,this),this.Hh=new KT(this.ur,e,e.$t())}$h(e){pa(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,n=e.Dt();if(e.$t().St().Ni()||n.Ni())return null;const r=e.Ct();return r===null?null:n.Rt(this.cn.price,r.Vt)}}class Xz extends I1{constructor(e){super(),this.$i=e}$t(){return this.$i}}const Jz={Bar:(t,e,n,r)=>{var s;const l=e.upColor,c=e.downColor,d=zt(t(n,r)),h=Rc(d.Vt[0])<=Rc(d.Vt[3]);return{ce:(s=d.V)!==null&&s!==void 0?s:h?l:c}},Candlestick:(t,e,n,r)=>{var s,l,c;const d=e.upColor,h=e.downColor,g=e.borderUpColor,p=e.borderDownColor,v=e.wickUpColor,_=e.wickDownColor,y=zt(t(n,r)),E=Rc(y.Vt[0])<=Rc(y.Vt[3]);return{ce:(s=y.V)!==null&&s!==void 0?s:E?d:h,Ne:(l=y.Ot)!==null&&l!==void 0?l:E?g:p,Ee:(c=y.Xh)!==null&&c!==void 0?c:E?v:_}},Custom:(t,e,n,r)=>{var s;return{ce:(s=zt(t(n,r)).V)!==null&&s!==void 0?s:e.color}},Area:(t,e,n,r)=>{var s,l,c,d;const h=zt(t(n,r));return{ce:(s=h.lt)!==null&&s!==void 0?s:e.lineColor,lt:(l=h.lt)!==null&&l!==void 0?l:e.lineColor,Ps:(c=h.Ps)!==null&&c!==void 0?c:e.topColor,Rs:(d=h.Rs)!==null&&d!==void 0?d:e.bottomColor}},Baseline:(t,e,n,r)=>{var s,l,c,d,h,g;const p=zt(t(n,r));return{ce:p.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(s=p.Re)!==null&&s!==void 0?s:e.topLineColor,De:(l=p.De)!==null&&l!==void 0?l:e.bottomLineColor,ke:(c=p.ke)!==null&&c!==void 0?c:e.topFillColor1,ye:(d=p.ye)!==null&&d!==void 0?d:e.topFillColor2,Ce:(h=p.Ce)!==null&&h!==void 0?h:e.bottomFillColor1,Te:(g=p.Te)!==null&&g!==void 0?g:e.bottomFillColor2}},Line:(t,e,n,r)=>{var s,l;const c=zt(t(n,r));return{ce:(s=c.V)!==null&&s!==void 0?s:e.color,lt:(l=c.V)!==null&&l!==void 0?l:e.color}},Histogram:(t,e,n,r)=>{var s;return{ce:(s=zt(t(n,r)).V)!==null&&s!==void 0?s:e.color}}};class Kz{constructor(e){this.Kh=(n,r)=>r!==void 0?r.Vt:this.jr.In().Gh(n),this.jr=e,this.Jh=Jz[e.Qh()]}$s(e,n){return this.Jh(this.Kh,this.jr.W(),e,n)}}var Z2;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(Z2||(Z2={}));const Vl=30;class Zz{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,n=0){const r=this.hl(e,n);return r===null?null:Object.assign(Object.assign({},this.al(r)),{ee:this.rl(r)})}ne(){return this.tl}ol(e,n,r){if(this.Ni())return null;let s=null;for(const l of r)s=_h(s,this._l(e,n,l));return s}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,n){const r=this.ul(e);if(r===null&&n!==0)switch(n){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return r}cl(e){let n=this.fl(e);return n>0&&(n-=1),n!==this.tl.length&&this.rl(n)<e?n:null}dl(e){const n=this.vl(e);return n!==this.tl.length&&e<this.rl(n)?n:null}ul(e){const n=this.fl(e);return n===this.tl.length||e<this.tl[n].ee?null:n}fl(e){return rf(this.tl,e,(n,r)=>n.ee<r)}vl(e){return qT(this.tl,e,(n,r)=>n.ee>r)}pl(e,n,r){let s=null;for(let l=e;l<n;l++){const c=this.tl[l].Vt[r];Number.isNaN(c)||(s===null?s={ml:c,bl:c}:(c<s.ml&&(s.ml=c),c>s.bl&&(s.bl=c)))}return s}_l(e,n,r){if(this.Ni())return null;let s=null;const l=zt(this.el()),c=zt(this.An()),d=Math.max(e,l),h=Math.min(n,c),g=Math.ceil(d/Vl)*Vl,p=Math.max(g,Math.floor(h/Vl)*Vl);{const _=this.fl(d),y=this.vl(Math.min(h,g,n));s=_h(s,this.pl(_,y,r))}let v=this.il.get(r);v===void 0&&(v=new Map,this.il.set(r,v));for(let _=Math.max(g+1,d);_<p;_+=Vl){const y=Math.floor(_/Vl);let E=v.get(y);if(E===void 0){const S=this.fl(y*Vl),k=this.vl((y+1)*Vl-1);E=this.pl(S,k,r),v.set(y,E)}s=_h(s,E)}{const _=this.fl(p),y=this.vl(h);s=_h(s,this.pl(_,y,r))}return s}}function _h(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class Qz{constructor(e){this.wl=e}X(e,n,r){this.wl.draw(e)}gl(e,n,r){var s,l;(l=(s=this.wl).drawBackground)===null||l===void 0||l.call(s,e)}}class xm{constructor(e){this.tr=null,this.wn=e}gt(){var e;const n=this.wn.renderer();if(n===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===n)return this.tr.xl;const r=new Qz(n);return this.tr={Ml:n,xl:r},r}Sl(){var e,n,r;return(r=(n=(e=this.wn).zOrder)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:"normal"}}function eN(t){var e,n,r,s,l;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(r=(n=t.visible)===null||n===void 0?void 0:n.call(t))===null||r===void 0||r,hi:(l=(s=t.tickVisible)===null||s===void 0?void 0:s.call(t))===null||l===void 0||l}}class e7{constructor(e,n){this.Wt=new BT,this.kl=e,this.yl=n}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},eN(this.kl))),this.Wt}}class t7 extends H0{constructor(e,n){super(),this.kl=e,this.Li=n}zi(e,n,r){const s=eN(this.kl);r.t=s.t,e.V=s.V;const l=2/12*this.Li.P();r.wi=l,r.gi=l,r.ki=s.ki,r.Si=s.Si,e.Kt=s.Kt,e.yt=s.yt,e.hi=s.hi}}class n7{constructor(e,n){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=n}Ol(){return this.Vl}Vn(){var e,n;(n=(e=this.Vl).updateAllViews)===null||n===void 0||n.call(e)}Pn(){var e,n,r,s;const l=(r=(n=(e=this.Vl).paneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((s=this.Cl)===null||s===void 0?void 0:s.Ml)===l)return this.Cl.xl;const c=l.map(d=>new xm(d));return this.Cl={Ml:l,xl:c},c}Qi(){var e,n,r,s;const l=(r=(n=(e=this.Vl).timeAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((s=this.Tl)===null||s===void 0?void 0:s.Ml)===l)return this.Tl.xl;const c=this.jr.$t().St(),d=l.map(h=>new e7(h,c));return this.Tl={Ml:l,xl:d},d}Rn(){var e,n,r,s;const l=(r=(n=(e=this.Vl).priceAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((s=this.Pl)===null||s===void 0?void 0:s.Ml)===l)return this.Pl.xl;const c=this.jr.Dt(),d=l.map(h=>new t7(h,c));return this.Pl={Ml:l,xl:d},d}Bl(){var e,n,r,s;const l=(r=(n=(e=this.Vl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((s=this.Rl)===null||s===void 0?void 0:s.Ml)===l)return this.Rl.xl;const c=l.map(d=>new xm(d));return this.Rl={Ml:l,xl:c},c}Al(){var e,n,r,s;const l=(r=(n=(e=this.Vl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((s=this.Dl)===null||s===void 0?void 0:s.Ml)===l)return this.Dl.xl;const c=l.map(d=>new xm(d));return this.Dl={Ml:l,xl:c},c}Il(e,n){var r,s,l;return(l=(s=(r=this.Vl).autoscaleInfo)===null||s===void 0?void 0:s.call(r,e,n))!==null&&l!==void 0?l:null}wr(e,n){var r,s,l;return(l=(s=(r=this.Vl).hitTest)===null||s===void 0?void 0:s.call(r,e,n))!==null&&l!==void 0?l:null}}function vm(t,e,n,r){t.forEach(s=>{e(s).forEach(l=>{l.Sl()===n&&r.push(l)})})}function ym(t){return t.Pn()}function r7(t){return t.Bl()}function s7(t){return t.Al()}class B1 extends Xz{constructor(e,n,r,s,l){super(e),this.zt=new Zz,this.jh=new Wz(this),this.zl=[],this.Ll=new Mz(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=n,this.$l=r;const c=new Vz(this);this.rn=[c],this.Hh=new KT(c,this,e),r!=="Area"&&r!=="Line"&&r!=="Baseline"||(this.El=new Pz(this)),this.Ul(),this.ql(l)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const n={Xr:!0},r=this.Dt();if(this.$t().St().Ni()||r.Ni()||this.zt.Ni())return n;const s=this.$t().St().Xs(),l=this.Ct();if(s===null||l===null)return n;let c,d;if(e){const v=this.zt.sl();if(v===null)return n;c=v,d=v.ee}else{const v=this.zt.ll(s.ui(),-1);if(v===null||(c=this.zt.Gh(v.ee),c===null))return n;d=v.ee}const h=c.Vt[3],g=this.Us().$s(d,{Vt:c}),p=r.Rt(h,l.Vt);return{Xr:!1,_t:h,Kt:r.Fi(h,l.Vt),xh:r.Yl(h),Sh:r.Zl(h,l.Vt),V:g.ce,ki:p,ee:d}}Us(){return this.Nl!==null||(this.Nl=new Kz(this)),this.Nl}W(){return this.cn}$h(e){const n=e.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),pa(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,n){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(n&&n.ta?this.El.$r():e.length===0&&this.El.Hr());const r=this.$t().dr(this);this.$t().ia(r),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const n=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const n=new qz(this,e);return this.zl.push(n),this.$t().Gl(this),n}ra(e){const n=this.zl.indexOf(e);n!==-1&&this.zl.splice(n,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const n=e.Os();return this.zt.ll(n,1)}In(){return this.zt}ph(e){const n=this.zt.Gh(e);return n===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3]}:n.Vt[3]}aa(e){const n=[];vm(this.Hl,ym,"top",n);const r=this.El;return r!==null&&r.yt()&&(this.jl===null&&r.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),r.Ur(),n.unshift(r)),n}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const n=this.zl.map(r=>r.qh());return e.push(...n),vm(this.Hl,ym,"normal",e),e}ua(){return this.ca(ym,"bottom")}da(e){return this.ca(r7,e)}fa(e){return this.ca(s7,e)}va(e,n){return this.Hl.map(r=>r.wr(e,n)).filter(r=>r!==null)}Ji(e){return[this.Hh,...this.zl.map(n=>n.Yh())]}Rn(e,n){if(n!==this.Yi&&!this._a())return[];const r=[...this.rn];for(const s of this.zl)r.push(s.Zh());return this.Hl.forEach(s=>{r.push(...s.Rn())}),r}Qi(){const e=[];return this.Hl.forEach(n=>{e.push(...n.Qi())}),e}Il(e,n){if(this.cn.autoscaleInfoProvider!==void 0){const r=this.cn.autoscaleInfoProvider(()=>{const s=this.pa(e,n);return s===null?null:s.Bh()});return h0.Ah(r)}return this.pa(e,n)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const n of this.rn)n.bt();for(const n of this.zl)n.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(n=>n.Vn())}Dt(){return zt(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.zt.Gh(e);return n===null?null:{_t:n.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new n7(e,this))}ya(e){this.Hl=this.Hl.filter(n=>n.Ol()!==e)}Ca(){if(this.wn instanceof mm)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof mm)return e=>this.wn.je(e)}_a(){return!U0(this.Dt().Pa())}pa(e,n){if(!Pd(e)||!Pd(n)||this.zt.Ni())return null;const r=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],s=this.zt.ol(e,n,r);let l=s!==null?new pi(s.ml,s.bl):null;if(this.Qh()==="Histogram"){const d=this.cn.base,h=new pi(d,d);l=l!==null?l.ts(h):h}let c=this.dn.uh();return this.Hl.forEach(d=>{const h=d.Il(e,n);if(h!=null&&h.priceRange){const y=new pi(h.priceRange.minValue,h.priceRange.maxValue);l=l!==null?l.ts(y):y}var g,p,v,_;h!=null&&h.margins&&(g=c,p=h.margins,c={above:Math.max((v=g==null?void 0:g.above)!==null&&v!==void 0?v:0,p.above),below:Math.max((_=g==null?void 0:g.below)!==null&&_!==void 0?_:0,p.below)})}),new h0(l,c)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new dz(this.cn.priceFormat.precision);break;case"percent":this.wa=new HT(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new $0(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const n=zt(this.zt.el());this.Wl=this.Fl.map((r,s)=>{const l=zt(e.Va(r.time,!0)),c=l<n?1:-1;return{time:zt(this.zt.ll(l,c)).ee,position:r.position,shape:r.shape,color:r.color,id:r.id,th:s,text:r.text,size:r.size,originalTime:r.originalTime}})}ql(e){switch(this.dn=new $z(this,this.$t()),this.$l){case"Bar":this.wn=new bz(this,this.$t());break;case"Candlestick":this.wn=new kz(this,this.$t());break;case"Line":this.wn=new Az(this,this.$t());break;case"Custom":this.wn=new mm(this,this.$t(),oi(e));break;case"Area":this.wn=new vz(this,this.$t());break;case"Baseline":this.wn=new wz(this,this.$t());break;case"Histogram":this.wn=new jz(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,n){const r=[];return vm(this.Hl,e,n,r),r}}class i7{constructor(e){this.cn=e}Oa(e,n,r){let s=e;if(this.cn.mode===0)return s;const l=r.vn(),c=l.Ct();if(c===null)return s;const d=l.Rt(e,c),h=r.Ba().filter(p=>p instanceof B1).reduce((p,v)=>{if(r.vr(v)||!v.yt())return p;const _=v.Dt(),y=v.In();if(_.Ni()||!y.Kr(n))return p;const E=y.Gh(n);if(E===null)return p;const S=Rc(v.Ct());return p.concat([_.Rt(E.Vt[3],S.Vt)])},[]);if(h.length===0)return s;h.sort((p,v)=>Math.abs(p-d)-Math.abs(v-d));const g=h[0];return s=l.pn(g,c),s}}class a7 extends xa{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:s}){if(this.zt===null)return;const l=Math.max(1,Math.floor(r));e.lineWidth=l,function(c,d){c.save(),c.lineWidth%2&&c.translate(.5,.5),d(),c.restore()}(e,()=>{const c=zt(this.zt);if(c.Aa){e.strokeStyle=c.Ia,Fo(e,c.za),e.beginPath();for(const d of c.La){const h=Math.round(d.Ea*r);e.moveTo(h,-l),e.lineTo(h,n.height+l)}e.stroke()}if(c.Na){e.strokeStyle=c.Fa,Fo(e,c.Wa),e.beginPath();for(const d of c.ja){const h=Math.round(d.Ea*s);e.moveTo(-l,h),e.lineTo(n.width+l,h)}e.stroke()}})}}class l7{constructor(e){this.Wt=new a7,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,n={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(r=>({Ea:r.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}}class o7{constructor(e){this.wn=new l7(e)}qh(){return this.wn}}const bm={$a:4,Ua:1e-4};function Mc(t,e){const n=100*(t-e)/e;return e<0?-n:n}function c7(t,e){const n=Mc(t.Ph(),e),r=Mc(t.Rh(),e);return new pi(n,r)}function yd(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function u7(t,e){const n=yd(t.Ph(),e),r=yd(t.Rh(),e);return new pi(n,r)}function g0(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.log10(n+e.Ua)+e.$a;return t<0?-r:r}function bd(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.pow(10,n-e.$a)-e.Ua;return t<0?-r:r}function Zu(t,e){if(t===null)return null;const n=g0(t.Ph(),e),r=g0(t.Rh(),e);return new pi(n,r)}function Sh(t,e){if(t===null)return null;const n=bd(t.Ph(),e),r=bd(t.Rh(),e);return new pi(n,r)}function _m(t){if(t===null)return bm;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return bm;const n=Math.ceil(Math.abs(Math.log10(e))),r=bm.$a+n;return{$a:r,Ua:1/Math.pow(10,r)}}class Sm{constructor(e,n){if(this.qa=e,this.Ya=n,function(r){if(r<0)return!1;for(let s=r;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let r=this.qa;r!==1;){if(r%2==0)this.Za.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),r/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,n,r){const s=this.qa===0?0:1/this.qa;let l=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),c=0,d=this.Ya[0];for(;;){const v=bh(l,s,1e-14)&&l>s+1e-14,_=bh(l,r*d,1e-14),y=bh(l,1,1e-14);if(!(v&&_&&y))break;l/=d,d=this.Ya[++c%this.Ya.length]}if(l<=s+1e-14&&(l=s),l=Math.max(1,l),this.Za.length>0&&(h=l,g=1,p=1e-14,Math.abs(h-g)<p))for(c=0,d=this.Za[0];bh(l,r*d,1e-14)&&l>s+1e-14;)l/=d,d=this.Za[++c%this.Za.length];var h,g,p;return l}}class Q2{constructor(e,n,r,s){this.Ka=[],this.Li=e,this.qa=n,this.Ga=r,this.Ja=s}Xa(e,n){if(e<n)throw new Error("high < low");const r=this.Li.At(),s=(e-n)*this.Qa()/r,l=new Sm(this.qa,[2,2.5,2]),c=new Sm(this.qa,[2,2,2.5]),d=new Sm(this.qa,[2.5,2,2]),h=[];return h.push(l.Xa(e,n,s),c.Xa(e,n,s),d.Xa(e,n,s)),function(g){if(g.length<1)throw Error("array is empty");let p=g[0];for(let v=1;v<g.length;++v)g[v]<p&&(p=g[v]);return p}(h)}io(){const e=this.Li,n=e.Ct();if(n===null)return void(this.Ka=[]);const r=e.At(),s=this.Ga(r-1,n),l=this.Ga(0,n),c=this.Li.W().entireTextOnly?this.no()/2:0,d=c,h=r-1-c,g=Math.max(s,l),p=Math.min(s,l);if(g===p)return void(this.Ka=[]);let v=this.Xa(g,p),_=g%v;_+=_<0?v:0;const y=g>=p?1:-1;let E=null,S=0;for(let k=g-_;k>p;k-=v){const D=this.Ja(k,n,!0);E!==null&&Math.abs(D-E)<this.Qa()||D<d||D>h||(S<this.Ka.length?(this.Ka[S].Ea=D,this.Ka[S].so=e.eo(k)):this.Ka.push({Ea:D,so:e.eo(k)}),S++,E=D,e.ro()&&(v=this.Xa(k*y,p)))}this.Ka.length=S}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function tN(t){return t.slice().sort((e,n)=>zt(e.Xi())-zt(n.Xi()))}var eS;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(eS||(eS={}));const tS=new HT,nS=new $0(100,1);class d7{constructor(e,n,r,s){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new vs,this.vo=new vs,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=nS,this.xo=_m(null),this.So=e,this.cn=n,this.ko=r,this.yo=s,this.Co=new Q2(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(pa(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const n=oi(e.scaleMargins.top),r=oi(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(n+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+r}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const n=this.Cr();let r=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),n.Cr===1&&e.Cr!==n.Cr&&(function(l,c){if(l===null)return!1;const d=bd(l.Ph(),c),h=bd(l.Rh(),c);return isFinite(d)&&isFinite(h)}(this.Ih,this.xo)?(r=Sh(this.Ih,this.xo),r!==null&&this.Ao(r)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==n.Cr&&(r=Zu(this.Ih,this.xo),r!==null&&this.Ao(r));const s=n.Cr!==this.cn.mode;s&&(n.Cr===2||this.Mh())&&this.Ra(),s&&(n.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&n.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(n,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,n){const r=this.Ih;(n||r===null&&e!==null||r!==null&&!r.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,n){return this.Mh()?e=Mc(e,n):this.Oo()&&(e=yd(e,n)),this.Po(e,n)}te(e,n,r){this.Wo();const s=this.Fo(),l=zt(this.Lh()),c=l.Ph(),d=l.Rh(),h=this.Eo()-1,g=this.Bo(),p=h/(d-c),v=r===void 0?0:r.from,_=r===void 0?e.length:r.to,y=this.Ho();for(let E=v;E<_;E++){const S=e[E],k=S._t;if(isNaN(k))continue;let D=k;y!==null&&(D=y(S._t,n));const A=s+p*(D-c),M=g?A:this.ho-1-A;S.st=M}}be(e,n,r){this.Wo();const s=this.Fo(),l=zt(this.Lh()),c=l.Ph(),d=l.Rh(),h=this.Eo()-1,g=this.Bo(),p=h/(d-c),v=r===void 0?0:r.from,_=r===void 0?e.length:r.to,y=this.Ho();for(let E=v;E<_;E++){const S=e[E];let k=S.ge,D=S.Me,A=S.xe,M=S.Se;y!==null&&(k=y(S.ge,n),D=y(S.Me,n),A=y(S.xe,n),M=y(S.Se,n));let Y=s+p*(k-c),Q=g?Y:this.ho-1-Y;S.pe=Q,Y=s+p*(D-c),Q=g?Y:this.ho-1-Y,S.de=Q,Y=s+p*(A-c),Q=g?Y:this.ho-1-Y,S.fe=Q,Y=s+p*(M-c),Q=g?Y:this.ho-1-Y,S.me=Q}}pn(e,n){const r=this.To(e,n);return this.$o(r,n)}$o(e,n){let r=e;return this.Mh()?r=function(s,l){return l<0&&(s=-s),s/100*l+l}(r,n):this.Oo()&&(r=function(s,l){return s-=100,l<0&&(s=-s),s/100*l+l}(r,n)),r}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let n=0;n<this.po.length;n++){const r=this.po[n];r.Xi()===null&&r.Ki(n+1),e.push(r)}return e=tN(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const n of this.po){const r=n.Ct();r!==null&&(e===null||r.la<e.la)&&(e=r)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const n=this.Co.Ha();return this.bo={Ha:n,Xo:e},this.fo.m(),n}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=zt(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let n=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const r=zt(this.ao).Th();n=Math.max(n,.1),r.Vh(n),this.Ao(r)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=zt(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const n=zt(this.Lh()).Dh()/(this.Eo()-1);let r=e-this.Mo;this.Bo()&&(r*=-1);const s=r*n,l=zt(this.ao).Th();l.Oh(s),this.Ao(l,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,n){switch(this.cn.mode){case 2:return this.s_(Mc(e,n));case 3:return this.ba().format(yd(e,n));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,zt(this.e_()).ba())}Zl(e,n){return e=Mc(e,n),this.s_(e,tS)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let n=100;e!==null&&(n=Math.round(1/e.ma())),this.wa=nS,this.Mh()?(this.wa=tS,n=100):this.Oo()?(this.wa=new $0(100,1),n=100):e!==null&&(this.wa=e.ba()),this.Co=new Q2(this,n,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,n){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?g0(e,this.xo):e;const r=zt(this.Lh()),s=this.Fo()+(this.Eo()-1)*(e-r.Ph())/r.Dh();return this.jo(s)}To(e,n){if(this.Wo(),this.Ni())return 0;const r=this.jo(e),s=zt(this.Lh()),l=s.Ph()+s.Dh()*((r-this.Fo())/(this.Eo()-1));return this.ro()?bd(l,this.xo):l}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let n=null;const r=this.r_();let s=0,l=0;for(const h of r){if(!h.yt())continue;const g=h.Ct();if(g===null)continue;const p=h.Il(e.Os(),e.ui());let v=p&&p.Lh();if(v!==null){switch(this.cn.mode){case 1:v=Zu(v,this.xo);break;case 2:v=c7(v,g.Vt);break;case 3:v=u7(v,g.Vt)}if(n=n===null?v:n.ts(zt(v)),p!==null){const _=p.Eh();_!==null&&(s=Math.max(s,_.above),l=Math.max(l,_.below))}}}if(s===this.co&&l===this.do||(this.co=s,this.do=l,this.bo=null,this.Do()),n!==null){if(n.Ph()===n.Rh()){const h=this.e_(),g=5*(h===null||this.Mh()||this.Oo()?1:h.ma());this.ro()&&(n=Sh(n,this.xo)),n=new pi(n.Ph()-g,n.Rh()+g),this.ro()&&(n=Zu(n,this.xo))}if(this.ro()){const h=Sh(n,this.xo),g=_m(h);if(c=g,d=this.xo,c.$a!==d.$a||c.Ua!==d.Ua){const p=this.ao!==null?Sh(this.ao,this.xo):null;this.xo=g,n=Zu(h,g),p!==null&&(this.ao=Zu(p,g))}}this.Ao(n)}else this.Ih===null&&(this.Ao(new pi(-.5,.5)),this.xo=_m(null));var c,d;this.oo._o=!0}Ho(){return this.Mh()?Mc:this.Oo()?yd:this.ro()?e=>g0(e,this.xo):null}a_(e,n,r){return n===void 0?(r===void 0&&(r=this.ba()),r.format(e)):n(e)}Wh(e,n){return this.a_(e,this.yo.priceFormatter,n)}s_(e,n){return this.a_(e,this.yo.percentageFormatter,n)}}class f7{constructor(e,n){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new vs,this.yl=e,this.$i=n,this.d_=new o7(this);const r=n.W();this.f_=this.v_("left",r.leftPriceScale),this.p_=this.v_("right",r.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(r)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const n=Array.from(this.o_.values());for(const r of n){const s=zt(r[0].Dt());s.$h(e.overlayPriceScales),e.localization&&s.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?oi(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(n=>{if(this.vr(n)){const r=n.Dt();r!==null&&r.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const n=e.Dt();return n===null||this.f_!==n&&this.p_!==n}qo(e,n,r){const s=r!==void 0?r:this.C_().y_+1;this.T_(e,n,s)}Zo(e){const n=this.po.indexOf(e);so(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1);const r=zt(e.Dt()).Pa();if(this.o_.has(r)){const l=oi(this.o_.get(r)),c=l.indexOf(e);c!==-1&&(l.splice(c,1),l.length===0&&this.o_.delete(r))}const s=e.Dt();s&&s.Ba().indexOf(e)>=0&&s.Zo(e),s!==null&&(s.Yo(),this.P_(s)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,n){e.Go(n)}O_(e,n){e.Jo(n),this.k_()}B_(e){e.Qo()}A_(e,n){e.t_(n)}I_(e,n){e.i_(n),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const n=this.yl.Xs();e.Ro({Wn:!0}),n!==null&&e.h_(n),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=tN(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const n=e.r_();if(n&&n.length>0&&!this.yl.Ni()){const r=this.yl.Xs();r!==null&&e.h_(r)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let n=0,r=0;for(let s=0;s<e.length;s++){const l=e[s].Xi();l!==null&&(l<n&&(n=l),l>r&&(r=l))}return{H_:n,y_:r}}T_(e,n,r){let s=this.w_(n);if(s===null&&(s=this.v_(n,this.$i.W().overlayPriceScales)),this.po.push(e),!U0(n)){const l=this.o_.get(n)||[];l.push(e),this.o_.set(n,l)}s.qo(e),e.Gi(s),e.Ki(r),this.P_(s),this.mo=null}m_(e,n,r){n.Cr!==r.Cr&&this.L_(e)}v_(e,n){const r=Object.assign({visible:!0,autoScale:!0},ll(n)),s=new d7(e,r,this.$i.W().layout,this.$i.W().localization);return s.Lo(this.At()),s}}class h7{constructor(e,n,r=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=n,this.ir=r}Y_(e){const n=e.time,r=this.q_.cacheKey(n),s=this.tr.get(r);if(s!==void 0)return s.Z_;if(this.Ke===this.ir){const c=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(oi(c)),this.Je++,this.Ke--}const l=this.U_(e);return this.tr.set(r,{Z_:l,rr:this.Ge}),this.Qe.set(this.Ge,r),this.Ke++,this.Ge++,l}}class _d{constructor(e,n){so(e<=n,"right should be >= left"),this.X_=e,this.K_=n}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function rS(t,e){return t===null||e===null?t===e:t.Ch(e)}class g7{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,n){this.nu(n),this.tr=null;for(let r=n;r<e.length;++r){const s=e[r];let l=this.J_.get(s.timeWeight);l===void 0&&(l=[],this.J_.set(s.timeWeight,l)),l.push({index:r,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}su(e,n){const r=Math.ceil(n/e);return this.tr!==null&&this.tr.eu===r||(this.tr={Ha:this.ru(r),eu:r}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const n=[];this.J_.forEach((r,s)=>{e<=r[0].index?n.push(s):r.splice(rf(r,e,l=>l.index<e),1/0)});for(const r of n)this.J_.delete(r)}ru(e){let n=[];for(const r of Array.from(this.J_.keys()).sort((s,l)=>l-s)){if(!this.J_.get(r))continue;const s=n;n=[];const l=s.length;let c=0;const d=oi(this.J_.get(r)),h=d.length;let g=1/0,p=-1/0;for(let v=0;v<h;v++){const _=d[v],y=_.index;for(;c<l;){const E=s[c],S=E.index;if(!(S<y)){g=S;break}c++,n.push(E),p=S,g=1/0}if(g-y>=e&&y-p>=e)n.push(_),p=y;else if(this.Q_)return s}for(;c<l;c++)n.push(s[c])}return n}}class $c{constructor(e){this.hu=e}lu(){return this.hu===null?null:new _d(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new $c(null)}}function p7(t,e){return t.weight>e.weight?t:e}class m7{constructor(e,n,r,s){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new g7,this.du=new Map,this.fu=$c.ou(),this.vu=!0,this.pu=new vs,this.mu=new vs,this.bu=new vs,this.wu=null,this.gu=null,this.Mu=[],this.cn=n,this.yo=r,this.xu=n.rightOffset,this.Su=n.barSpacing,this.$i=e,this.q_=s,this.ku(),this.cu.tu(n.uniformDistribution)}W(){return this.cn}yu(e){pa(this.yo,e),this.Cu(),this.ku()}$h(e,n){var r;pa(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((r=e.barSpacing)!==null&&r!==void 0?r:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var n,r;return(r=(n=this.uu[e])===null||n===void 0?void 0:n.time)!==null&&r!==void 0?r:null}Ui(e){var n;return(n=this.uu[e])!==null&&n!==void 0?n:null}Va(e,n){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return n?this.uu.length-1:null;const r=rf(this.uu,this.q_.key(e),(s,l)=>this.q_.key(s.time)<l);return this.q_.key(e)<this.q_.key(this.uu[r].time)?n?r:null:r}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const n={from:e.Os(),to:e.ui()};return this.Ou(n)}Ou(e){const n=Math.round(e.from),r=Math.round(e.to),s=zt(this.Bu()),l=zt(this.Au());return{from:zt(this.Ui(Math.max(s,n))),to:zt(this.Ui(Math.min(l,r)))}}Iu(e){return{from:zt(this.Va(e.from,!0)),to:zt(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const n=this.Du(),r=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&r!==0){const s=this.Su*e/r;this.Su=s}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const s=r-e;this.xu-=Math.round(s/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!Pd(e))return 0;const n=this.Eu()+this.xu-e;return this.__-(n+.5)*this.Su-1}Qs(e,n){const r=this.Eu(),s=n===void 0?0:n.from,l=n===void 0?e.length:n.to;for(let c=s;c<l;c++){const d=e[c].ot,h=r+this.xu-d,g=this.__-(h+.5)*this.Su-1;e[c].nt=g}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),r=Math.round(n/e),s=zt(this.Xs()),l=Math.max(s.Os(),s.Os()-r),c=Math.max(s.ui(),s.ui()-r),d=this.cu.su(e,n),h=this.Bu()+r,g=this.Au()-r,p=this.$u(),v=this.cn.fixLeftEdge||p,_=this.cn.fixRightEdge||p;let y=0;for(const E of d){if(!(l<=E.index&&E.index<=c))continue;let S;y<this.Mu.length?(S=this.Mu[y],S.coord=this.It(E.index),S.label=this.Uu(E),S.weight=E.weight):(S={needAlignCoordinate:!1,coord:this.It(E.index),label:this.Uu(E),weight:E.weight},this.Mu.push(S)),this.Su>n/2&&!p?S.needAlignCoordinate=!1:S.needAlignCoordinate=v&&E.index<=h||_&&E.index>=g,y++}return this.Mu.length=y,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,n){const r=this.Fu(e),s=this.le(),l=s+n*(s/10);this.Gn(l),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(r-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const n=xx(this.__-e,0,this.__),r=xx(this.__-zt(this.wo),0,this.__);n!==0&&r!==0&&this.Gn(this.wu.le*n/r)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const n=(this.Mo-e)/this.le();this.xu=zt(this.wu).Hu+n,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.xu,s=performance.now();this.$i.Zn({Qu:l=>(l-s)/n>=1,tc:l=>{const c=(l-s)/n;return c>=1?e:r+(e-r)*c}})}bt(e,n){this.vu=!0,this.uu=e,this.cu.iu(e,n),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const n=e.G_();this.ju(this.__/n),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),n=this.Au();e!==null&&n!==null&&this.rc(new _d(e,n+this.cn.rightOffset))}lc(e){const n=new _d(e.from,e.to);this.rc(n)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:n}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const n=this.ac(e),r=this.Eu()+this.xu-n;return Math.round(1e6*r)/1e6}ju(e){const n=this.Su;this.Su=e,this.zu(),n!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c($c.ou());const e=this.Eu(),n=this.__/this.Su,r=this.xu+e,s=new _d(r-n+1,r);this._c(new $c(s))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const n=.5*this.__;this.Su>n&&(this.Su=n,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const n=this.dc();this.xu>n&&(this.xu=n,this.vu=!0)}cc(){const e=this.Bu(),n=this._u;return e===null||n===null?null:e-n-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let n=this.du.get(e.weight);return n===void 0&&(n=new h7(r=>this.fc(r),this.q_),this.du.set(e.weight,n)),n.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const n=this.fu;this.fu=e,rS(n.lu(),this.fu.lu())||this.pu.m(),rS(n.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const n=this.Xs();if(n===null)return;const r=n.Os()-e;if(r<0){const s=this.xu-r-1;this.Jn(s)}this.zu()}Pu(){this.Lu(),this.zu()}}class x7{X(e,n,r){e.useMediaCoordinateSpace(s=>this.K(s,n,r))}gl(e,n,r){e.useMediaCoordinateSpace(s=>this.vc(s,n,r))}vc(e,n,r){}}class v7 extends x7{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:n,mediaSize:r}=e;let s=0;for(const c of this.zt.bc){if(c.Kt.length===0)continue;n.font=c.R;const d=this.wc(n,c.Kt);d>r.width?c.Zu=r.width/d:c.Zu=1,s+=c.gc*c.Zu}let l=0;switch(this.zt.Mc){case"top":l=0;break;case"center":l=Math.max((r.height-s)/2,0);break;case"bottom":l=Math.max(r.height-s,0)}n.fillStyle=this.zt.V;for(const c of this.zt.bc){n.save();let d=0;switch(this.zt.xc){case"left":n.textAlign="left",d=c.gc/2;break;case"center":n.textAlign="center",d=r.width/2;break;case"right":n.textAlign="right",d=r.width-1-c.gc/2}n.translate(d,l),n.textBaseline="top",n.font=c.R,n.scale(c.Zu,c.Zu),n.fillText(c.Kt,0,c.Sc),n.restore(),l+=c.gc*c.Zu}}wc(e,n){const r=this.kc(e.font);let s=r.get(n);return s===void 0&&(s=e.measureText(n).width,r.set(n,s)),s}kc(e){let n=this.mc.get(e);return n===void 0&&(n=new Map,this.mc.set(e,n)),n}}class y7{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new v7(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),n=this.Ft;n.yt=e.visible,n.yt&&(n.V=e.color,n.xc=e.horzAlign,n.Mc=e.vertAlign,n.bc=[{Kt:e.text,R:Vc(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class b7 extends I1{constructor(e,n){super(),this.cn=n,this.wn=new y7(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var sS,iS,aS,lS,oS;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(sS||(sS={}));class _7{constructor(e,n,r){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new vs,this.Rc=new vs,this.Dc=null,this.Vc=e,this.cn=n,this.q_=r,this.Oc=new QF(this),this.yl=new m7(this,n.timeScale,this.cn.localization,r),this.vt=new uz(this,n.crosshair),this.Bc=new i7(n.crosshair),this.Ac=new b7(this,n.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc($s.es())}Uh(){this.Nc($s.ss())}oa(){this.Nc(new $s(1))}Gl(e){const n=this.Fc(e);this.Nc(n)}Wc(){return this.Tc}jc(e){const n=this.Tc;this.Tc=e,n!==null&&this.Gl(n.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){pa(this.cn,e),this.yc.forEach(n=>n.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,n){if(e==="left")return void this.$h({leftPriceScale:n});if(e==="right")return void this.$h({rightPriceScale:n});const r=this.Uc(e);r!==null&&(r.Dt.$h(n),this.Pc.m())}Uc(e){for(const n of this.yc){const r=n.w_(e);if(r!==null)return{Ht:n,Dt:r}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,n){e.Lo(n),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(n=>n.S_(e)),this.Wu()}Ic(e){const n=new f7(this.yl,this);e!==void 0?this.yc.splice(e,0,n):this.yc.push(n);const r=e===void 0?this.yc.length-1:e,s=$s.es();return s.Nn(r,{Fn:0,Wn:!0}),this.Nc(s),n}V_(e,n,r){e.V_(n,r)}O_(e,n,r){e.O_(n,r),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,n){e.B_(n),this.Nc(this.Gc(e,2))}A_(e,n,r){n.Vo()||e.A_(n,r)}I_(e,n,r){n.Vo()||(e.I_(n,r),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,n){n.Vo()||(e.z_(n),this.Nc(this.Gc(e,2)))}E_(e,n){e.E_(n),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,n){const r=this.St();if(r.Ni()||n===0)return;const s=r.Hi();e=Math.max(1,Math.min(e,s)),r.Zu(e,n),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,n,r,s,l){this.vt.gn(e,n);let c=NaN,d=this.yl.Nu(e);const h=this.yl.Xs();h!==null&&(d=Math.min(Math.max(h.Os(),d),h.ui()));const g=s.vn(),p=g.Ct();p!==null&&(c=g.pn(n,p)),c=this.Bc.Oa(c,d,s),this.vt.kn(d,c,s),this.oa(),l||this.Rc.m(this.vt.xt(),{x:e,y:n},r)}ad(e,n,r){const s=r.vn(),l=s.Ct(),c=s.Rt(e,zt(l)),d=this.yl.Va(n,!0),h=this.yl.It(zt(d));this.ld(h,c,null,r,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const n=this.vt.xn(),r=this.vt.Sn();this.ld(n,r,null,e)}this.vt.Vn()}_d(e,n,r){const s=this.yl.mn(0);n!==void 0&&r!==void 0&&this.yl.bt(n,r);const l=this.yl.mn(0),c=this.yl.Eu(),d=this.yl.Xs();if(d!==null&&s!==null&&l!==null){const h=d.Kr(c),g=this.q_.key(s)>this.q_.key(l),p=e!==null&&e>c&&!g,v=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,_=h&&(r!==void 0||v)&&this.yl.W().shiftVisibleRangeOnNewBar;if(p&&!_){const y=e-c;this.yl.Jn(this.yl.Hu()-y)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const n=this.yc.find(r=>r.Uo().includes(e));return n===void 0?null:n}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,n,r){const s=this.yc[0],l=this.fd(n,e,s,r);return this.Cc.push(l),this.Cc.length===1?this.Kl():this.Uh(),l}vd(e){const n=this.dr(e),r=this.Cc.indexOf(e);so(r!==-1,"Series not found"),this.Cc.splice(r,1),zt(n).Zo(e),e.S&&e.S()}Xl(e,n){const r=zt(this.dr(e));r.Zo(e);const s=this.Uc(n);if(s===null){const l=e.Xi();r.qo(e,n,l)}else{const l=s.Ht===r?e.Xi():void 0;s.Ht.qo(e,n,l)}}hc(){const e=$s.ss();e.$n(),this.Nc(e)}pd(e){const n=$s.ss();n.Yn(e),this.Nc(n)}Kn(){const e=$s.ss();e.Kn(),this.Nc(e)}Gn(e){const n=$s.ss();n.Gn(e),this.Nc(n)}Jn(e){const n=$s.ss();n.Jn(e),this.Nc(n)}Zn(e){const n=$s.ss();n.Zn(e),this.Nc(n)}Un(){const e=$s.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const n=this.Ec,r=this.zc;if(n===r)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==r||this.Dc.Rs!==n)this.Dc={Ps:r,Rs:n,wd:new Map};else{const l=this.Dc.wd.get(e);if(l!==void 0)return l}const s=function(l,c,d){const[h,g,p,v]=Id(l),[_,y,E,S]=Id(c),k=[Yi(h+d*(_-h)),Yi(g+d*(y-g)),Yi(p+d*(E-p)),PT(v+d*(S-v))];return`rgba(${k[0]}, ${k[1]}, ${k[2]}, ${k[3]})`}(r,n,e/100);return this.Dc.wd.set(e,s),s}Gc(e,n){const r=new $s(n);if(e!==null){const s=this.yc.indexOf(e);r.Nn(s,{Fn:n})}return r}Fc(e,n){return n===void 0&&(n=2),this.Gc(this.dr(e),n)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(n=>n.j_().qh().bt())}fd(e,n,r,s){const l=new B1(this,e,n,r,s),c=e.priceScaleId!==void 0?e.priceScaleId:this.md();return r.qo(l,c),U0(c)||l.$h(e),l}Lc(e){const n=this.cn.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}}function vx(t){return!Ma(t)&&!nf(t)}function nN(t){return Ma(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(iS||(iS={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(aS||(aS={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(lS||(lS={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(oS||(oS={}));const cS=t=>t.getUTCFullYear();function S7(t,e,n){return e.replace(/yyyy/g,(r=>ol(cS(r),4))(t)).replace(/yy/g,(r=>ol(cS(r)%100,2))(t)).replace(/MMMM/g,((r,s)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(t,n)).replace(/MMM/g,((r,s)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(t,n)).replace(/MM/g,(r=>ol((s=>s.getUTCMonth()+1)(r),2))(t)).replace(/dd/g,(r=>ol((s=>s.getUTCDate())(r),2))(t))}class rN{constructor(e="yyyy-MM-dd",n="default"){this.gd=e,this.Md=n}Y_(e){return S7(e,this.gd,this.Md)}}class w7{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",ol(e.getUTCHours(),2)).replace("%m",ol(e.getUTCMinutes(),2)).replace("%s",ol(e.getUTCSeconds(),2))}}const E7={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class k7{constructor(e={}){const n=Object.assign(Object.assign({},E7),e);this.Td=new rN(n.Sd,n.Cd),this.Pd=new w7(n.kd),this.Rd=n.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function wh(t){return 60*t*60*1e3}function wm(t){return 60*t*1e3}const Eh=[{Dd:(uS=1,1e3*uS),Vd:10},{Dd:wm(1),Vd:20},{Dd:wm(5),Vd:21},{Dd:wm(30),Vd:22},{Dd:wh(1),Vd:30},{Dd:wh(3),Vd:31},{Dd:wh(6),Vd:32},{Dd:wh(12),Vd:33}];var uS;function dS(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=Eh.length-1;n>=0;--n)if(Math.floor(e.getTime()/Eh[n].Dd)!==Math.floor(t.getTime()/Eh[n].Dd))return Eh[n].Vd;return 0}function Em(t){let e=t;if(nf(t)&&(e=H1(t)),!vx(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(n.getTime()/1e3),Bd:e}}function fS(t){if(!nN(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function H1(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function hS(t){nf(t.time)&&(t.time=H1(t.time))}class gS{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(hS)}(e):hS(e)}createConverterToInternalObj(e){return zt(function(n){return n.length===0?null:vx(n[0].time)||nf(n[0].time)?Em:fS}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.Bd===void 0?new Date(1e3*n.Od).getTime():new Date(Date.UTC(n.Bd.year,n.Bd.month-1,n.Bd.day)).getTime()}convertHorzItemToInternal(e){return nN(n=e)?fS(n):vx(n)?Em(n):Em(H1(n));var n}updateFormatter(e){if(!this.cn)return;const n=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new k7({Sd:n,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new rN(n,e.locale)}formatHorzItem(e){const n=e;return this.Ad.Y_(new Date(1e3*n.Od))}formatTickmark(e,n){const r=function(l,c,d){switch(l){case 0:case 10:return c?d?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return c?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(s.tickMarkFormatter!==void 0){const l=s.tickMarkFormatter(e.originalTime,r,n.locale);if(l!==null)return l}return function(l,c,d){const h={};switch(c){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}const g=l.Bd===void 0?new Date(1e3*l.Od):new Date(Date.UTC(l.Bd.year,l.Bd.month-1,l.Bd.day));return new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()).toLocaleString(d,h)}(e.time,r,n.locale)}maxTickMarkWeight(e){let n=e.reduce(p7,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(r,s=0){if(r.length===0)return;let l=s===0?null:r[s-1].time.Od,c=l!==null?new Date(1e3*l):null,d=0;for(let h=s;h<r.length;++h){const g=r[h],p=new Date(1e3*g.time.Od);c!==null&&(g.timeWeight=dS(p,c)),d+=g.time.Od-(l||g.time.Od),l=g.time.Od,c=p}if(s===0&&r.length>1){const h=Math.ceil(d/(r.length-1)),g=new Date(1e3*(r[0].time.Od-h));r[0].timeWeight=dS(new Date(1e3*r[0].time.Od),g)}})(e,n)}static Id(e){return pa({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Yc=typeof window<"u";function pS(){return!!Yc&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function km(){return!!Yc&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function yx(t){return t+t%2}function Tm(t,e){return t.zd-e.zd}function Nm(t,e,n){const r=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(r)*Math.min(Math.abs(r),n)}class T7{constructor(e,n,r,s){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=n,this.qd=r,this.rs=s}Yd(e,n){if(this.Ld!==null){if(this.Ld.ot===n)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:n,zd:e}}Vr(e,n){if(this.Ld===null||this.Ed===null||n-this.Ld.ot>50)return;let r=0;const s=Nm(this.Ld,this.Ed,this.Ud),l=Tm(this.Ld,this.Ed),c=[s],d=[l];if(r+=l,this.Nd!==null){const g=Nm(this.Ed,this.Nd,this.Ud);if(Math.sign(g)===Math.sign(s)){const p=Tm(this.Ed,this.Nd);if(c.push(g),d.push(p),r+=p,this.Fd!==null){const v=Nm(this.Nd,this.Fd,this.Ud);if(Math.sign(v)===Math.sign(s)){const _=Tm(this.Nd,this.Fd);c.push(v),d.push(_),r+=_}}}}let h=0;for(let g=0;g<c.length;++g)h+=d[g]/r*c[g];Math.abs(h)<this.$d||(this.Wd={zd:e,ot:n},this.Hd=h,this.jd=function(g,p){const v=Math.log(p);return Math.log(1*v/-g)/v}(Math.abs(h),this.qd))}tc(e){const n=zt(this.Wd),r=e-n.ot;return n.zd+this.Hd*(Math.pow(this.qd,r)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const n=e-zt(this.Wd).ot;return Math.min(n,this.jd)}}class N7{constructor(e,n){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=n,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return FT(Id(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function zo(t,e){const n=zt(t.ownerDocument).createElement("canvas");t.appendChild(n);const r=FF(n,{options:{allowResizeObserver:!1},transform:(s,l)=>({width:Math.max(s.width,l.width),height:Math.max(s.height,l.height)})});return r.resizeCanvasElement(e),r}function Bo(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function bx(t,e,n,r){t.gl&&t.gl(e,n,r)}function Hh(t,e,n,r){t.X(e,n,r)}function _x(t,e,n,r){const s=t(n,r);for(const l of s){const c=l.gt();c!==null&&e(c)}}function C7(t){Yc&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class U1{constructor(e,n,r){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!km(),this.Af=s=>{this.If(s)},this.zf=s=>{if(this.Lf(s)){const l=this.Ef(s);if(++this._f,this.uf&&this._f>1){const{Nf:c}=this.Ff(Ta(s),this.cf);c<30&&!this.wf&&this.Wf(l,this.Hf.jf),this.$f()}}else{const l=this.Ef(s);if(++this.hf,this.lf&&this.hf>1){const{Nf:c}=this.Ff(Ta(s),this.af);c<5&&!this.bf&&this.Uf(l,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=n,this.cn=r,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const n=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",n)},this.Zf.addEventListener("mousemove",n),this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.tv),this.Bf=!0}iv(e){const n=Cm(e.changedTouches,zt(this.Of));if(n===null||(this.Vf=kh(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const r=this.Ff(Ta(n),zt(this.pf)),{nv:s,sv:l,Nf:c}=r;if(this.mf||!(c<5)){if(!this.mf){const d=.5*s,h=l>=d&&!this.cn.ev(),g=d>l&&!this.cn.rv();h||g||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const d=this.Ef(e,n);this.Wf(d,this.Hf.hv),Nc(e)}}}lv(e){if(e.button!==0)return;const n=this.Ff(Ta(e),zt(this.vf)),{Nf:r}=n;if(r>=5&&(this.bf=!0,this.Yf()),this.bf){const s=this.Ef(e);this.Uf(s,this.Hf.av)}}Ff(e,n){const r=Math.abs(n.nt-e.nt),s=Math.abs(n.st-e.st);return{nv:r,sv:s,Nf:r+s}}ov(e){let n=Cm(e.changedTouches,zt(this.Of));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Of=null,this.Vf=kh(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const r=this.Ef(e,n);if(this.Wf(r,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:s}=this.Ff(Ta(n),this.cf);s<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}else this.wf||(this.Wf(r,this.Hf.uv),this.Hf.uv&&Nc(e));this._f===0&&Nc(e),e.touches.length===0&&this.ff&&(this.ff=!1,Nc(e))}If(e){if(e.button!==0)return;const n=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),pS()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(n,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:r}=this.Ff(Ta(e),this.af);r<5&&!this.bf&&this.Uf(n,this.Hf.qf),this.Yf()}else this.bf||this.Uf(n,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const n=e.changedTouches[0];this.Of=n.identifier,this.Vf=kh(e);const r=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=Ta(n),this.yf&&(this.yf(),this.yf=null);{const l=this.iv.bind(this),c=this.ov.bind(this);this.yf=()=>{r.removeEventListener("touchmove",l),r.removeEventListener("touchend",c)},r.addEventListener("touchmove",l,{passive:!1}),r.addEventListener("touchend",c,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const s=this.Ef(e,n);this.Wf(s,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=Ta(n))}mv(e){if(e.button!==0)return;const n=this.Zf.ownerDocument.documentElement;pS()&&n.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=Ta(e),this.kf&&(this.kf(),this.kf=null);{const s=this.lv.bind(this),l=this.If.bind(this);this.kf=()=>{n.removeEventListener("mousemove",s),n.removeEventListener("mouseup",l)},n.addEventListener("mousemove",s),n.addEventListener("mouseup",l)}if(this.Df=!0,this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=Ta(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,n=r=>{this.Hf.wv&&(r.composed&&this.Zf.contains(r.composedPath()[0])||r.target&&this.Zf.contains(r.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",n)},this.gf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}km()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),C7(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const n=mS(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,n),Nc(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const n=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,st:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Tf=mS(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const n=this.Ef(e);this.Uf(n,this.Hf.Pv),this.Bf=!km()}vv(e){const n=Cm(e.touches,zt(this.Of));if(n===null)return;const r=this.Ef(e,n);this.Wf(r,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:kh(e)<this.Vf+500}Wf(e,n){n&&n.call(this.Hf,e)}Uf(e,n){n&&n.call(this.Hf,e)}Ef(e,n){const r=n||e,s=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-s.left,localY:r.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:r.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&Nc(e)}}}}function mS(t,e){const n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)}function Nc(t){t.cancelable&&t.preventDefault()}function Ta(t){return{nt:t.pageX,st:t.pageY}}function kh(t){return t.timeStamp||performance.now()}function Cm(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function Th(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function j7(t,e,n){for(const r of t){const s=r.gt();if(s!==null&&s.wr){const l=s.wr(e,n);if(l!==null)return{Bv:r,Iv:l}}}return null}function jm(t,e){return n=>{var r,s,l,c;return((s=(r=n.Dt())===null||r===void 0?void 0:r.Pa())!==null&&s!==void 0?s:"")!==e?[]:(c=(l=n.da)===null||l===void 0?void 0:l.call(n,t))!==null&&c!==void 0?c:[]}}function xS(t,e,n,r){if(!t.length)return;let s=0;const l=n/2,c=t[0].At(r,!0);let d=e===1?l-(t[0].Vi()-c/2):t[0].Vi()-c/2-l;d=Math.max(0,d);for(let h=1;h<t.length;h++){const g=t[h],p=t[h-1],v=p.At(r,!1),_=g.Vi(),y=p.Vi();if(e===1?_>y-v:_<y+v){const E=y-v*e;g.Oi(E);const S=E-e*v/2;if((e===1?S<0:S>n)&&d>0){const k=e===1?-1-S:S-n,D=Math.min(k,d);for(let A=s;A<t.length;A++)t[A].Oi(t[A].Vi()+e*D);d-=D}}else s=h,d=e===1?y-v-_:_-(y+v)}}class vS{constructor(e,n,r,s){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new zd(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=n,this.ko=n.layout,this.Oc=r,this.qv=s==="left",this.Yv=jm("normal",s),this.Zv=jm("top",s),this.Xv=jm("bottom",s),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=zo(this.Kv,Qr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const l=this.Gv.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.Jv=zo(this.Kv,Qr({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const c=this.Jv.canvasElement;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0";const d={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new U1(this.Jv.canvasElement,d,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Bo(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Bo(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const n=this.ap(),r=zt(this.Gv.canvasElement.getContext("2d"));r.save();const s=this.Li.Ha();r.font=this._p(),s.length>0&&(e=Math.max(this.Fv.xi(r,s[0].so),this.Fv.xi(r,s[s.length-1].so)));const l=this.up();for(let g=l.length;g--;){const p=this.Fv.xi(r,l[g].Kt());p>e&&(e=p)}const c=this.Li.Ct();if(c!==null&&this.Ev!==null&&(d=this.cn.crosshair).mode!==2&&d.horzLine.visible&&d.horzLine.labelVisible){const g=this.Li.pn(1,c),p=this.Li.pn(this.Ev.height-2,c);e=Math.max(e,this.Fv.xi(r,this.Li.Fi(Math.floor(Math.min(g,p))+.11111111111111,c)),this.Fv.xi(r,this.Li.Fi(Math.ceil(Math.max(g,p))-.11111111111111,c)))}var d;r.restore();const h=e||34;return yx(Math.ceil(n.C+n.T+n.A+n.I+5+h))}cp(e){this.Ev!==null&&Do(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return zt(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,zt(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const r=Po(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s)}),this.tn.bp(r,this.Xv),this.wp(r),this.tn.bp(r,this.Yv),this.gp(r))}this.Jv.applySuggestedBitmapSize();const n=Po(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this.Mp(n),this.tn.bp(n,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!0,n.V_(r,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp(),s=this.Li;n.O_(r,s,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),r=this.Li;this.Nv&&(this.Nv=!1,e.B_(n,r))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!1,n.B_(r,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],n=this.Li===null?void 0:this.Li;return(r=>{for(let s=0;s<r.length;++s){const l=r[s].Rn(this.tn.fp(),n);for(let c=0;c<l.length;c++)e.push(l[c])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:n}){const{width:r,height:s}=n,l=this.tn.fp().$t(),c=l.q(),d=l.bd();c===d?B0(e,0,0,r,s,c):zT(e,0,0,r,s,c,d)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.ap().C*r));let l;l=this.qv?n.width-s:0,e.fillRect(l,0,s,n.height)}wp(e){if(this.Ev===null||this.Li===null)return;const n=this.Li.Ha(),r=this.Li.W(),s=this.ap(),l=this.qv?this.Ev.width-s.T:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:c,horizontalPixelRatio:d,verticalPixelRatio:h})=>{c.fillStyle=r.borderColor;const g=Math.max(1,Math.floor(h)),p=Math.floor(.5*h),v=Math.round(s.T*d);c.beginPath();for(const _ of n)c.rect(Math.floor(l*d),Math.round(_.Ea*h)-p,v,g);c.fill()}),e.useMediaCoordinateSpace(({context:c})=>{var d;c.font=this._p(),c.fillStyle=(d=r.textColor)!==null&&d!==void 0?d:this.ko.textColor,c.textAlign=this.qv?"right":"left",c.textBaseline="middle";const h=this.qv?Math.round(l-s.A):Math.round(l+s.T+s.A),g=n.map(p=>this.Fv.Mi(c,p.so));for(let p=n.length;p--;){const v=n[p];c.fillText(v.so,h,v.Ea+g[p])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],n=this.Li.Uo().slice(),r=this.tn.fp(),s=this.ap();this.Li===r.pr()&&this.tn.fp().Uo().forEach(c=>{r.vr(c)&&n.push(c)});const l=this.Li;n.forEach(c=>{c.Rn(r,l).forEach(d=>{d.Oi(null),d.Bi()&&e.push(d)})}),e.forEach(c=>c.Oi(c.ki())),this.Li.W().alignLabels&&this.yp(e,s)}yp(e,n){if(this.Ev===null)return;const r=this.Ev.height/2,s=e.filter(c=>c.ki()<=r),l=e.filter(c=>c.ki()>r);s.sort((c,d)=>d.ki()-c.ki()),l.sort((c,d)=>c.ki()-d.ki());for(const c of e){const d=Math.floor(c.At(n)/2),h=c.ki();h>-d&&h<d&&c.Oi(d),h>this.Ev.height-d&&h<this.Ev.height+d&&c.Oi(this.Ev.height-d)}xS(s,1,this.Ev.height,n),xS(l,-1,this.Ev.height,n)}gp(e){if(this.Ev===null)return;const n=this.up(),r=this.ap(),s=this.qv?"right":"left";n.forEach(l=>{l.Ai()&&l.gt(zt(this.Li)).X(e,r,this.Fv,s)})}Mp(e){if(this.Ev===null||this.Li===null)return;const n=this.tn.$v().$t(),r=[],s=this.tn.fp(),l=n.Zc().Rn(s,this.Li);l.length&&r.push(l);const c=this.ap(),d=this.qv?"right":"left";r.forEach(h=>{h.forEach(g=>{g.gt(zt(this.Li)).X(e,c,this.Fv,d)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return Vc(this.ko.fontSize,this.ko.fontFamily)}}function A7(t,e){var n,r;return(r=(n=t.ua)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function Nh(t,e){var n,r;return(r=(n=t.Pn)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function O7(t,e){var n,r;return(r=(n=t.Ji)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function D7(t,e){var n,r;return(r=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}class $1{constructor(e,n){this.Ev=Qr({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new vs,this.Op=new vs,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=n,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(r),this.Gv=zo(r,Qr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=zo(r,Qr({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const l=this.Jv.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new U1(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Bo(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Bo(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return zt(this.Np)}qp(e){var n,r;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l($1.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(n=this.Pp)!==null&&n!==void 0?n:new N7(this.Wp,this.Qd),this.Pp.bt()):((r=this.Pp)===null||r===void 0||r.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(zt(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(zt(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const n=e.localX,r=e.localY;this.Gp(n,r,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var n;if(!this.Np)return;this.Kp();const r=e.localX,s=e.localY;this.Gp(r,s,e);const l=this.wr(r,s);this.Qd.Qp((n=l==null?void 0:l.Lv)!==null&&n!==void 0?n:null),this.$i().jc(l&&{Hc:l.Hc,Iv:l.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const n={x:e.localX,y:e.localY};this.rm(n,n,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,n){if(!this.Qd.W().handleScale.pinch)return;const r=5*(n-this.Bp);this.Bp=n,this.$i().Qc(e.nt,r)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const n=this.$i().Zc();this.Ip!==null&&n.yt()&&(this.Lp={x:n.Yt(),y:n.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const n=e.localX,r=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const s=zt(this.Lp),l=s.x+(n-this.Ip.x),c=s.y+(r-this.Ip.y);this.Gp(l,c,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,n){const r=this.Np;return r===null?null:function(s,l,c){const d=s.Uo(),h=function(g,p,v){var _,y;let E,S;for(const A of g){const M=(y=(_=A.va)===null||_===void 0?void 0:_.call(A,p,v))!==null&&y!==void 0?y:[];for(const Y of M)k=Y.zOrder,(!(D=E==null?void 0:E.zOrder)||k==="top"&&D!=="top"||k==="normal"&&D==="bottom")&&(E=Y,S=A)}var k,D;return E&&S?{zv:E,Hc:S}:null}(d,l,c);if((h==null?void 0:h.zv.zOrder)==="top")return Th(h);for(const g of d){if(h&&h.Hc===g&&h.zv.zOrder!=="bottom"&&!h.zv.isBackground)return Th(h);const p=j7(g.Pn(s),l,c);if(p!==null)return{Hc:g,Bv:p.Bv,Iv:p.Iv};if(h&&h.Hc===g&&h.zv.zOrder!=="bottom"&&h.zv.isBackground)return Th(h)}return h!=null&&h.zv?Th(h):null}(r,e,n)}_m(e,n){zt(n==="left"?this.Cp:this.Tp).cp(Qr({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){Do(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=zt(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const n of e.Ba())if(e.vr(n)){const r=n.Dt();r!==null&&e.P_(r),n.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const r=Po(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.mp(s)}),this.Np&&(this.fm(r,A7),this.vm(r),this.pm(r),this.fm(r,Nh),this.fm(r,O7)))}this.Jv.applySuggestedBitmapSize();const n=Po(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this.bm(n),this.fm(n,D7))}wm(){return this.Cp}gm(){return this.Tp}bp(e,n){this.fm(e,n)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,n){const r=n.localX,s=n.localY;e.M()&&e.m(this.$i().St().Nu(r),{x:r,y:s},n)}mp({context:e,bitmapSize:n}){const{width:r,height:s}=n,l=this.$i(),c=l.q(),d=l.bd();c===d?B0(e,0,0,r,s,d):zT(e,0,0,r,s,c,d)}vm(e){const n=zt(this.Np).j_().qh().gt();n!==null&&n.X(e,!1)}pm(e){const n=this.$i().Yc();this.Mm(e,Nh,bx,n),this.Mm(e,Nh,Hh,n)}bm(e){this.Mm(e,Nh,Hh,this.$i().Zc())}fm(e,n){const r=zt(this.Np).Uo();for(const s of r)this.Mm(e,n,bx,s);for(const s of r)this.Mm(e,n,Hh,s)}Mm(e,n,r,s){const l=zt(this.Np),c=l.$t().Wc(),d=c!==null&&c.Hc===s,h=c!==null&&d&&c.Iv!==void 0?c.Iv.Mr:void 0;_x(n,g=>r(g,e,d,h),s,l)}Zp(){if(this.Np===null)return;const e=this.Qd,n=this.Np.R_().W().visible,r=this.Np.D_().W().visible;n||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),r||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const s=e.$t().ud();n&&this.Cp===null&&(this.Cp=new vS(this,e.W(),s,"left"),this.jp.appendChild(this.Cp.lp())),r&&this.Tp===null&&(this.Tp=new vS(this,e.W(),s,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,n,r){this.$i().ld(this.Sm(e),this.km(n),r,zt(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,n,r){this.Ip=e,this.zp=!1,this.Gp(n.x,n.y,r);const s=this.$i().Zc();this.Lp={x:s.Yt(),y:s.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const n=this.$i(),r=this.fp();if(n.z_(r,r.vn()),this.Rp=null,this.Dp=!1,n.ed(),this.Ep!==null){const s=performance.now(),l=n.St();this.Ep.Vr(l.Hu(),s),this.Ep.Qu(s)||n.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)zt(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const n=this.$i(),r=n.St();if(r.Ni())return;const s=this.Qd.W(),l=s.handleScroll,c=s.kineticScroll;if((!l.pressedMouseMove||e.Dv)&&(!l.horzTouchDrag&&!l.vertTouchDrag||!e.Dv))return;const d=this.Np.vn(),h=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:h,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&c.touch||!e.Dv&&c.mouse){const g=r.le();this.Ep=new T7(.2/g,7/g,.997,15/g),this.Ep.Yd(r.Hu(),this.Rp.Od)}else this.Ep=null;d.Ni()||n.A_(this.Np,d,e.localY),n.nd(e.localX),this.Dp=!0}this.Dp&&(d.Ni()||n.I_(this.Np,d,e.localY),n.sd(e.localX),this.Ep!==null&&this.Ep.Yd(r.Hu(),h))}}class yS{constructor(e,n,r,s,l){this.ft=!0,this.Ev=Qr({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=r.ud,this.cn=n,this.Tm=s,this.Pm=l,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=zo(this.Kv,Qr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Bo(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){Do(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const n=Po(this.Gv);n!==null&&n.useBitmapCoordinateSpace(r=>{this.mp(r),this.Ie(r)})}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:s}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const l=Math.floor(this.Oc.W().C*r),c=Math.floor(this.Oc.W().C*s),d=this.qv?n.width-l:0;e.fillRect(d,0,l,c)}mp({context:e,bitmapSize:n}){B0(e,0,0,n.width,n.height,this.Pm())}}function W1(t){return e=>{var n,r;return(r=(n=e.fa)===null||n===void 0?void 0:n.call(e,t))!==null&&r!==void 0?r:[]}}const R7=W1("normal"),M7=W1("top"),L7=W1("bottom");class I7{constructor(e,n){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=Qr({width:0,height:0}),this.Om=new vs,this.Fv=new zd(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=n,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=zo(this.Im,Qr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=zo(this.Im,Qr({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new U1(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Bo(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Bo(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,n,r){Do(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(Qr({width:n,height:e.height})),this.Dm!==null&&this.Dm.cp(Qr({width:r,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const r=Po(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s),this.$m(r,L7)}),this.wp(r),this.$m(r,R7)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const n=Po(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],n),this.$m(n,M7))}$m(e,n){const r=this.Qd.$t().wt();for(const s of r)_x(n,l=>bx(l,e,!1,void 0),s,void 0);for(const s of r)_x(n,l=>Hh(l,e,!1,void 0),s,void 0)}mp({context:e,bitmapSize:n}){B0(e,0,0,n.width,n.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:n,verticalPixelRatio:r}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const s=Math.max(1,Math.floor(this.jm().C*r));e.fillRect(0,0,n.width,s)}}wp(e){const n=this.Qd.$t().St(),r=n.Ha();if(!r||r.length===0)return;const s=this.q_.maxTickMarkWeight(r),l=this.jm(),c=n.W();c.borderVisible&&c.ticksVisible&&e.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:h,verticalPixelRatio:g})=>{d.strokeStyle=this.qm(),d.fillStyle=this.qm();const p=Math.max(1,Math.floor(h)),v=Math.floor(.5*h);d.beginPath();const _=Math.round(l.T*g);for(let y=r.length;y--;){const E=Math.round(r[y].coord*h);d.rect(E-v,0,p,_)}d.fill()}),e.useMediaCoordinateSpace(({context:d})=>{const h=l.C+l.T+l.L+l.P/2;d.textAlign="center",d.textBaseline="middle",d.fillStyle=this.$(),d.font=this._p();for(const g of r)if(g.weight<s){const p=g.needAlignCoordinate?this.Ym(d,g.coord,g.label):g.coord;d.fillText(g.label,p,h)}this.Qd.W().timeScale.allowBoldLabels&&(d.font=this.Zm());for(const g of r)if(g.weight>=s){const p=g.needAlignCoordinate?this.Ym(d,g.coord,g.label):g.coord;d.fillText(g.label,p,h)}})}Ym(e,n,r){const s=this.Fv.xi(e,r),l=s/2,c=Math.floor(n-l)+.5;return c<0?n+=Math.abs(0-c):c+s>this.Ev.width&&(n-=Math.abs(this.Ev.width-(c+s))),n}Um(e,n){const r=this.jm();for(const s of e)for(const l of s.Qi())l.gt().X(n,r)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Vc(this.j(),this.cn.fontFamily)}Zm(){return Vc(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new zd,Hm:0});const e=this.k,n=this._p();if(e.R!==n){const r=this.j();e.P=r,e.R=n,e.L=3*r/12,e.B=3*r/12,e.ji=9*r/12,e.N=0,e.Hm=4*r/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),n=e.W();n.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),n.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const r={ud:this.Qd.$t().ud()},s=()=>n.leftPriceScale.borderVisible&&e.St().W().borderVisible,l=()=>e.bd();n.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new yS("left",n,r,s,l),this.Bm.appendChild(this.Rm.lp())),n.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new yS("right",n,r,s,l),this.Am.appendChild(this.Dm.lp()))}}const P7=!!Yc&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Yc&&(!((Am=navigator==null?void 0:navigator.userAgentData)===null||Am===void 0)&&Am.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Am;class F7{constructor(e,n,r){var s;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new vs,this.Op=new vs,this.Rc=new vs,this.ib=null,this.nb=null,this.Jd=e,this.cn=n,this.q_=r,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(s=this.Xd).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),Om(this.cn)&&this.hb(!0),this.$i=new _7(this.Vc.bind(this),this.cn,r),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new I7(this,this.q_),this.sb.appendChild(this.ab.lp());const l=n.autoSize&&this.ob();let c=this.cn.width,d=this.cn.height;if(l||c===0||d===0){const h=e.getBoundingClientRect();c=c||h.width,d=d||h.height}this._b(c,d),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],zt(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,n,r=!1){if(this.ho===n&&this.__===e)return;const s=function(d){const h=Math.floor(d.width),g=Math.floor(d.height);return Qr({width:h-h%2,height:g-g%2})}(Qr({width:e,height:n}));this.ho=s.height,this.__=s.width;const l=this.ho+"px",c=this.__+"px";zt(this.Xd).style.height=l,zt(this.Xd).style.width=c,this.sb.style.height=l,this.sb.style.width=c,r?this.mb($s.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=$s.es());for(let n=0;n<this.Xm.length;n++)this.Xm[n].vp(e.Hn(n).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const n=Om(this.cn);this.$i.$h(e);const r=Om(this.cn);r!==n&&this.hb(r),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=zt(n.getContext("2d"));return this.gb(r),n}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:zt(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return oi(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let n=0,r=0;const s=this.Xm[0],l=(d,h)=>{let g=0;for(let p=0;p<this.Xm.length;p++){const v=this.Xm[p],_=zt(d==="left"?v.wm():v.gm()),y=_.xp();e!==null&&_.Sp(e,h,g),g+=y.height}};this.xb()&&(l("left",0),n+=zt(s.wm()).xp().width);for(let d=0;d<this.Xm.length;d++){const h=this.Xm[d],g=h.xp();e!==null&&h.Sp(e,n,r),r+=g.height}n+=s.xp().width,this.Sb()&&(l("right",n),n+=zt(s.gm()).xp().width);const c=(d,h,g)=>{zt(d==="left"?this.ab.Lm():this.ab.Em()).Sp(zt(e),h,g)};if(this.cn.timeScale.visible){const d=this.ab.xp();if(e!==null){let h=0;this.xb()&&(c("left",h,r),h=zt(s.wm()).xp().width),this.ab.Sp(e,h,r),h+=d.width,this.Sb()&&c("right",h,r)}r+=d.height}return Qr({width:n,height:r})}Pb(){let e=0,n=0,r=0;for(const E of this.Xm)this.xb()&&(n=Math.max(n,zt(E.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(r=Math.max(r,zt(E.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=E.M_();n=yx(n),r=yx(r);const s=this.__,l=this.ho,c=Math.max(s-n-r,0),d=this.cn.timeScale.visible;let h=d?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var g;h=(g=h)+g%2;const p=0+h,v=l<p?0:l-p,_=v/e;let y=0;for(let E=0;E<this.Xm.length;++E){const S=this.Xm[E];S.qp(this.$i.qc()[E]);let k=0,D=0;D=E===this.Xm.length-1?v-y:Math.round(S.M_()*_),k=Math.max(D,2),y+=k,S.cp(Qr({width:c,height:k})),this.xb()&&S._m(n,"left"),this.Sb()&&S._m(r,"right"),S.fp()&&this.$i.Kc(S.fp(),k)}this.ab.Fm(Qr({width:d?c:0,height:h}),d?n:0,d?r:0),this.$i.S_(c),this.Gm!==n&&(this.Gm=n),this.Jm!==r&&(this.Jm=r)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return P7?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.Rb(e),r=n*e.deltaX/100,s=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.cn.handleScale.mouseWheel){const l=Math.sign(s)*Math.min(1,Math.abs(s)),c=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(c,l)}r!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*r)}mb(e,n){var r;const s=e.jn();s===3&&this.Db(),s!==3&&s!==2||(this.Vb(e),this.Ob(e,n),this.ab.bt(),this.Xm.forEach(l=>{l.Xp()}),((r=this.Qm)===null||r===void 0?void 0:r.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,n),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,n){for(const r of e.Qn())this.ns(r,n)}Vb(e){const n=this.$i.qc();for(let r=0;r<n.length;r++)e.Hn(r).Wn&&n[r].N_()}ns(e,n){const r=this.$i.St();switch(e.qn){case 0:r.hc();break;case 1:r.lc(e.Vt);break;case 2:r.Gn(e.Vt);break;case 3:r.Jn(e.Vt);break;case 4:r.qu();break;case 5:e.Vt.Qu(n)||r.Jn(e.Vt.tc(n))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(n=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const r=this.Qm;this.Qm=null,this.mb(r,n);for(const s of r.Qn())if(s.qn===5&&!s.Vt.Qu(n)){this.$t().Zn(s.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),n=e.length,r=this.Xm.length;for(let s=n;s<r;s++){const l=oi(this.Xm.pop());this.sb.removeChild(l.lp()),l.lm().p(this),l.am().p(this),l.S()}for(let s=r;s<n;s++){const l=new $1(this,e[s]);l.lm().l(this.Bb.bind(this),this),l.am().l(this.Ab.bind(this),this),this.Xm.push(l),this.sb.insertBefore(l.lp(),this.ab.lp())}for(let s=0;s<n;s++){const l=e[s],c=this.Xm[s];c.fp()!==l?c.qp(l):c.Up()}this.cb(),this.Pb()}Ib(e,n,r){var s;const l=new Map;e!==null&&this.$i.wt().forEach(p=>{const v=p.In().ll(e);v!==null&&l.set(p,v)});let c;if(e!==null){const p=(s=this.$i.St().Ui(e))===null||s===void 0?void 0:s.originalTime;p!==void 0&&(c=p)}const d=this.$t().Wc(),h=d!==null&&d.Hc instanceof B1?d.Hc:void 0,g=d!==null&&d.Iv!==void 0?d.Iv.gr:void 0;return{zb:c,ee:e??void 0,Lb:n??void 0,Eb:h,Nb:l,Fb:g,Wb:r??void 0}}Bb(e,n,r){this.Vp.m(()=>this.Ib(e,n,r))}Ab(e,n,r){this.Op.m(()=>this.Ib(e,n,r))}lb(e,n,r){this.Rc.m(()=>this.Ib(e,n,r))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const n=e.find(r=>r.target===this.Jd);n&&this._b(n.contentRect.width,n.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function Om(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function z7(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function sN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}function bS(t,e,n,r){const s=n.value,l={ee:e,ot:t,Vt:[s,s,s,s],zb:r};return n.color!==void 0&&(l.V=n.color),l}function B7(t,e,n,r){const s=n.value,l={ee:e,ot:t,Vt:[s,s,s,s],zb:r};return n.lineColor!==void 0&&(l.lt=n.lineColor),n.topColor!==void 0&&(l.Ps=n.topColor),n.bottomColor!==void 0&&(l.Rs=n.bottomColor),l}function H7(t,e,n,r){const s=n.value,l={ee:e,ot:t,Vt:[s,s,s,s],zb:r};return n.topLineColor!==void 0&&(l.Re=n.topLineColor),n.bottomLineColor!==void 0&&(l.De=n.bottomLineColor),n.topFillColor1!==void 0&&(l.ke=n.topFillColor1),n.topFillColor2!==void 0&&(l.ye=n.topFillColor2),n.bottomFillColor1!==void 0&&(l.Ce=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(l.Te=n.bottomFillColor2),l}function U7(t,e,n,r){const s={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(s.V=n.color),s}function $7(t,e,n,r){const s={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(s.V=n.color),n.borderColor!==void 0&&(s.Ot=n.borderColor),n.wickColor!==void 0&&(s.Xh=n.wickColor),s}function W7(t,e,n,r,s){const l=oi(s)(n),c=Math.max(...l),d=Math.min(...l),h=l[l.length-1],g=[h,c,d,h],p=n,{time:v,color:_}=p;return{ee:e,ot:t,Vt:g,zb:r,$e:sN(p,["time","color"]),V:_}}function Ch(t){return t.Vt!==void 0}function _S(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function To(t){return(e,n,r,s,l,c)=>function(d,h){return h?h(d):(g=d).open===void 0&&g.value===void 0;var g}(r,c)?_S({ot:e,ee:n,zb:s},r):_S(t(e,n,r,s,l),r)}function SS(t){return{Candlestick:To($7),Bar:To(U7),Area:To(B7),Baseline:To(H7),Histogram:To(bS),Line:To(bS),Custom:To(W7)}[t]}function wS(t){return{ee:0,Hb:new Map,la:t}}function ES(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function kS(t){let e;return t.forEach(n=>{e===void 0&&(e=n.zb)}),oi(e)}class V7{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,n){let r=this.qb.size!==0,s=!1;const l=this.Yb.get(e);if(l!==void 0)if(this.Yb.size===1)r=!1,s=!0,this.qb.clear();else for(const h of this.Xb)h.pointData.Hb.delete(e)&&(s=!0);let c=[];if(n.length!==0){const h=n.map(y=>y.time),g=this.q_.createConverterToInternalObj(n),p=SS(e.Qh()),v=e.Ca(),_=e.Ta();c=n.map((y,E)=>{const S=g(y.time),k=this.q_.key(S);let D=this.qb.get(k);D===void 0&&(D=wS(S),this.qb.set(k,D),s=!0);const A=p(S,D.ee,y,h[E],v,_);return D.Hb.set(e,A),A})}r&&this.Gb(),this.Jb(e,c);let d=-1;if(s){const h=[];this.qb.forEach(g=>{h.push({timeWeight:0,time:g.la,pointData:g,originalTime:kS(g.Hb)})}),h.sort((g,p)=>this.q_.key(g.time)-this.q_.key(p.time)),d=this.Qb(h)}return this.tw(e,d,function(h,g,p){const v=ES(h,p),_=ES(g,p);if(v!==void 0&&_!==void 0)return{ta:v.Ub>=_.Ub&&v.$b>=_.$b}}(this.Yb.get(e),l,this.q_))}vd(e){return this.Kb(e,[])}iw(e,n){const r=n;(function(S){S.zb===void 0&&(S.zb=S.time)})(r),this.q_.preprocessData(n);const s=this.q_.createConverterToInternalObj([n])(n.time),l=this.Zb.get(e);if(l!==void 0&&this.q_.key(s)<this.q_.key(l))throw new Error(`Cannot update oldest data, last time=${l}, new time=${s}`);let c=this.qb.get(this.q_.key(s));const d=c===void 0;c===void 0&&(c=wS(s),this.qb.set(this.q_.key(s),c));const h=SS(e.Qh()),g=e.Ca(),p=e.Ta(),v=h(s,c.ee,n,r.zb,g,p);c.Hb.set(e,v),this.nw(e,v);const _={ta:Ch(v)};if(!d)return this.tw(e,-1,_);const y={timeWeight:0,time:c.la,pointData:c,originalTime:kS(c.Hb)},E=rf(this.Xb,this.q_.key(y.time),(S,k)=>this.q_.key(S.time)<k);this.Xb.splice(E,0,y);for(let S=E;S<this.Xb.length;++S)Dm(this.Xb[S].pointData,S);return this.q_.fillWeightsForPoints(this.Xb,E),this.tw(e,E,_)}nw(e,n){let r=this.Yb.get(e);r===void 0&&(r=[],this.Yb.set(e,r));const s=r.length!==0?r[r.length-1]:null;s===null||this.q_.key(n.ot)>this.q_.key(s.ot)?Ch(n)&&r.push(n):Ch(n)?r[r.length-1]=n:r.splice(-1,1),this.Zb.set(e,n.ot)}Jb(e,n){n.length!==0?(this.Yb.set(e,n.filter(Ch)),this.Zb.set(e,n[n.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let n=-1;for(let r=0;r<this.Xb.length&&r<e.length;++r){const s=this.Xb[r],l=e[r];if(this.q_.key(s.time)!==this.q_.key(l.time)){n=r;break}l.timeWeight=s.timeWeight,Dm(l.pointData,r)}if(n===-1&&this.Xb.length!==e.length&&(n=Math.min(this.Xb.length,e.length)),n===-1)return-1;for(let r=n;r<e.length;++r)Dm(e[r].pointData,r);return this.q_.fillWeightsForPoints(e,n),this.Xb=e,n}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].ee))}),e}tw(e,n,r){const s={ew:new Map,St:{Eu:this.sw()}};if(n!==-1)this.Yb.forEach((l,c)=>{s.ew.set(c,{$e:l,rw:c===e?r:void 0})}),this.Yb.has(e)||s.ew.set(e,{$e:[],rw:r}),s.St.hw=this.Xb,s.St.lw=n;else{const l=this.Yb.get(e);s.ew.set(e,{$e:l||[],rw:r})}return s}}function Dm(t,e){t.ee=e,t.Hb.forEach(n=>{n.ee=e})}function V1(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function TS(t){const e=V1(t);return t.V!==void 0&&(e.color=t.V),e}function Y7(t){const e=V1(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function G7(t){const e=V1(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function iN(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function q7(t){const e=iN(t);return t.V!==void 0&&(e.color=t.V),e}function X7(t){const e=iN(t),{V:n,Ot:r,Xh:s}=t;return n!==void 0&&(e.color=n),r!==void 0&&(e.borderColor=r),s!==void 0&&(e.wickColor=s),e}function Sx(t){return{Area:Y7,Line:TS,Baseline:G7,Histogram:TS,Bar:q7,Candlestick:X7,Custom:J7}[t]}function J7(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const K7={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Z7={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Q7={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:M1,attributionLogo:!0},Rm={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},eB={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},tB={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:M1,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function NS(){return{width:0,height:0,autoSize:!1,layout:Q7,crosshair:K7,grid:Z7,overlayPriceScales:Object.assign({},Rm),leftPriceScale:Object.assign(Object.assign({},Rm),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Rm),{visible:!0}),timeScale:eB,watermark:tB,localization:{locale:Yc?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class nB{constructor(e,n){this.aw=e,this.ow=n}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return U0(this.ow)?this.aw.Mb(this.ow):0}Li(){return zt(this.aw.$t().Uc(this.ow)).Dt}}function CS(t,e,n){const r=sN(t,["time","originalTime"]),s=Object.assign({time:e},r);return n!==void 0&&(s.originalTime=n),s}const rB={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class sB{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class iB{constructor(e,n,r,s,l){this.uw=new vs,this.Es=e,this.cw=n,this.dw=r,this.q_=l,this.fw=s}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().Rt(e,n.Vt)}coordinateToPrice(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().pn(e,n.Vt)}barsInLogicalRange(e){if(e===null)return null;const n=new $c(new _d(e.from,e.to)).lu(),r=this.Es.In();if(r.Ni())return null;const s=r.ll(n.Os(),1),l=r.ll(n.ui(),-1),c=zt(r.el()),d=zt(r.An());if(s!==null&&l!==null&&s.ee>l.ee)return{barsBefore:e.from-c,barsAfter:d-e.to};const h={barsBefore:s===null||s.ee===c?e.from-c:s.ee-c,barsAfter:l===null||l.ee===d?d-e.to:d-l.ee};return s!==null&&l!==null&&(h.from=s.zb,h.to=l.zb),h}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,n){const r=this.Es.In().ll(e,n);return r===null?null:Sx(this.seriesType())(r)}data(){const e=Sx(this.seriesType());return this.Es.In().ne().map(n=>e(n))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const n=e.map(r=>CS(r,this.q_.convertHorzItemToInternal(r.time),r.time));this.Es.na(n)}markers(){return this.Es.sa().map(e=>CS(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return ll(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const n=pa(ll(rB),e),r=this.Es.ea(n);return new sB(r)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class aB{constructor(e,n,r){this.ww=new vs,this.mu=new vs,this.Om=new vs,this.$i=e,this.yl=e.St(),this.ab=n,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=r}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,n){n?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},r=this.yl.Iu(n);this.$i.pd(r)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){so(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const n=this.$i.St();return n.Ni()?null:n.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const n=this.q_.convertHorzItemToInternal(e),r=this.yl.Va(n,!1);return r===null?null:this.yl.It(r)}coordinateToTime(e){const n=this.$i.St(),r=n.Nu(e),s=n.Ui(r);return s===null?null:s.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},ll(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function lB(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let r=0;for(;r<8;r++){const s=Math.round(n);if(Math.abs(s-n)<1e-8)return r;n*=10}return r}(e.minMove))}function jS(t){return function(e){if(yh(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:s}=e.handleScale;yh(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),yh(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const n=e.handleScroll;yh(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class oB{constructor(e,n,r){this.Sw=new Map,this.kw=new Map,this.yw=new vs,this.Cw=new vs,this.Tw=new vs,this.Pw=new V7(n);const s=r===void 0?ll(NS()):pa(ll(NS()),jS(r));this.q_=n,this.aw=new F7(e,s,n),this.aw.lm().l(c=>{this.yw.M()&&this.yw.m(this.Rw(c()))},this),this.aw.am().l(c=>{this.Cw.M()&&this.Cw.m(this.Rw(c()))},this),this.aw.Xc().l(c=>{this.Tw.M()&&this.Tw.m(this.Rw(c()))},this);const l=this.aw.$t();this.Dw=new aB(l,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,n,r){this.autoSizeActive()||this.aw._b(e,n,r)}addCustomSeries(e,n){const r=Rc(e),s=Object.assign(Object.assign({},MT),r.defaultOptions());return this.Vw("Custom",s,n,r)}addAreaSeries(e){return this.Vw("Area",VF,e)}addBaselineSeries(e){return this.Vw("Baseline",YF,e)}addBarSeries(e){return this.Vw("Bar",$F,e)}addCandlestickSeries(e={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(e),this.Vw("Candlestick",UF,e)}addHistogramSeries(e){return this.Vw("Histogram",GF,e)}addLineSeries(e){return this.Vw("Line",WF,e)}removeSeries(e){const n=oi(this.Sw.get(e)),r=this.Pw.vd(n);this.aw.$t().vd(n),this.Ow(r),this.Sw.delete(e),this.kw.delete(n)}pw(e,n){this.Ow(this.Pw.Kb(e,n))}bw(e,n){this.Ow(this.Pw.iw(e,n))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new nB(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(jS(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,n,r){const s=this.Sw.get(r);if(s===void 0)return;const l=this.aw.$t().dr(s);l!==null&&this.aw.$t().ad(e,n,l)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,n,r={},s){lB(r.priceFormat);const l=pa(ll(LT),ll(n),r),c=this.aw.$t().dd(e,l,s),d=new iB(c,this,this,this,this.q_);return this.Sw.set(d,c),this.kw.set(c,d),d}Ow(e){const n=this.aw.$t();n._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((r,s)=>s.J(r.$e,r.rw)),n.Wu()}Bw(e){return oi(this.kw.get(e))}Rw(e){const n=new Map;e.Nb.forEach((s,l)=>{const c=l.Qh(),d=Sx(c)(s);if(c!=="Custom")so(z7(d));else{const h=l.Ta();so(!h||h(d)===!1)}n.set(this.Bw(l),d)});const r=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:r,hoveredObjectId:e.Fb,seriesData:n,sourceEvent:e.Wb}}}function cB(t,e,n){let r;if(nf(t)){const l=document.getElementById(t);so(l!==null,`Cannot find element in DOM with id=${t}`),r=l}else r=t;const s=new oB(r,e,n);return e.setOptions(s.options()),s}function uB(t,e){return cB(t,new gS,gS.Id(e))}Object.assign(Object.assign({},LT),MT);class AS{constructor(e,n,r){this.next=r,r&&(r.prev=this),this.prev=n,n&&(n.next=this),this.data=e}}class dB{constructor(){this._length=0}get head(){return this._head&&this._head.data}get tail(){return this._tail&&this._tail.data}get current(){return this._current&&this._current.data}get length(){return this._length}push(e){this._tail=new AS(e,this._tail),this._length===0&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++}pop(){var e=this._tail;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)}shift(){var e=this._head;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)}unshift(e){this._head=new AS(e,void 0,this._head),this._length===0&&(this._tail=this._head,this._next=this._head),this._length++}unshiftCurrent(){var e=this._current;return e===this._head||this._length<2?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)}removeCurrent(){var e=this._current;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)}resetCursor(){return this._current=this._next=this._head,this}next(){var e=this._next;if(e!==void 0)return this._next=e.next,this._current=e,e.data}}let fB={};function hB(t){return fB[t]}function gB(t){let e=hB("precision");return e?parseFloat(t.toPrecision(e)):t}class Ps{constructor(e){this.format=e.format||gB}static reverseInputs(e){e.reversedInput&&(e.values&&e.values.reverse(),e.open&&e.open.reverse(),e.high&&e.high.reverse(),e.low&&e.low.reverse(),e.close&&e.close.reverse(),e.volume&&e.volume.reverse(),e.timestamp&&e.timestamp.reverse())}getResult(){return this.result}}class Hd extends Ps{constructor(e){super(e),this.period=e.period,this.price=e.values;var n=function*(r){var s=new dB,l=0,c=1,d=yield,h;for(s.push(0);;)c<r?(c++,s.push(d),l=l+d):(l=l-s.shift()+d,h=l/r,s.push(d)),d=yield h};this.generator=n(this.period),this.generator.next(),this.result=[],this.price.forEach(r=>{var s=this.generator.next(r);s.value!==void 0&&this.result.push(this.format(s.value))})}nextValue(e){var n=this.generator.next(e).value;if(n!=null)return this.format(n)}}Hd.calculate=pB;function pB(t){Ps.reverseInputs(t);var e=new Hd(t).result;return t.reversedInput&&e.reverse(),Ps.reverseInputs(t),e}class p0 extends Ps{constructor(e){super(e);var n=e.period,r=e.values,s=2/(n+1),l;this.result=[],l=new Hd({period:n,values:[]});var c=function*(){for(var d=yield,h;;)h!==void 0&&d!==void 0?(h=(d-h)*s+h,d=yield h):(d=yield,h=l.nextValue(d),h&&(d=yield h))};this.generator=c(),this.generator.next(),this.generator.next(),r.forEach(d=>{var h=this.generator.next(d);h.value!=null&&this.result.push(this.format(h.value))})}nextValue(e){var n=this.generator.next(e).value;if(n!=null)return this.format(n)}}p0.calculate=mB;function mB(t){Ps.reverseInputs(t);var e=new p0(t).result;return t.reversedInput&&e.reverse(),Ps.reverseInputs(t),e}class Y1 extends Ps{constructor(e){super(e);var n=e.SimpleMAOscillator?Hd:p0,r=e.SimpleMASignal?Hd:p0,s=new n({period:e.fastPeriod,values:[],format:h=>h}),l=new n({period:e.slowPeriod,values:[],format:h=>h}),c=new r({period:e.signalPeriod,values:[],format:h=>h}),d=this.format;this.result=[],this.generator=function*(){for(var h=0,g,p,v,_,y,E;;){if(h<e.slowPeriod){g=yield,y=s.nextValue(g),E=l.nextValue(g),h++;continue}y&&E&&(p=y-E,v=c.nextValue(p)),_=p-v,g=yield{MACD:d(p),signal:v?d(v):void 0,histogram:isNaN(_)?void 0:d(_)},y=s.nextValue(g),E=l.nextValue(g)}}(),this.generator.next(),e.values.forEach(h=>{var g=this.generator.next(h);g.value!=null&&this.result.push(g.value)})}nextValue(e){var n=this.generator.next(e).value;return n}}Y1.calculate=xB;function xB(t){Ps.reverseInputs(t);var e=new Y1(t).result;return t.reversedInput&&e.reverse(),Ps.reverseInputs(t),e}class G1 extends Ps{constructor(e){super(e);let n=e.values,r=e.period,s=this.format;this.generator=function*(l){var c=yield,d=1,h=0,g,p,v=c;for(c=yield;;)p=c-v,p=p>0?p:0,p>0&&(h=h+p),d<l?d++:g===void 0?g=h/l:g=(g*(l-1)+p)/l,v=c,g=g!==void 0?s(g):void 0,c=yield g}(r),this.generator.next(),this.result=[],n.forEach(l=>{var c=this.generator.next(l);c.value!==void 0&&this.result.push(c.value)})}nextValue(e){return this.generator.next(e).value}}G1.calculate=vB;function vB(t){Ps.reverseInputs(t);var e=new G1(t).result;return t.reversedInput&&e.reverse(),Ps.reverseInputs(t),e}class q1 extends Ps{constructor(e){super(e);let n=e.values,r=e.period,s=this.format;this.generator=function*(l){var c=yield,d=1,h=0,g,p,v=c;for(c=yield;;)p=v-c,p=p>0?p:0,p>0&&(h=h+p),d<l?d++:g===void 0?g=h/l:g=(g*(l-1)+p)/l,v=c,g=g!==void 0?s(g):void 0,c=yield g}(r),this.generator.next(),this.result=[],n.forEach(l=>{var c=this.generator.next(l);c.value!==void 0&&this.result.push(c.value)})}nextValue(e){return this.generator.next(e).value}}q1.calculate=yB;function yB(t){Ps.reverseInputs(t);var e=new q1(t).result;return t.reversedInput&&e.reverse(),Ps.reverseInputs(t),e}class X1 extends Ps{constructor(e){super(e);var n=e.period,r=e.values,s=new G1({period:n,values:[]}),l=new q1({period:n,values:[]});this.generator=function*(c){for(var d=yield,h,g,p,v;;)h=s.nextValue(d),g=l.nextValue(d),h!==void 0&&g!==void 0&&(g===0?v=100:h===0?v=0:(p=h/g,p=isNaN(p)?0:p,v=parseFloat((100-100/(1+p)).toFixed(2)))),d=yield v}(),this.generator.next(),this.result=[],r.forEach(c=>{var d=this.generator.next(c);d.value!==void 0&&this.result.push(d.value)})}nextValue(e){return this.generator.next(e).value}}X1.calculate=bB;function bB(t){Ps.reverseInputs(t);var e=new X1(t).result;return t.reversedInput&&e.reverse(),Ps.reverseInputs(t),e}function aN(t,e){return function(){return t.apply(e,arguments)}}const{toString:_B}=Object.prototype,{getPrototypeOf:J1}=Object,{iterator:V0,toStringTag:lN}=Symbol,Y0=(t=>e=>{const n=_B.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),va=t=>(t=t.toLowerCase(),e=>Y0(e)===t),G0=t=>e=>typeof e===t,{isArray:ru}=Array,Ud=G0("undefined");function SB(t){return t!==null&&!Ud(t)&&t.constructor!==null&&!Ud(t.constructor)&&mi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oN=va("ArrayBuffer");function wB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oN(t.buffer),e}const EB=G0("string"),mi=G0("function"),cN=G0("number"),q0=t=>t!==null&&typeof t=="object",kB=t=>t===!0||t===!1,Uh=t=>{if(Y0(t)!=="object")return!1;const e=J1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lN in t)&&!(V0 in t)},TB=va("Date"),NB=va("File"),CB=va("Blob"),jB=va("FileList"),AB=t=>q0(t)&&mi(t.pipe),OB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mi(t.append)&&((e=Y0(t))==="formdata"||e==="object"&&mi(t.toString)&&t.toString()==="[object FormData]"))},DB=va("URLSearchParams"),[RB,MB,LB,IB]=["ReadableStream","Request","Response","Headers"].map(va),PB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),ru(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let d;for(r=0;r<c;r++)d=l[r],e.call(null,t[d],d,t)}}function uN(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dN=t=>!Ud(t)&&t!==jo;function wx(){const{caseless:t}=dN(this)&&this||{},e={},n=(r,s)=>{const l=t&&uN(e,s)||s;Uh(e[l])&&Uh(r)?e[l]=wx(e[l],r):Uh(r)?e[l]=wx({},r):ru(r)?e[l]=r.slice():e[l]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&sf(arguments[r],n);return e}const FB=(t,e,n,{allOwnKeys:r}={})=>(sf(e,(s,l)=>{n&&mi(s)?t[l]=aN(s,n):t[l]=s},{allOwnKeys:r}),t),zB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),BB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},HB=(t,e,n,r)=>{let s,l,c;const d={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),l=s.length;l-- >0;)c=s[l],(!r||r(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=n!==!1&&J1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},UB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$B=t=>{if(!t)return null;if(ru(t))return t;let e=t.length;if(!cN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},WB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&J1(Uint8Array)),VB=(t,e)=>{const r=(t&&t[V0]).call(t);let s;for(;(s=r.next())&&!s.done;){const l=s.value;e.call(t,l[0],l[1])}},YB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},GB=va("HTMLFormElement"),qB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),OS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),XB=va("RegExp"),fN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};sf(n,(s,l)=>{let c;(c=e(s,l,t))!==!1&&(r[l]=c||s)}),Object.defineProperties(t,r)},JB=t=>{fN(t,(e,n)=>{if(mi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(mi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},KB=(t,e)=>{const n={},r=s=>{s.forEach(l=>{n[l]=!0})};return ru(t)?r(t):r(String(t).split(e)),n},ZB=()=>{},QB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function e9(t){return!!(t&&mi(t.append)&&t[lN]==="FormData"&&t[V0])}const t9=t=>{const e=new Array(10),n=(r,s)=>{if(q0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const l=ru(r)?[]:{};return sf(r,(c,d)=>{const h=n(c,s+1);!Ud(h)&&(l[d]=h)}),e[s]=void 0,l}}return r};return n(t,0)},n9=va("AsyncFunction"),r9=t=>t&&(q0(t)||mi(t))&&mi(t.then)&&mi(t.catch),hN=((t,e)=>t?setImmediate:e?((n,r)=>(jo.addEventListener("message",({source:s,data:l})=>{s===jo&&l===n&&r.length&&r.shift()()},!1),s=>{r.push(s),jo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",mi(jo.postMessage)),s9=typeof queueMicrotask<"u"?queueMicrotask.bind(jo):typeof process<"u"&&process.nextTick||hN,i9=t=>t!=null&&mi(t[V0]),at={isArray:ru,isArrayBuffer:oN,isBuffer:SB,isFormData:OB,isArrayBufferView:wB,isString:EB,isNumber:cN,isBoolean:kB,isObject:q0,isPlainObject:Uh,isReadableStream:RB,isRequest:MB,isResponse:LB,isHeaders:IB,isUndefined:Ud,isDate:TB,isFile:NB,isBlob:CB,isRegExp:XB,isFunction:mi,isStream:AB,isURLSearchParams:DB,isTypedArray:WB,isFileList:jB,forEach:sf,merge:wx,extend:FB,trim:PB,stripBOM:zB,inherits:BB,toFlatObject:HB,kindOf:Y0,kindOfTest:va,endsWith:UB,toArray:$B,forEachEntry:VB,matchAll:YB,isHTMLForm:GB,hasOwnProperty:OS,hasOwnProp:OS,reduceDescriptors:fN,freezeMethods:JB,toObjectSet:KB,toCamelCase:qB,noop:ZB,toFiniteNumber:QB,findKey:uN,global:jo,isContextDefined:dN,isSpecCompliantForm:e9,toJSONObject:t9,isAsyncFn:n9,isThenable:r9,setImmediate:hN,asap:s9,isIterable:i9};function Gn(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}at.inherits(Gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:at.toJSONObject(this.config),code:this.code,status:this.status}}});const gN=Gn.prototype,pN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pN[t]={value:t}});Object.defineProperties(Gn,pN);Object.defineProperty(gN,"isAxiosError",{value:!0});Gn.from=(t,e,n,r,s,l)=>{const c=Object.create(gN);return at.toFlatObject(t,c,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),Gn.call(c,t.message,e,n,r,s),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const a9=null;function Ex(t){return at.isPlainObject(t)||at.isArray(t)}function mN(t){return at.endsWith(t,"[]")?t.slice(0,-2):t}function DS(t,e,n){return t?t.concat(e).map(function(s,l){return s=mN(s),!n&&l?"["+s+"]":s}).join(n?".":""):e}function l9(t){return at.isArray(t)&&!t.some(Ex)}const o9=at.toFlatObject(at,{},null,function(e){return/^is[A-Z]/.test(e)});function X0(t,e,n){if(!at.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=at.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,k){return!at.isUndefined(k[S])});const r=n.metaTokens,s=n.visitor||p,l=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&at.isSpecCompliantForm(e);if(!at.isFunction(s))throw new TypeError("visitor must be a function");function g(E){if(E===null)return"";if(at.isDate(E))return E.toISOString();if(at.isBoolean(E))return E.toString();if(!h&&at.isBlob(E))throw new Gn("Blob is not supported. Use a Buffer instead.");return at.isArrayBuffer(E)||at.isTypedArray(E)?h&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,S,k){let D=E;if(E&&!k&&typeof E=="object"){if(at.endsWith(S,"{}"))S=r?S:S.slice(0,-2),E=JSON.stringify(E);else if(at.isArray(E)&&l9(E)||(at.isFileList(E)||at.endsWith(S,"[]"))&&(D=at.toArray(E)))return S=mN(S),D.forEach(function(M,Y){!(at.isUndefined(M)||M===null)&&e.append(c===!0?DS([S],Y,l):c===null?S:S+"[]",g(M))}),!1}return Ex(E)?!0:(e.append(DS(k,S,l),g(E)),!1)}const v=[],_=Object.assign(o9,{defaultVisitor:p,convertValue:g,isVisitable:Ex});function y(E,S){if(!at.isUndefined(E)){if(v.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));v.push(E),at.forEach(E,function(D,A){(!(at.isUndefined(D)||D===null)&&s.call(e,D,at.isString(A)?A.trim():A,S,_))===!0&&y(D,S?S.concat(A):[A])}),v.pop()}}if(!at.isObject(t))throw new TypeError("data must be an object");return y(t),e}function RS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function K1(t,e){this._pairs=[],t&&X0(t,this,e)}const xN=K1.prototype;xN.append=function(e,n){this._pairs.push([e,n])};xN.toString=function(e){const n=e?function(r){return e.call(this,r,RS)}:RS;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function c9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vN(t,e,n){if(!e)return t;const r=n&&n.encode||c9;at.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(e,n):l=at.isURLSearchParams(e)?e.toString():new K1(e,n).toString(r),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class MS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){at.forEach(this.handlers,function(r){r!==null&&e(r)})}}const yN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},u9=typeof URLSearchParams<"u"?URLSearchParams:K1,d9=typeof FormData<"u"?FormData:null,f9=typeof Blob<"u"?Blob:null,h9={isBrowser:!0,classes:{URLSearchParams:u9,FormData:d9,Blob:f9},protocols:["http","https","file","blob","url","data"]},Z1=typeof window<"u"&&typeof document<"u",kx=typeof navigator=="object"&&navigator||void 0,g9=Z1&&(!kx||["ReactNative","NativeScript","NS"].indexOf(kx.product)<0),p9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",m9=Z1&&window.location.href||"http://localhost",x9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Z1,hasStandardBrowserEnv:g9,hasStandardBrowserWebWorkerEnv:p9,navigator:kx,origin:m9},Symbol.toStringTag,{value:"Module"})),Zs={...x9,...h9};function v9(t,e){return X0(t,new Zs.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,l){return Zs.isNode&&at.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function y9(t){return at.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function b9(t){const e={},n=Object.keys(t);let r;const s=n.length;let l;for(r=0;r<s;r++)l=n[r],e[l]=t[l];return e}function bN(t){function e(n,r,s,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=l>=n.length;return c=!c&&at.isArray(s)?s.length:c,h?(at.hasOwnProp(s,c)?s[c]=[s[c],r]:s[c]=r,!d):((!s[c]||!at.isObject(s[c]))&&(s[c]=[]),e(n,r,s[c],l)&&at.isArray(s[c])&&(s[c]=b9(s[c])),!d)}if(at.isFormData(t)&&at.isFunction(t.entries)){const n={};return at.forEachEntry(t,(r,s)=>{e(y9(r),s,n,0)}),n}return null}function _9(t,e,n){if(at.isString(t))try{return(e||JSON.parse)(t),at.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const af={transitional:yN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,l=at.isObject(e);if(l&&at.isHTMLForm(e)&&(e=new FormData(e)),at.isFormData(e))return s?JSON.stringify(bN(e)):e;if(at.isArrayBuffer(e)||at.isBuffer(e)||at.isStream(e)||at.isFile(e)||at.isBlob(e)||at.isReadableStream(e))return e;if(at.isArrayBufferView(e))return e.buffer;if(at.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return v9(e,this.formSerializer).toString();if((d=at.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return X0(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),_9(e)):e}],transformResponse:[function(e){const n=this.transitional||af.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(at.isResponse(e)||at.isReadableStream(e))return e;if(e&&at.isString(e)&&(r&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Gn.from(d,Gn.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zs.classes.FormData,Blob:Zs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};at.forEach(["delete","get","head","post","put","patch"],t=>{af.headers[t]={}});const S9=at.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w9=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),r=c.substring(s+1).trim(),!(!n||e[n]&&S9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},LS=Symbol("internals");function Qu(t){return t&&String(t).trim().toLowerCase()}function $h(t){return t===!1||t==null?t:at.isArray(t)?t.map($h):String(t)}function E9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const k9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mm(t,e,n,r,s){if(at.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!at.isString(e)){if(at.isString(r))return e.indexOf(r)!==-1;if(at.isRegExp(r))return r.test(e)}}function T9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function N9(t,e){const n=at.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,l,c){return this[r].call(this,e,s,l,c)},configurable:!0})})}let xi=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function l(d,h,g){const p=Qu(h);if(!p)throw new Error("header name must be a non-empty string");const v=at.findKey(s,p);(!v||s[v]===void 0||g===!0||g===void 0&&s[v]!==!1)&&(s[v||h]=$h(d))}const c=(d,h)=>at.forEach(d,(g,p)=>l(g,p,h));if(at.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(at.isString(e)&&(e=e.trim())&&!k9(e))c(w9(e),n);else if(at.isObject(e)&&at.isIterable(e)){let d={},h,g;for(const p of e){if(!at.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[g=p[0]]=(h=d[g])?at.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(d,n)}else e!=null&&l(n,e,r);return this}get(e,n){if(e=Qu(e),e){const r=at.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return E9(s);if(at.isFunction(n))return n.call(this,s,r);if(at.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qu(e),e){const r=at.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Mm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function l(c){if(c=Qu(c),c){const d=at.findKey(r,c);d&&(!n||Mm(r,r[d],d,n))&&(delete r[d],s=!0)}}return at.isArray(e)?e.forEach(l):l(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const l=n[r];(!e||Mm(this,this[l],l,e,!0))&&(delete this[l],s=!0)}return s}normalize(e){const n=this,r={};return at.forEach(this,(s,l)=>{const c=at.findKey(r,l);if(c){n[c]=$h(s),delete n[l];return}const d=e?T9(l):String(l).trim();d!==l&&delete n[l],n[d]=$h(s),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return at.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&at.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[LS]=this[LS]={accessors:{}}).accessors,s=this.prototype;function l(c){const d=Qu(c);r[d]||(N9(s,c),r[d]=!0)}return at.isArray(e)?e.forEach(l):l(e),this}};xi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);at.reduceDescriptors(xi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});at.freezeMethods(xi);function Lm(t,e){const n=this||af,r=e||n,s=xi.from(r.headers);let l=r.data;return at.forEach(t,function(d){l=d.call(n,l,s.normalize(),e?e.status:void 0)}),s.normalize(),l}function _N(t){return!!(t&&t.__CANCEL__)}function su(t,e,n){Gn.call(this,t??"canceled",Gn.ERR_CANCELED,e,n),this.name="CanceledError"}at.inherits(su,Gn,{__CANCEL__:!0});function SN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Gn("Request failed with status code "+n.status,[Gn.ERR_BAD_REQUEST,Gn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function C9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function j9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,l=0,c;return e=e!==void 0?e:1e3,function(h){const g=Date.now(),p=r[l];c||(c=g),n[s]=h,r[s]=g;let v=l,_=0;for(;v!==s;)_+=n[v++],v=v%t;if(s=(s+1)%t,s===l&&(l=(l+1)%t),g-c<e)return;const y=p&&g-p;return y?Math.round(_*1e3/y):void 0}}function A9(t,e){let n=0,r=1e3/e,s,l;const c=(g,p=Date.now())=>{n=p,s=null,l&&(clearTimeout(l),l=null),t.apply(null,g)};return[(...g)=>{const p=Date.now(),v=p-n;v>=r?c(g,p):(s=g,l||(l=setTimeout(()=>{l=null,c(s)},r-v)))},()=>s&&c(s)]}const m0=(t,e,n=3)=>{let r=0;const s=j9(50,250);return A9(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,h=c-r,g=s(h),p=c<=d;r=c;const v={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:g||void 0,estimated:g&&d&&p?(d-c)/g:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(v)},n)},IS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},PS=t=>(...e)=>at.asap(()=>t(...e)),O9=Zs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Zs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Zs.origin),Zs.navigator&&/(msie|trident)/i.test(Zs.navigator.userAgent)):()=>!0,D9=Zs.hasStandardBrowserEnv?{write(t,e,n,r,s,l){const c=[t+"="+encodeURIComponent(e)];at.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),at.isString(r)&&c.push("path="+r),at.isString(s)&&c.push("domain="+s),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function R9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function M9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wN(t,e,n){let r=!R9(e);return t&&(r||n==!1)?M9(t,e):e}const FS=t=>t instanceof xi?{...t}:t;function Ho(t,e){e=e||{};const n={};function r(g,p,v,_){return at.isPlainObject(g)&&at.isPlainObject(p)?at.merge.call({caseless:_},g,p):at.isPlainObject(p)?at.merge({},p):at.isArray(p)?p.slice():p}function s(g,p,v,_){if(at.isUndefined(p)){if(!at.isUndefined(g))return r(void 0,g,v,_)}else return r(g,p,v,_)}function l(g,p){if(!at.isUndefined(p))return r(void 0,p)}function c(g,p){if(at.isUndefined(p)){if(!at.isUndefined(g))return r(void 0,g)}else return r(void 0,p)}function d(g,p,v){if(v in e)return r(g,p);if(v in t)return r(void 0,g)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,p,v)=>s(FS(g),FS(p),v,!0)};return at.forEach(Object.keys(Object.assign({},t,e)),function(p){const v=h[p]||s,_=v(t[p],e[p],p);at.isUndefined(_)&&v!==d||(n[p]=_)}),n}const EN=t=>{const e=Ho({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=xi.from(c),e.url=vN(wN(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(at.isFormData(n)){if(Zs.hasStandardBrowserEnv||Zs.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[g,...p]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...p].join("; "))}}if(Zs.hasStandardBrowserEnv&&(r&&at.isFunction(r)&&(r=r(e)),r||r!==!1&&O9(e.url))){const g=s&&l&&D9.read(l);g&&c.set(s,g)}return e},L9=typeof XMLHttpRequest<"u",I9=L9&&function(t){return new Promise(function(n,r){const s=EN(t);let l=s.data;const c=xi.from(s.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:g}=s,p,v,_,y,E;function S(){y&&y(),E&&E(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function D(){if(!k)return;const M=xi.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),Q={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:M,config:t,request:k};SN(function(z){n(z),S()},function(z){r(z),S()},Q),k=null}"onloadend"in k?k.onloadend=D:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(D)},k.onabort=function(){k&&(r(new Gn("Request aborted",Gn.ECONNABORTED,t,k)),k=null)},k.onerror=function(){r(new Gn("Network Error",Gn.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let Y=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const Q=s.transitional||yN;s.timeoutErrorMessage&&(Y=s.timeoutErrorMessage),r(new Gn(Y,Q.clarifyTimeoutError?Gn.ETIMEDOUT:Gn.ECONNABORTED,t,k)),k=null},l===void 0&&c.setContentType(null),"setRequestHeader"in k&&at.forEach(c.toJSON(),function(Y,Q){k.setRequestHeader(Q,Y)}),at.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),d&&d!=="json"&&(k.responseType=s.responseType),g&&([_,E]=m0(g,!0),k.addEventListener("progress",_)),h&&k.upload&&([v,y]=m0(h),k.upload.addEventListener("progress",v),k.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(p=M=>{k&&(r(!M||M.type?new su(null,t,k):M),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const A=C9(s.url);if(A&&Zs.protocols.indexOf(A)===-1){r(new Gn("Unsupported protocol "+A+":",Gn.ERR_BAD_REQUEST,t));return}k.send(l||null)})},P9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const l=function(g){if(!s){s=!0,d();const p=g instanceof Error?g:this.reason;r.abort(p instanceof Gn?p:new su(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,l(new Gn(`timeout ${e} of ms exceeded`,Gn.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),t=null)};t.forEach(g=>g.addEventListener("abort",l));const{signal:h}=r;return h.unsubscribe=()=>at.asap(d),h}},F9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},z9=async function*(t,e){for await(const n of B9(t))yield*F9(n,e)},B9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},zS=(t,e,n,r)=>{const s=z9(t,e);let l=0,c,d=h=>{c||(c=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:g,value:p}=await s.next();if(g){d(),h.close();return}let v=p.byteLength;if(n){let _=l+=v;n(_)}h.enqueue(new Uint8Array(p))}catch(g){throw d(g),g}},cancel(h){return d(h),s.return()}},{highWaterMark:2})},J0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kN=J0&&typeof ReadableStream=="function",H9=J0&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),TN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},U9=kN&&TN(()=>{let t=!1;const e=new Request(Zs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),BS=64*1024,Tx=kN&&TN(()=>at.isReadableStream(new Response("").body)),x0={stream:Tx&&(t=>t.body)};J0&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!x0[e]&&(x0[e]=at.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Gn(`Response type '${e}' is not supported`,Gn.ERR_NOT_SUPPORT,r)})})})(new Response);const $9=async t=>{if(t==null)return 0;if(at.isBlob(t))return t.size;if(at.isSpecCompliantForm(t))return(await new Request(Zs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(at.isArrayBufferView(t)||at.isArrayBuffer(t))return t.byteLength;if(at.isURLSearchParams(t)&&(t=t+""),at.isString(t))return(await H9(t)).byteLength},W9=async(t,e)=>{const n=at.toFiniteNumber(t.getContentLength());return n??$9(e)},V9=J0&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:h,responseType:g,headers:p,withCredentials:v="same-origin",fetchOptions:_}=EN(t);g=g?(g+"").toLowerCase():"text";let y=P9([s,l&&l.toAbortSignal()],c),E;const S=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let k;try{if(h&&U9&&n!=="get"&&n!=="head"&&(k=await W9(p,r))!==0){let Q=new Request(e,{method:"POST",body:r,duplex:"half"}),K;if(at.isFormData(r)&&(K=Q.headers.get("content-type"))&&p.setContentType(K),Q.body){const[z,ee]=IS(k,m0(PS(h)));r=zS(Q.body,BS,z,ee)}}at.isString(v)||(v=v?"include":"omit");const D="credentials"in Request.prototype;E=new Request(e,{..._,signal:y,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:D?v:void 0});let A=await fetch(E,_);const M=Tx&&(g==="stream"||g==="response");if(Tx&&(d||M&&S)){const Q={};["status","statusText","headers"].forEach(se=>{Q[se]=A[se]});const K=at.toFiniteNumber(A.headers.get("content-length")),[z,ee]=d&&IS(K,m0(PS(d),!0))||[];A=new Response(zS(A.body,BS,z,()=>{ee&&ee(),S&&S()}),Q)}g=g||"text";let Y=await x0[at.findKey(x0,g)||"text"](A,t);return!M&&S&&S(),await new Promise((Q,K)=>{SN(Q,K,{data:Y,headers:xi.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:E})})}catch(D){throw S&&S(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new Gn("Network Error",Gn.ERR_NETWORK,t,E),{cause:D.cause||D}):Gn.from(D,D&&D.code,t,E)}}),Nx={http:a9,xhr:I9,fetch:V9};at.forEach(Nx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const HS=t=>`- ${t}`,Y9=t=>at.isFunction(t)||t===null||t===!1,NN={getAdapter:t=>{t=at.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let l=0;l<e;l++){n=t[l];let c;if(r=n,!Y9(n)&&(r=Nx[(c=String(n)).toLowerCase()],r===void 0))throw new Gn(`Unknown adapter '${c}'`);if(r)break;s[c||"#"+l]=r}if(!r){const l=Object.entries(s).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(HS).join(`
`):" "+HS(l[0]):"as no adapter specified";throw new Gn("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:Nx};function Im(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new su(null,t)}function US(t){return Im(t),t.headers=xi.from(t.headers),t.data=Lm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),NN.getAdapter(t.adapter||af.adapter)(t).then(function(r){return Im(t),r.data=Lm.call(t,t.transformResponse,r),r.headers=xi.from(r.headers),r},function(r){return _N(r)||(Im(t),r&&r.response&&(r.response.data=Lm.call(t,t.transformResponse,r.response),r.response.headers=xi.from(r.response.headers))),Promise.reject(r)})}const CN="1.10.0",K0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{K0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const $S={};K0.transitional=function(e,n,r){function s(l,c){return"[Axios v"+CN+"] Transitional option '"+l+"'"+c+(r?". "+r:"")}return(l,c,d)=>{if(e===!1)throw new Gn(s(c," has been removed"+(n?" in "+n:"")),Gn.ERR_DEPRECATED);return n&&!$S[c]&&($S[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,d):!0}};K0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function G9(t,e,n){if(typeof t!="object")throw new Gn("options must be an object",Gn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const l=r[s],c=e[l];if(c){const d=t[l],h=d===void 0||c(d,l,t);if(h!==!0)throw new Gn("option "+l+" must be "+h,Gn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Gn("Unknown option "+l,Gn.ERR_BAD_OPTION)}}const Wh={assertOptions:G9,validators:K0},Na=Wh.validators;let Ro=class{constructor(e){this.defaults=e||{},this.interceptors={request:new MS,response:new MS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ho(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:l}=n;r!==void 0&&Wh.assertOptions(r,{silentJSONParsing:Na.transitional(Na.boolean),forcedJSONParsing:Na.transitional(Na.boolean),clarifyTimeoutError:Na.transitional(Na.boolean)},!1),s!=null&&(at.isFunction(s)?n.paramsSerializer={serialize:s}:Wh.assertOptions(s,{encode:Na.function,serialize:Na.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Wh.assertOptions(n,{baseUrl:Na.spelling("baseURL"),withXsrfToken:Na.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&at.merge(l.common,l[n.method]);l&&at.forEach(["delete","get","head","post","put","patch","common"],E=>{delete l[E]}),n.headers=xi.concat(c,l);const d=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(h=h&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const g=[];this.interceptors.response.forEach(function(S){g.push(S.fulfilled,S.rejected)});let p,v=0,_;if(!h){const E=[US.bind(this),void 0];for(E.unshift.apply(E,d),E.push.apply(E,g),_=E.length,p=Promise.resolve(n);v<_;)p=p.then(E[v++],E[v++]);return p}_=d.length;let y=n;for(v=0;v<_;){const E=d[v++],S=d[v++];try{y=E(y)}catch(k){S.call(this,k);break}}try{p=US.call(this,y)}catch(E){return Promise.reject(E)}for(v=0,_=g.length;v<_;)p=p.then(g[v++],g[v++]);return p}getUri(e){e=Ho(this.defaults,e);const n=wN(e.baseURL,e.url,e.allowAbsoluteUrls);return vN(n,e.params,e.paramsSerializer)}};at.forEach(["delete","get","head","options"],function(e){Ro.prototype[e]=function(n,r){return this.request(Ho(r||{},{method:e,url:n,data:(r||{}).data}))}});at.forEach(["post","put","patch"],function(e){function n(r){return function(l,c,d){return this.request(Ho(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ro.prototype[e]=n(),Ro.prototype[e+"Form"]=n(!0)});let q9=class jN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(s=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](s);r._listeners=null}),this.promise.then=s=>{let l;const c=new Promise(d=>{r.subscribe(d),l=d}).then(s);return c.cancel=function(){r.unsubscribe(l)},c},e(function(l,c,d){r.reason||(r.reason=new su(l,c,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new jN(function(s){e=s}),cancel:e}}};function X9(t){return function(n){return t.apply(null,n)}}function J9(t){return at.isObject(t)&&t.isAxiosError===!0}const Cx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cx).forEach(([t,e])=>{Cx[e]=t});function AN(t){const e=new Ro(t),n=aN(Ro.prototype.request,e);return at.extend(n,Ro.prototype,e,{allOwnKeys:!0}),at.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return AN(Ho(t,s))},n}const es=AN(af);es.Axios=Ro;es.CanceledError=su;es.CancelToken=q9;es.isCancel=_N;es.VERSION=CN;es.toFormData=X0;es.AxiosError=Gn;es.Cancel=es.CanceledError;es.all=function(e){return Promise.all(e)};es.spread=X9;es.isAxiosError=J9;es.mergeConfig=Ho;es.AxiosHeaders=xi;es.formToJSON=t=>bN(at.isHTMLForm(t)?new FormData(t):t);es.getAdapter=NN.getAdapter;es.HttpStatusCode=Cx;es.default=es;const{Axios:CW,AxiosError:jW,CanceledError:AW,isCancel:OW,CancelToken:DW,VERSION:RW,all:MW,Cancel:LW,isAxiosError:IW,spread:PW,toFormData:FW,AxiosHeaders:zW,HttpStatusCode:BW,formToJSON:HW,getAdapter:UW,mergeConfig:$W}=es,K9=Fn("/api/klines");function Z9(t){return Math.floor(t/1e3)}function Q9(t){return t?t.replace(/[^A-Z0-9]/gi,"").replace(/(PERP|USDTFUT|USDTPERP|USDTPERF|USDTPER)/,"").replace(/\d{6,}$/,"").toUpperCase():""}function Yl(t,e){return t[e]??t[e.toLowerCase()]??t[e.replace("_","").toLowerCase()]??"N/A"}function jx(t){return/^[A-Z]+USDT$/.test(t)}const eH=({symbol:t,trade:e,interval:n="15m",theme:r="dark",width:s=400,height:l=300})=>{x.useRef();const c=x.useRef(),[d,h]=x.useState(null);return x.useEffect(()=>{let g,p,v,_,y,E,S,k=!1;async function D(){h(null);const A=Q9(t);if(!jx(A)){h("Invalid or unsupported symbol");return}const Y={"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d"}[n]||"15m",Q=`${K9}?symbol=${A}&interval=${Y}&limit=200`;try{const{data:K}=await es.get(Q);if(k)return;if(!K||!Array.isArray(K)||K.length===0){h("No data for this symbol"),console.warn("[CustomChart] No data for",A,K);return}const z=K.map(We=>({time:Z9(We[0]),open:+We[1],high:+We[2],low:+We[3],close:+We[4],value:+We[5],volume:+We[5]})),ee=z.map(We=>We.close),se=X1.calculate({period:9,values:ee}),oe=Y1.calculate({values:ee,fastPeriod:12,slowPeriod:26,signalPeriod:9,SimpleMAOscillator:!1,SimpleMASignal:!1});g=uB(c.current,{width:s,height:l,layout:{background:{color:r==="dark"?"#181818":"#fff"},textColor:r==="dark"?"#fff":"#222"},grid:{vertLines:{color:"#222"},horzLines:{color:"#222"}},timeScale:{timeVisible:!0,secondsVisible:!1},rightPriceScale:{visible:!1}}),p=g.addCandlestickSeries(),p.setData(z),v=g.addLineSeries({color:"#fbc02d",lineWidth:2,priceScaleId:"rsi"}),v.setData(se.map((We,ae)=>({time:z[ae+(z.length-se.length)].time,value:We}))),g.addLineSeries({color:"#42a5f5",lineWidth:2,priceScaleId:"macd"}).setData(oe.map((We,ae)=>({time:z[ae+(z.length-oe.length)].time,value:We.MACD}))),g.addLineSeries({color:"#ff9800",lineWidth:2,priceScaleId:"macd"}).setData(oe.map((We,ae)=>({time:z[ae+(z.length-oe.length)].time,value:We.signal})));const me=g.addHistogramSeries({priceScaleId:"macd",scaleMargins:{top:.7,bottom:0}}),je=oe.map((We,ae,Le)=>{const Re=We.MACD-We.signal;let jt="#26a69a";return ae>0?Re>0&&Re>Le[ae-1].MACD-Le[ae-1].signal?jt="#26a69a":Re>0?jt="#b2dfdb":Re<0&&Re<Le[ae-1].MACD-Le[ae-1].signal?jt="#ef5350":jt="#ffcdd2":jt=Re>=0?"#26a69a":"#ef5350",{time:z[ae+(z.length-oe.length)].time,value:Re,color:jt}});me.setData(je),Yl(e,"Buy_Price")!=="N/A"&&(_=p.createPriceLine({price:+Yl(e,"Buy_Price"),color:"#00e676",lineWidth:2,lineStyle:2,title:"Buy"})),Yl(e,"Sell_Price")!=="N/A"&&(y=p.createPriceLine({price:+Yl(e,"Sell_Price"),color:"#ff1744",lineWidth:2,lineStyle:2,title:"Sell"})),Yl(e,"Stop_Price")!=="N/A"&&(E=p.createPriceLine({price:+Yl(e,"Stop_Price"),color:"#ffd600",lineWidth:2,lineStyle:2,title:"Stop"})),Yl(e,"Save_Price")!=="N/A"&&(S=p.createPriceLine({price:+Yl(e,"Save_Price"),color:"#00b0ff",lineWidth:2,lineStyle:2,title:"Save"}))}catch(K){h("No data for this symbol (CORS or symbol error)"),console.error("[CustomChart] Error fetching data for",A,K)}}return D(),()=>{k=!0,g&&g.remove()}},[t,e,n,r,s,l]),o.jsx("div",{style:{width:s,height:l,background:r==="dark"?"#181818":"#fff",borderRadius:8,position:"relative"},children:d?o.jsx("div",{style:{color:"#fff",textAlign:"center",paddingTop:l/2-30,fontWeight:"bold"},children:d}):o.jsx("div",{ref:c,style:{width:s,height:l}})})},tH=({trades:t=[],layout:e=3,interval:n="15m",theme:r="dark"})=>{const[s,l]=x.useState(e),[c,d]=x.useState(n),[h,g]=x.useState(r),[p,v]=x.useState(0),[_,y]=x.useState(10),[E,S]=x.useState(14),[k,D]=x.useState({}),[A,M]=x.useState(400),Y=t.filter(z=>jx(z.Pair.replace(/<[^>]+>/g,"").replace(/[^A-Z0-9]/gi,"").toUpperCase())),Q=Y.slice(p*_,(p+1)*_),K=Math.ceil(Y.length/_);return o.jsxs("div",{style:{background:h==="dark"?"#111":"#fff",minHeight:"100vh",padding:24},children:[o.jsxs("div",{style:{marginBottom:16,color:h==="dark"?"#fff":"#222"},children:[o.jsxs("label",{children:["Interval:",o.jsx("select",{value:c,onChange:z=>d(z.target.value),style:{marginLeft:8},children:["1m","3m","5m","15m","30m","1h","4h","1d"].map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("label",{style:{marginLeft:16},children:["Layout:",o.jsx("select",{value:s,onChange:z=>l(Number(z.target.value)),style:{marginLeft:8},children:[1,2,3,4,5,6].map(z=>o.jsxs("option",{value:z,children:[z," per row"]},z))})]}),o.jsxs("label",{style:{marginLeft:16},children:["Theme:",o.jsx("select",{value:h,onChange:z=>g(z.target.value),style:{marginLeft:8},children:["dark","light"].map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("label",{style:{marginLeft:16},children:["Page Size:",o.jsx("select",{value:_,onChange:z=>{y(Number(z.target.value)),v(0)},style:{marginLeft:8},children:[5,10,20,50,100].map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("label",{style:{marginLeft:16},children:["Font Size:",o.jsx("select",{value:E,onChange:z=>S(Number(z.target.value)),style:{marginLeft:8},children:[12,14,16,18,20].map(z=>o.jsxs("option",{value:z,children:[z,"px"]},z))})]}),o.jsxs("label",{style:{marginLeft:16},children:["Grid Width:",o.jsx("input",{type:"range",min:200,max:800,value:A,onChange:z=>M(Number(z.target.value)),style:{marginLeft:8,verticalAlign:"middle"}}),o.jsxs("span",{style:{marginLeft:8},children:[A,"px"]})]}),o.jsxs("span",{style:{marginLeft:16},children:["Page ",p+1," / ",K]}),o.jsx("button",{disabled:p===0,onClick:()=>v(z=>Math.max(0,z-1)),style:{marginLeft:8},children:"Prev"}),o.jsx("button",{disabled:p>=K-1,onClick:()=>v(z=>Math.min(K-1,z+1)),style:{marginLeft:8},children:"Next"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${s}, ${A}px)`,gap:24},children:Q.map((z,ee)=>{const se=z.Pair.replace(/<[^>]+>/g,"").replace(/[^A-Z0-9]/gi,"").toUpperCase(),oe=jx(se),Ee=k[ee]||{width:A,height:300},re=qr.useRef(),[me,je]=qr.useState(!1),[We,ae]=qr.useState({x:0,y:0,width:Ee.width,height:Ee.height}),Le=ce=>{je(!0),ae({x:ce.clientX,y:ce.clientY,width:Ee.width,height:Ee.height})},Re=ce=>{if(!me)return;const L=ce.clientX-We.x,F=ce.clientY-We.y;D(C=>({...C,[ee]:{width:Math.max(200,We.width+L),height:Math.max(150,We.height+F)}}))},jt=()=>je(!1);qr.useEffect(()=>(me?(window.addEventListener("mousemove",Re),window.addEventListener("mouseup",jt)):(window.removeEventListener("mousemove",Re),window.removeEventListener("mouseup",jt)),()=>{window.removeEventListener("mousemove",Re),window.removeEventListener("mouseup",jt)}),[me]);const P=ce=>D(L=>({...L,[ee]:{...Ee,height:Number(ce.target.value)}}));return o.jsxs("div",{style:{background:h==="dark"?"#181818":"#f9f9f9",borderRadius:8,padding:8},children:[o.jsx("div",{style:{color:h==="dark"?"#fff":"#222",fontWeight:"bold",marginBottom:4},children:z.Pair}),oe?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[o.jsx("label",{style:{color:h==="dark"?"#fff":"#222",fontSize:13,marginRight:8},children:"Chart Height:"}),o.jsx("input",{type:"range",min:150,max:800,value:Ee.height,onChange:P,style:{flex:1,accentColor:"#6366f1",marginRight:8},title:"Adjust chart height"}),o.jsxs("span",{style:{color:h==="dark"?"#fff":"#222",fontSize:13,minWidth:40,textAlign:"right"},children:[Ee.height,"px"]})]}),o.jsxs("div",{style:{position:"relative",width:Ee.width,height:Ee.height},children:[o.jsx(eH,{symbol:se,trade:z,interval:c,theme:h,width:A,height:Ee.height}),o.jsx("div",{ref:re,onMouseDown:Le,style:{position:"absolute",right:8,bottom:8,width:32,height:32,background:me?"#444":"#222",cursor:"nwse-resize",borderRadius:6,border:"2px solid #888",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2,boxShadow:me?"0 0 8px #888":"none",fontSize:22,fontWeight:"bold",userSelect:"none"},title:"Drag to resize chart",children:o.jsxs("span",{style:{fontFamily:"monospace",letterSpacing:1},children:["",o.jsx("br",{}),""]})})]})]}):o.jsx("div",{style:{width:400,height:300,display:"flex",alignItems:"center",justifyContent:"center",color:"#f00",background:"#222",borderRadius:8},children:"Invalid or unsupported symbol"}),o.jsxs("div",{style:{color:h==="dark"?"#fff":"#222",fontSize:E,marginTop:8},children:["PL: ",o.jsx("b",{children:z.PL??"N/A"}),o.jsx("br",{}),"Buy: ",o.jsx("b",{children:z.Buy_Price??"N/A"})," | Sell: ",o.jsx("b",{children:z.Sell_Price??"N/A"}),o.jsx("br",{}),"Stop: ",o.jsx("b",{children:z.Stop_Price??"N/A"})," | Save: ",o.jsx("b",{children:z.Save_Price??"N/A"}),o.jsx("br",{}),"Unique ID: ",o.jsx("b",{children:z.Unique_id??z.Unique_ID??"N/A"}),o.jsx("br",{}),"Type: ",o.jsx("b",{children:z.Action??z.Type??"N/A"}),o.jsx("br",{}),"Candle Date: ",o.jsx("b",{children:z.Candel_time??z.Candle_time??"N/A"}),o.jsx("br",{}),"Operator Time: ",o.jsx("b",{children:z.Operator_Trade_time??"N/A"}),o.jsx("br",{}),"Closing Time: ",o.jsx("b",{children:z.Operator_Close_time??"N/A"})]})]},ee)})})]})};var Pm={exports:{}},Fm,WS;function nH(){if(WS)return Fm;WS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fm=t,Fm}var zm,VS;function rH(){if(VS)return zm;VS=1;var t=nH();function e(){}function n(){}return n.resetWarningCache=e,zm=function(){function r(c,d,h,g,p,v){if(v!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function s(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},zm}var YS;function sH(){return YS||(YS=1,Pm.exports=rH()()),Pm.exports}var iH=sH();const Gl=Ix(iH),aH={"2POLE_IN5LOOP":"2P_L",IMACD:"IMACD","2POLE_Direct_Signal":"2P_DS","HIGHEST SWING HIGH":"HSH","LOWEST SWING LOW":"LSL","NORMAL SWING HIGH":"NSH","NORMAL SWING LOW":"NSL",ProGap:"PG",CrossOver:"CO",Spike:"SP",Kicker:"Kicker"},Z0=({canonicalSignalKeys:t,selectedSignals:e,setSelectedSignals:n,signalRadioMode:r,setSignalRadioMode:s,signalToggleAll:l,setSignalToggleAll:c,allMachines:d,selectedMachines:h,setSelectedMachines:g,machineRadioMode:p,setMachineRadioMode:v,machineToggleAll:_,setMachineToggleAll:y,selectedActions:E,setSelectedActions:S,actionRadioMode:k,setActionRadioMode:D,actionToggleAll:A,setActionToggleAll:M,liveFilter:Y,setLiveFilter:Q,liveRadioMode:K,setLiveRadioMode:z,trades:ee,darkMode:se})=>{const oe=re=>re.machineid??re.MachineId??"",Ee=Array.from(new Set(ee.flatMap(re=>[re.Action,re.action,re.SignalType,re.signal_type].filter(Boolean))));return console.log(" [PairStatsFilters] Available actions:",Ee),console.log(" [PairStatsFilters] Sample trade:",ee[0]),o.jsxs("div",{className:"w-full flex flex-wrap gap-4 mb-1",style:{background:se?"#181a20":"#fff",borderRadius:"1.25rem",boxShadow:se?"0 2px 8px 0 rgba(0,0,0,0.22), 0 1.5px 6px 0 rgba(0,0,0,0.13)":"0 2px 8px 0 rgba(0,0,0,0.08), 0 1.5px 6px 0 rgba(0,0,0,0.06)",border:se?"1.5px solid #232526":"1.5px solid #e5e7eb",padding:"1.25rem",marginBottom:"0.25rem"},children:[o.jsxs("div",{className:"flex-1 min-w-[260px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2 w-full",style:{background:se?"linear-gradient(to bottom right, #1e293b 0%, #334155 100%)":"linear-gradient(to bottom right, #e0eafc 0%, #cfdef3 100%)",border:se?"1.5px solid #334155":"1.5px solid #bcd0ee"},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-blue-700 dark:text-blue-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Signal",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-blue-400 via-blue-300 to-blue-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const re=!r;if(s(re),re){const me=t.find(je=>e[je]);if(me){const je={};t.forEach(We=>{je[We]=We===me}),n(je),localStorage.setItem("pair_stats_selected_signals",JSON.stringify(je))}}},className:"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-100 px-2 py-1 rounded text-xs font-semibold hover:bg-blue-300 dark:hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 transition-all",title:"Toggle between radio and checkbox mode",children:r?" Check":" Radio"}),!r&&o.jsx("button",{onClick:()=>{const re={};t.forEach(me=>re[me]=l),n(re),c(!l),localStorage.setItem("pair_stats_selected_signals",JSON.stringify(re))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${l?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all signals",children:l?" All":" Uncheck"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(re=>o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[r?o.jsx("input",{type:"radio",name:"signalFilterRadio",checked:e[re],onChange:()=>{const me={};t.forEach(je=>{me[je]=je===re}),n(me),localStorage.setItem("pair_stats_selected_signals",JSON.stringify(me))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):o.jsx("input",{type:"checkbox",checked:e[re],onChange:()=>{n(me=>{const je={...me,[re]:!me[re]};return localStorage.setItem("pair_stats_selected_signals",JSON.stringify(je)),je})},className:"form-checkbox h-5 w-5 text-blue-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:aH[re]||re})]},re))})]}),o.jsxs("div",{className:"flex-1 min-w-[220px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2",style:{background:se?"linear-gradient(to bottom right, #14532d 0%, #334155 100%)":"linear-gradient(to bottom right, #e0ffe0 0%, #e0f7ef 100%)",border:se?"1.5px solid #14532d":"1.5px solid #bde5d6"},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-green-700 dark:text-green-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Machine",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-green-400 via-green-300 to-green-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const re=!p;if(v(re),re){const me=d.find(je=>h[oe(je)]);if(me){const je={};d.forEach(We=>{je[oe(We)]=oe(We)===oe(me)}),g(je),localStorage.setItem("pair_stats_selected_machines",JSON.stringify(je))}}},className:"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 px-2 py-1 rounded text-xs font-semibold hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400 transition-all",title:"Toggle between radio and checkbox mode",children:p?" Check":" Radio"}),!p&&o.jsx("button",{onClick:()=>{const re=Object.values(h).every(je=>je===!0),me={};d.forEach(je=>{me[oe(je)]=!re}),g(me),y(!_),localStorage.setItem("pair_stats_selected_machines",JSON.stringify(me))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Object.values(h).every(re=>re===!1)?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all machines",children:Object.values(h).every(re=>re===!1)?" All":" Uncheck"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 min-h-[40px] items-center",children:d.length===0?o.jsx("span",{className:"text-gray-400 text-xs",children:"No machines found"}):d.map(re=>o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[p?o.jsx("input",{type:"radio",name:"machineFilterRadio",checked:h[oe(re)]===!0,onChange:()=>{const me={};d.forEach(je=>{me[oe(je)]=oe(je)===oe(re)}),g(me),localStorage.setItem("pair_stats_selected_machines",JSON.stringify(me))},className:"form-radio h-5 w-5 text-green-600",style:{accentColor:"#22c55e"}}):o.jsx("input",{type:"checkbox",checked:h[oe(re)]||!1,onChange:()=>{g(me=>{const je={...me,[oe(re)]:!me[oe(re)]};return localStorage.setItem("pair_stats_selected_machines",JSON.stringify(je)),je})},className:"form-checkbox h-5 w-5 text-green-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:oe(re)})]},oe(re)))})]}),o.jsxs("div",{className:"flex-1 min-w-[180px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2",style:{background:se?"linear-gradient(to bottom right, #831843 0%, #334155 100%)":"linear-gradient(to bottom right, #ffe0f0 0%, #f3e0ff 100%)",border:se?"1.5px solid #831843":"1.5px solid #e5bde5"},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-pink-700 dark:text-pink-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Action",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-pink-400 via-pink-300 to-pink-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const re=!k;if(D(re),re){const me=Object.keys(E).find(je=>E[je]);if(me){const je={};Object.keys(E).forEach(We=>{je[We]=We===me}),S(je),localStorage.setItem("pair_stats_selected_actions",JSON.stringify(je))}}},className:"bg-pink-200 dark:bg-pink-800 text-pink-900 dark:text-pink-100 px-2 py-1 rounded text-xs font-semibold hover:bg-pink-300 dark:hover:bg-pink-700 focus:ring-2 focus:ring-pink-400 transition-all",title:"Toggle between radio and checkbox mode",children:k?" Check":" Radio"}),!k&&o.jsx("button",{onClick:()=>{const re={};Object.keys(E).forEach(me=>re[me]=A),S(re),M(!A),localStorage.setItem("pair_stats_selected_actions",JSON.stringify(re))},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${A?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400":"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400"} transition-all`,title:"Select or uncheck all actions",children:A?" All":" Uncheck"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Ee.map(re=>o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[k?o.jsx("input",{type:"radio",name:"actionFilterRadio",checked:E[re],onChange:()=>{const me={};Ee.forEach(je=>{me[je]=je===re}),S(me),localStorage.setItem("pair_stats_selected_actions",JSON.stringify(me))},className:"form-radio h-5 w-5 text-pink-600",style:{accentColor:"#ec4899"}}):o.jsx("input",{type:"checkbox",checked:E[re],onChange:()=>{S(me=>{const je={...me,[re]:!me[re]};return localStorage.setItem("pair_stats_selected_actions",JSON.stringify(je)),je})},className:"form-checkbox h-5 w-5 text-pink-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:re})]},re))})]}),o.jsxs("div",{className:"flex-1 min-w-[180px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2",style:{background:se?"linear-gradient(to bottom right, #064e3b 0%, #334155 100%)":"linear-gradient(to bottom right, #d1fae5 0%, #ccfbf1 100%)",border:se?"1.5px solid #064e3b":"1.5px solid #6ee7b7"},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"block text-xl font-extrabold mb-2 tracking-wide relative group transition-transform duration-200 cursor-pointer text-emerald-700 dark:text-emerald-200 hover:scale-105",children:[o.jsx("span",{className:"mr-2",children:""})," Live",o.jsx("span",{className:"absolute left-0 bottom-0 w-full h-1 rounded bg-gradient-to-r from-emerald-400 via-emerald-300 to-teal-500 opacity-70 group-hover:opacity-100 group-hover:scale-x-110 transition-all"})]}),o.jsx("button",{onClick:()=>{const re=!K;if(z==null||z(re),re){const je=(Y??{true:!0}).true?"true":"false";Q==null||Q({true:je==="true",false:je==="false"})}},className:"bg-emerald-200 dark:bg-emerald-800 text-emerald-900 dark:text-emerald-100 px-2 py-1 rounded text-xs font-semibold hover:bg-emerald-300 dark:hover:bg-emerald-700 focus:ring-2 focus:ring-emerald-400 transition-all",title:"Toggle between radio and checkbox mode",children:K?" Check":" Radio"}),!K&&o.jsx("button",{onClick:()=>{const re=Y??{true:!0,false:!0},me=re.true&&re.false;Q==null||Q({true:!me,false:!me})},className:`text-xs font-semibold px-2 py-1 rounded w-fit ml-2 ${Y!=null&&Y.true&&(Y!=null&&Y.false)?"bg-red-200 dark:bg-red-800 text-red-900 dark:text-red-100 hover:bg-red-300 dark:hover:bg-red-700 focus:ring-2 focus:ring-red-400":"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-100 hover:bg-green-300 dark:hover:bg-green-700 focus:ring-2 focus:ring-green-400"} transition-all`,title:"Uncheck or select all",children:Y!=null&&Y.true&&(Y!=null&&Y.false)?" Uncheck":" All"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[K?o.jsx("input",{type:"radio",name:"liveFilterRadio",checked:!!(Y!=null&&Y.true),onChange:()=>Q==null?void 0:Q({true:!0,false:!1}),className:"form-radio h-5 w-5 text-emerald-600",style:{accentColor:"#10b981"}}):o.jsx("input",{type:"checkbox",checked:(Y==null?void 0:Y.true)??!0,onChange:()=>Q==null?void 0:Q(re=>({...re,true:!re.true})),className:"form-checkbox h-5 w-5 text-emerald-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:"True"})]}),o.jsxs("label",{className:"flex items-center space-x-2 bg-white dark:bg-gray-800 rounded px-2 py-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[K?o.jsx("input",{type:"radio",name:"liveFilterRadio",checked:!!(Y!=null&&Y.false),onChange:()=>Q==null?void 0:Q({true:!1,false:!0}),className:"form-radio h-5 w-5 text-emerald-600",style:{accentColor:"#10b981"}}):o.jsx("input",{type:"checkbox",checked:(Y==null?void 0:Y.false)??!0,onChange:()=>Q==null?void 0:Q(re=>({...re,false:!re.false})),className:"form-checkbox h-5 w-5 text-emerald-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:"False"})]})]})]})]})},lH=[{label:"15 min",value:15},{label:"30 min",value:30},{label:"1 hr",value:60},{label:"3 hr",value:180},{label:"6 hr",value:360},{label:"Anytime",value:1e4}];function GS(t,e,n){const r=Date.now(),s=n*60*1e3;return t.some(l=>{if(l.pair!==e)return!1;const c=l.candel_time||l.candle_time;if(!c)return!1;const d=new Date(c.replace(" ","T")+"Z").getTime();return r-d<=s})}function qS(t,e,n){const r=Date.now(),s=n*60*1e3;return t.filter(l=>{if(l.pair!==e)return!1;const c=l.candel_time||l.candle_time;if(!c)return!1;const d=new Date(c.replace(" ","T")+"Z").getTime();return r-d<=s}).length}const oH=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],cH=[{value:"latest",label:" Latest Running"},{value:"alpha",label:" Alphabetical"},{value:"hedgeCount",label:" Hedge Count"},{value:"profitCount",label:" Profit Count"},{value:"hedgeAmount",label:" Hedge Amount"},{value:"profitAmount",label:" Profit Amount"},{value:"total",label:" Total Trades"},{value:"meanPerTrade",label:"Mean Per Trade (Amount)"},{value:"meanOverall",label:"Mean Overall (Amount)"},{value:"meanCount",label:"Mean of Count (Profit - Loss Count)"}],XS={latest:!1,alpha:!0,hedgeCount:!1,profitCount:!1,hedgeAmount:!1,profitAmount:!1,total:!1,meanPerTrade:!1,meanOverall:!1};function uH({search:t,setSearch:e,sortOption:n,handleSortChange:r,sortAsc:s,handleSortToggle:l,reputationEnabled:c,setReputationEnabled:d,reputationMode:h,setReputationMode:g,reputationIntensity:p,setReputationIntensity:v,density:_,setDensity:y,totalPairs:E,settingsOpen:S,setSettingsOpen:k,darkMode:D,masterFont:A,setMasterFont:M,nameFont:Y,setNameFont:Q,infoFont:K,setInfoFont:z,notifWindow:ee,setNotifWindow:se,notifStyle:oe,setNotifStyle:Ee,notifSize:re,setNotifSize:me,rankBadgeSize:je,setRankBadgeSize:We,NOTIF_WINDOWS:ae,settingsRef:Le,showForClubFilter:Re,setShowForClubFilter:jt}){return o.jsxs("div",{className:"flex-1 min-w-[320px] break-inside-avoid rounded-2xl shadow-lg p-4 gap-2 mb-4",style:{background:D?"linear-gradient(to bottom right, #0f172a 0%, #334155 100%)":"linear-gradient(to bottom right, #f8fafc 0%, #e0eafc 100%)",border:D?"1.5px solid #334155":"1.5px solid #bcd0ee",display:"flex",flexDirection:"column",gap:"12px",justifyContent:"space-between",minHeight:120},children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-between w-full",style:{minHeight:0,padding:"6px 0",margin:"0 0 6px 0"},children:[o.jsx("input",{type:"text",className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-white w-full max-w-xs focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Search pair...",value:t,onChange:P=>e(P.target.value),style:{fontSize:13,height:32}}),o.jsxs("select",{value:Re,onChange:P=>jt(P.target.value),className:"px-1 py-1 rounded border bg-white text-black dark:bg-gray-900 dark:text-white",style:{minWidth:120,fontSize:13,height:32},children:[o.jsx("option",{value:"All",children:"All (No Filter)"}),o.jsx("option",{value:"Total Closed Stats",children:"Total Closed Stats"}),o.jsx("option",{value:"Direct Closed Stats",children:"Direct Closed Stats"}),o.jsx("option",{value:"Hedge Closed Stats",children:"Hedge Closed Stats"}),o.jsx("option",{value:"Total Running Stats",children:"Total Running Stats"}),o.jsx("option",{value:"Direct Running Stats",children:"Direct Running Stats"}),o.jsx("option",{value:"Hedge Running Stats",children:"Hedge Running Stats"}),o.jsx("option",{value:"Total Stats",children:"Total Stats"}),o.jsx("option",{value:"Buy Sell Stats",children:"Buy Sell Stats"}),o.jsx("option",{value:"Hedge on Hold",children:"Hedge on Hold"})]}),o.jsx("select",{value:n,onChange:P=>r(P.target.value),className:"px-1 py-1 rounded border bg-white text-black dark:bg-gray-900 dark:text-white",style:{fontSize:13,height:32},children:cH.map(P=>o.jsx("option",{value:P.value,children:P.label},P.value))}),o.jsx("button",{onClick:l,className:"px-1 py-1 rounded border",title:"Toggle Ascending/Descending",style:{fontSize:13,height:32},children:s?"":""}),o.jsxs("button",{type:"button",className:`ml-2 px-3 py-1 rounded-full border font-bold ${c?"bg-blue-600 text-white border-blue-700":"bg-gray-200 text-gray-700 border-gray-400"}`,onClick:()=>d(P=>!P),style:{fontSize:13,height:32},children:["Reputation ",c?"ON":"OFF"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:`flex items-center gap-1 ${h==="perTrade"&&c?"animate-pulse-gold":""}`,children:[" ",o.jsx("input",{type:"radio",name:"reputationMode",value:"perTrade",checked:h==="perTrade",onChange:()=>g("perTrade"),disabled:!c})," ",o.jsx("span",{className:"text-xs",children:"Per Trade"})," "]}),o.jsxs("label",{className:`flex items-center gap-1 ${h==="overall"&&c?"animate-pulse-blue":""}`,children:[" ",o.jsx("input",{type:"radio",name:"reputationMode",value:"overall",checked:h==="overall",onChange:()=>g("overall"),disabled:!c})," ",o.jsx("span",{className:"text-xs",children:"Overall"})," "]})]}),c&&o.jsxs("label",{className:"flex items-center gap-2 text-blue-900 dark:text-blue-200 font-semibold",children:[o.jsx("input",{type:"range",min:0,max:1,step:.01,value:p,onChange:P=>v(Number(P.target.value)),className:"w-32 accent-blue-600",style:{verticalAlign:"middle"}}),o.jsxs("span",{className:"ml-2 text-xs",children:[Math.round(p*100),"%"]})]}),o.jsx("button",{className:`px-3 py-1 rounded border text-xs font-bold transition-all ${_==="spacious"?"bg-blue-100 dark:bg-blue-900 border-blue-400 text-blue-700 dark:text-blue-200":"bg-gray-100 dark:bg-gray-800 border-gray-400 text-gray-700 dark:text-gray-200"}`,onClick:()=>y("spacious"),style:{fontSize:13,height:32},children:"Spacious"}),o.jsx("span",{className:"px-2 py-1 rounded bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-100 font-bold text-sm",children:E}),o.jsx("button",{className:`px-3 py-1 rounded border text-xs font-bold transition-all ${_==="compact"?"bg-blue-100 dark:bg-blue-900 border-blue-400 text-blue-700 dark:text-blue-200":"bg-gray-100 dark:bg-gray-800 border-gray-400 text-gray-700 dark:text-gray-200"}`,onClick:()=>y("compact"),style:{fontSize:13,height:32},children:"Compact"}),o.jsx("button",{className:`px-3 py-2 rounded-full border ml-2 ${D?"border-gray-600 bg-gray-900 text-white":"border-gray-300 bg-white text-black"}`,onClick:()=>k(P=>!P),title:"Grid Settings",style:{fontSize:13,height:32},children:o.jsx("span",{role:"img","aria-label":"settings",children:""})})]}),S&&o.jsxs("div",{ref:Le,className:`absolute right-8 top-20 z-50 w-80 max-h-[60vh] overflow-y-auto p-4 sm:p-4 p-2 rounded-lg shadow-lg border ${D?"bg-gray-900 border-gray-700 text-white":"bg-white border-gray-200 text-black"}`,children:[o.jsx("h3",{className:"font-bold mb-2",children:"Grid Settings"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Master Font Size"}),o.jsx("input",{type:"range",min:"0.7",max:"2",step:"0.05",value:A,onChange:P=>M(Number(P.target.value)),className:"w-full"}),o.jsxs("div",{className:"text-xs mt-1",children:[(A*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"mb-4 flex gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Name Font Size"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>Q(P=>Math.max(.7,P-.1)),className:"px-2 py-1 rounded bg-gray-300",children:"-"}),o.jsxs("span",{children:[(Y*100).toFixed(0),"%"]}),o.jsx("button",{onClick:()=>Q(P=>Math.min(2,P+.1)),className:"px-2 py-1 rounded bg-gray-300",children:"+"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Info Font Size"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>z(P=>Math.max(.7,P-.1)),className:"px-2 py-1 rounded bg-gray-300",children:"-"}),o.jsxs("span",{children:[(K*100).toFixed(0),"%"]}),o.jsx("button",{onClick:()=>z(P=>Math.min(2,P+.1)),className:"px-2 py-1 rounded bg-gray-300",children:"+"})]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Recent Trade Notification Window"}),o.jsx("select",{value:ee,onChange:P=>se(Number(P.target.value)),className:"w-full px-2 py-1 rounded border bg-white text-black",children:ae.map(P=>o.jsx("option",{value:P.value,children:P.label},P.value))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Notification Style"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[o.jsx("input",{type:"radio",checked:oe==="dot",onChange:()=>Ee("dot")}),o.jsx("span",{children:"Green Dot"})]}),o.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[o.jsx("input",{type:"radio",checked:oe==="flag",onChange:()=>Ee("flag")}),o.jsx("span",{children:"Animated Flag"})]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Notification Size"}),o.jsx("input",{type:"range",min:.7,max:2,step:.05,value:re,onChange:P=>me(Number(P.target.value)),className:"w-full"}),o.jsxs("div",{className:"text-xs mt-1",children:[(re*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"rank-badge-size",className:"block text-sm font-semibold mb-1",children:"Rank Badge Size"}),o.jsx("input",{id:"rank-badge-size",type:"range",min:"0.7",max:"1.6",step:"0.01",value:je,onChange:P=>We(Number(P.target.value)),className:"w-full",style:{accentColor:"#fbbf24"}}),o.jsxs("div",{className:"text-xs mt-1",children:[je.toFixed(2),"x"]})]})]})]})}function dH(t){const e=t.exist_in_exchange??t.Exist_in_exchange;return e===!0||e==="true"||e===1||e==="1"}const Q1=({onPairSelect:t,candleType:e,interval:n,trades:r=[],selectedPair:s=null,previewMode:l=!1,filterBar:c,darkMode:d,groupModeEnabled:h,selectedGroupPairs:g=[],setSelectedGroupPairs:p,showForClubFilter:v,setShowForClubFilter:_,onVisiblePairsChange:y,liveFilter:E={true:!0,false:!0},...S})=>{var vt,Je,_t,Ht,en,hn,On,Cn,kr,Ar,fr,or,Mr,yn;const[k,D]=x.useState(()=>localStorage.getItem("pair_stats_search")||""),[A,M]=x.useState(!1),[Y,Q]=x.useState(()=>Number(localStorage.getItem("pair_stats_master_font"))||1),[K,z]=x.useState(()=>Number(localStorage.getItem("pair_stats_name_font"))||1.2),[ee,se]=x.useState(()=>Number(localStorage.getItem("pair_stats_info_font"))||1),[oe,Ee]=x.useState(()=>Number(localStorage.getItem("pair_stats_notif_window"))||15),[re,me]=x.useState(()=>localStorage.getItem("pair_stats_notif_style")||"dot"),[je,We]=x.useState(()=>localStorage.getItem("pair_stats_signal_filter")||"all"),[ae,Le]=x.useState(()=>localStorage.getItem("pair_stats_action_filter")||"all"),[Re,jt]=x.useState(()=>localStorage.getItem("pair_stats_machine_filter")||"all"),[P,ce]=x.useState(()=>{const ke=localStorage.getItem("pair_stats_reputation_intensity");return ke!==null?Number(ke):0});x.useEffect(()=>{localStorage.setItem("pair_stats_reputation_intensity",P)},[P]);const[L,F]=x.useState(()=>localStorage.getItem("pair_stats_reputation_mode")||"perTrade");x.useEffect(()=>{localStorage.setItem("pair_stats_reputation_mode",L)},[L]);const[C,H]=x.useState(()=>{const ke=localStorage.getItem("pair_stats_reputation_enabled");return ke===null?!0:ke==="true"});x.useEffect(()=>{localStorage.setItem("pair_stats_reputation_enabled",C)},[C]);const de=x.useRef(),[tt,rt]=x.useState(()=>{const ke=localStorage.getItem("pair_stats_selected_signals");if(ke)return JSON.parse(ke);const nt={};return oH.forEach(yt=>nt[yt]=!0),nt}),[Ze,Et]=x.useState(()=>localStorage.getItem("pair_stats_signal_radio_mode")==="true"),[bn,Mt]=x.useState(()=>localStorage.getItem("pair_stats_signal_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("pair_stats_selected_signals",JSON.stringify(tt))},[tt]),x.useEffect(()=>{localStorage.setItem("pair_stats_signal_radio_mode",Ze)},[Ze]),x.useEffect(()=>{localStorage.setItem("pair_stats_signal_toggle_all",bn)},[bn]);const[_n,Jt]=x.useState([]);x.useEffect(()=>{(async()=>{try{const yt=await(await Bn("/api/machines")).json();Jt(Array.isArray(yt.machines)?yt.machines:[])}catch{Jt([])}})()},[]);const on=_n,[Kt,Ue]=x.useState(()=>{const ke=localStorage.getItem("pair_stats_selected_machines");if(ke)return JSON.parse(ke);const nt={};return on.forEach(yt=>nt[yt.machineid]=!0),nt}),[Nn,Xt]=x.useState(()=>localStorage.getItem("pair_stats_machine_radio_mode")==="true"),[xt,Qt]=x.useState(()=>localStorage.getItem("pair_stats_machine_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("pair_stats_selected_machines",JSON.stringify(Kt))},[Kt]),x.useEffect(()=>{localStorage.setItem("pair_stats_machine_radio_mode",Nn)},[Nn]),x.useEffect(()=>{localStorage.setItem("pair_stats_machine_toggle_all",xt)},[xt]);const Yt=Array.from(new Set(r.map(ke=>ke.action).filter(Boolean))),[ln,lt]=x.useState(()=>{const ke=localStorage.getItem("pair_stats_selected_actions");if(ke)return JSON.parse(ke);const nt={};return Yt.forEach(yt=>nt[yt]=!0),nt}),[Qn,Yn]=x.useState(()=>localStorage.getItem("pair_stats_action_radio_mode")==="true"),[he,$e]=x.useState(()=>localStorage.getItem("pair_stats_action_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("pair_stats_selected_actions",JSON.stringify(ln))},[ln]),x.useEffect(()=>{localStorage.setItem("pair_stats_action_radio_mode",Qn)},[Qn]),x.useEffect(()=>{localStorage.setItem("pair_stats_action_toggle_all",he)},[he]),x.useEffect(()=>{localStorage.setItem("pair_stats_search",k)},[k]),x.useEffect(()=>{localStorage.setItem("pair_stats_master_font",Y)},[Y]),x.useEffect(()=>{localStorage.setItem("pair_stats_name_font",K)},[K]),x.useEffect(()=>{localStorage.setItem("pair_stats_info_font",ee)},[ee]),x.useEffect(()=>{localStorage.setItem("pair_stats_notif_window",oe)},[oe]),x.useEffect(()=>{localStorage.setItem("pair_stats_notif_style",re)},[re]),x.useEffect(()=>{localStorage.setItem("pair_stats_signal_filter",je)},[je]),x.useEffect(()=>{localStorage.setItem("pair_stats_action_filter",ae)},[ae]),x.useEffect(()=>{localStorage.setItem("pair_stats_machine_filter",Re)},[Re]);const[qe,ze]=x.useState(()=>Number(localStorage.getItem("pair_stats_notif_size"))||1);x.useEffect(()=>{localStorage.setItem("pair_stats_notif_size",qe)},[qe]),x.useEffect(()=>{if(!A)return;function ke(nt){de.current&&!de.current.contains(nt.target)&&M(!1)}return document.addEventListener("mousedown",ke),()=>document.removeEventListener("mousedown",ke)},[A]);function Be(ke){return ke.filter(nt=>{const yt=dH(nt);if(!(E.true&&E.false)){if(E.true&&!yt)return!1;if(E.false&&yt)return!1;if(!E.true&&!E.false)return!1}return!(Object.keys(tt).length&&!tt[nt.signalfrom]||Object.keys(Kt).length&&!Kt[nt.machineid]||Object.keys(ln).length&&!ln[nt.action])})}const R=(ke,nt)=>{const yt=Be(nt.filter(Xe=>Xe.pair===ke)),qt=yt.filter(Xe=>Xe.action==="SELL").length,tn=yt.filter(Xe=>Xe.action==="BUY").length,cn=yt.filter(Xe=>Xe.hedge===!0||Xe.hedge==="true"||Xe.hedge===1||Xe.hedge==="1"||typeof Xe.hedge=="string"&&parseFloat(Xe.hedge)>0).length,Oe=yt.filter(Xe=>Xe.type==="running"||Xe.type==="assigned"||Xe.type==="assign").length,Ye=yt.filter(Xe=>Xe.type==="close"&&Xe.pl_after_comm>0).length,ye=yt.filter(Xe=>Xe.pl_after_comm>0).reduce((Xe,pt)=>Xe+(parseFloat(pt.pl_after_comm)||0),0),Tt=yt.length;return{sellCount:qt,buyCount:tn,hedgeCount:cn,runningCount:Oe,profitClosedCount:Ye,totalProfitAmount:ye,totalCount:Tt}};function ge(ke,nt){return(l?nt.filter(qt=>{const tn=qt.hedge===!0||qt.hedge==="true"||qt.hedge===1||qt.hedge==="1"||typeof qt.hedge=="string"&&parseFloat(qt.hedge)>0;return qt.pair===ke&&tn&&qt.pl_after_comm!==void 0}):Be(nt.filter(qt=>{const tn=qt.hedge===!0||qt.hedge==="true"||qt.hedge===1||qt.hedge==="1"||typeof qt.hedge=="string"&&parseFloat(qt.hedge)>0;return qt.pair===ke&&tn&&qt.pl_after_comm!==void 0}))).reduce((qt,tn)=>qt+(parseFloat(tn.pl_after_comm)||0),0)}function Ie(ke,nt,yt){ke=ke.replace("#",""),nt=nt.replace("#","");const qt=parseInt(ke.substring(0,2),16),tn=parseInt(ke.substring(2,4),16),cn=parseInt(ke.substring(4,6),16),Oe=parseInt(nt.substring(0,2),16),Ye=parseInt(nt.substring(2,4),16),ye=parseInt(nt.substring(4,6),16),Tt=Math.round(qt+(Oe-qt)*yt),Xe=Math.round(tn+(Ye-tn)*yt),pt=Math.round(cn+(ye-cn)*yt);return`#${Tt.toString(16).padStart(2,"0")}${Xe.toString(16).padStart(2,"0")}${pt.toString(16).padStart(2,"0")}`}function wt(ke,nt,yt){return[Ie(ke[0],nt[0],yt),Ie(ke[1],nt[1],yt)]}const ht=d?["#232526","#414345"]:["#f3f4f6","#e0eafc"];function $t(ke){if(typeof ke!="string")return ht;const nt=ke.match(/#([0-9a-fA-F]{6})[^#]+#([0-9a-fA-F]{6})/);return nt?[`#${nt[1]}`,`#${nt[2]}`]:ht}const sn=Array.from(new Set(r.map(ke=>ke.pair).filter(Boolean))),bt={};sn.forEach(ke=>{bt[ke]=R(ke,r)});const ot=sn.map(ke=>{var Xe,pt;const nt=((Xe=bt[ke])==null?void 0:Xe.totalProfitAmount)||0,yt=ge(ke,r)||0,qt=((pt=bt[ke])==null?void 0:pt.totalCount)||0,tn=nt+yt,cn=qt>0?tn/qt:0,Oe=r.filter(Z=>Z.pair===ke),Ye=Oe.filter(Z=>Z.pl_after_comm>0).length,ye=Oe.filter(Z=>Z.pl_after_comm<0).length,Tt=Ye-ye;return{pair:ke,meanOverall:tn,meanPerTrade:cn,profit:nt,hedge:yt,totalCount:qt,meanCount:Tt}}),ct=ke=>L==="perTrade"?ke.meanPerTrade:ke.meanOverall,Wt=[...ot].sort((ke,nt)=>ct(nt)-ct(ke)),vn="#008000",Wn="#e0eafc",gn="#fbeee6",Pn="#ff5252",Dn={},pn=Wt.length,te=Wt.findIndex(ke=>ct(ke)<0),Pe=te===-1?pn:te,He=pn-Pe;Wt.forEach((ke,nt)=>{let yt;if(ct(ke)>=0&&Pe>0){const qt=Pe>1?nt/(Pe-1):0;yt=`linear-gradient(135deg, ${Ie(vn,Wn,qt*.7)} 0%, ${Ie(vn,Wn,qt)} 100%)`}else if(ct(ke)<0&&He>0){const qt=nt-Pe,tn=He>1?qt/(He-1):0;yt=`linear-gradient(135deg, ${Ie(gn,Pn,tn*.7)} 0%, ${Ie(gn,Pn,tn)} 100%)`}else yt=d?"linear-gradient(135deg, #232526 0%, #414345 100%)":"linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%)";Dn[ke.pair]={mean:ct(ke),isPositive:ct(ke)>=0,cardBg:yt}});const Bt=sn.filter(ke=>{if(k&&!ke.toLowerCase().includes(k.toLowerCase()))return!1;const nt=r.filter(yt=>yt.Pair===ke);return!(je!=="all"&&(je==="signal"&&!nt.some(yt=>yt.Signal)||je==="radio"&&!nt.some(yt=>yt.Radio)||!["signal","radio","all"].includes(je)&&!nt.some(yt=>yt.Signal===je))||ae!=="all"&&!nt.some(yt=>yt.action===ae)||Re!=="all"&&!nt.some(yt=>yt.Machine===Re))}),[Ke,st]=x.useState(()=>localStorage.getItem("pair_stats_sort_option")||"latest"),[it,j]=x.useState(()=>{const ke=localStorage.getItem("pair_stats_sort_orders");return ke?JSON.parse(ke):{...XS}}),G=it[Ke]??XS[Ke]??!0;x.useEffect(()=>{localStorage.setItem("pair_stats_sort_option",Ke)},[Ke]),x.useEffect(()=>{localStorage.setItem("pair_stats_sort_orders",JSON.stringify(it))},[it]);const B=ke=>{st(ke)},q=()=>{j(ke=>({...ke,[Ke]:!G}))},V=[...Bt].sort((ke,nt)=>{const yt=bt[ke],qt=bt[nt];switch(Ke){case"alpha":return G?ke.localeCompare(nt):nt.localeCompare(ke);case"hedgeCount":return G?yt.hedgeCount-qt.hedgeCount:qt.hedgeCount-yt.hedgeCount;case"profitCount":return G?yt.profitClosedCount-qt.profitClosedCount:qt.profitClosedCount-yt.profitClosedCount;case"hedgeAmount":return G?ge(ke,r)-ge(nt,r):ge(nt,r)-ge(ke,r);case"profitAmount":return G?yt.totalProfitAmount-qt.totalProfitAmount:qt.totalProfitAmount-yt.totalProfitAmount;case"total":return G?yt.totalCount-qt.totalCount:qt.totalCount-yt.totalCount;case"latest":default:{const tn=cn=>{const Oe=r.filter(Ye=>Ye.pair===cn&&(Ye.type==="running"||Ye.type==="assigned"||Ye.type==="assign"));return Oe.length===0?0:Math.max(...Oe.map(Ye=>{const ye=Ye.candel_time||Ye.candle_time;return ye?new Date(ye.replace(" ","T")+"Z").getTime():0}))};return G?tn(ke)-tn(nt):tn(nt)-tn(ke)}case"meanPerTrade":{const tn=ot.find(Oe=>Oe.pair===ke),cn=ot.find(Oe=>Oe.pair===nt);return((cn==null?void 0:cn.meanPerTrade)||0)-((tn==null?void 0:tn.meanPerTrade)||0)}case"meanOverall":{const tn=ot.find(Oe=>Oe.pair===ke),cn=ot.find(Oe=>Oe.pair===nt);return((cn==null?void 0:cn.meanOverall)||0)-((tn==null?void 0:tn.meanOverall)||0)}case"meanCount":{const tn=ot.find(Oe=>Oe.pair===ke),cn=ot.find(Oe=>Oe.pair===nt);return((cn==null?void 0:cn.meanCount)||0)-((tn==null?void 0:tn.meanCount)||0)}}}),J={animation:"fadeSlideIn 0.5s cubic-bezier(0.4,0,0.2,1)"},we="#1e3a8a",[Ne,xe]=x.useState(()=>localStorage.getItem("pair_stats_density")||"spacious");x.useEffect(()=>{localStorage.setItem("pair_stats_density",Ne)},[Ne]);const[Se,De]=x.useState(()=>Number(localStorage.getItem("rank_badge_size"))||1);if(x.useEffect(()=>{localStorage.setItem("rank_badge_size",Se)},[Se]),x.useEffect(()=>{typeof y=="function"&&y(V)},[JSON.stringify(V)]),l&&s){const ke=s,nt=GS(r,ke,oe),yt=qS(r,ke,oe);let qt=d?"#444":"#ddd",tn=d?"linear-gradient(135deg, #232526 0%, #414345 100%)":"linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%)",cn=!1,Oe=!1,Ye=3;if(C&&P>0&&Dn[ke]){const et=Dn[ke].cardBg,ut=$t(et),Gt=wt(ht,ut,P);tn=`linear-gradient(135deg, ${Gt[0]} 0%, ${Gt[1]} 100%)`,cn=Dn[ke].isPositive,Oe=!Dn[ke].isPositive,Ye=Dn[ke].bin,qt=cn?"#43e97b":Oe?"#ff5858":qt}let ye;C?P<.27?ye="#fff":ye="#000":ye="#fff";let Tt;P<=.3?Tt="#16a34a":P<=.55?Tt="#fff":Tt=we;const Xe=Wt.findIndex(et=>et.pair===ke),pt=Xe>=0?Xe+1:null,Z=Wt.length,X=cn&&Xe<Z/2,ve=Oe&&Xe>=Z/2;let Nt="#bfa100";if(C&&Dn[ke]){Nt="#000";const et=Dn[ke].isPositive,ut=!et;(et&&Xe<Z*.25||ut&&Xe>=Z*.75)&&(Nt="#fff")}return o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:220},children:o.jsxs("div",{className:`relative flex flex-col justify-between rounded shadow transition-all duration-300 break-words group ${Ne==="compact"?"p-2":""}`,style:{wordBreak:"break-word",overflowWrap:"break-word",minWidth:Ne==="compact"?"140px":"220px",maxWidth:"100%",minHeight:Ne==="compact"?`${120*Y*ee}px`:`${180*Y*ee}px`,padding:Ne==="compact"?`${8*Y*ee}px`:`${16*Y*ee}px`,border:`2.5px solid ${qt}`,background:tn,color:ye,...J,fontSize:Ne==="compact"?`${.92*ee*Y}rem`:void 0},onClick:l?void 0:()=>{window.open(`/reports/list?pair=${encodeURIComponent(ke)}&interval=${encodeURIComponent(n)}&type=${encodeURIComponent(e)}`,"_blank")},children:[o.jsx("style",{children:`
            .group:hover {
              transform: scale(1.08);
              box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13);
              z-index: 2;
              border-color: ${cn?"#43e97b":Oe?"#ff5252":"#60a5fa"} !important;
              box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13), 0 0 0 4px ${cn?"rgba(67,233,123,0.25)":Oe?"rgba(255,82,82,0.22)":"rgba(96,165,250,0.18)"};
              transition: transform 0.22s cubic-bezier(0.4,0,0.2,1), box-shadow 0.22s cubic-bezier(0.4,0,0.2,1), border-color 0.22s cubic-bezier(0.4,0,0.2,1);
            }
          `}),pt&&C&&o.jsxs("span",{className:`absolute top-0 right-0 z-10 px-3 py-1.5 rounded-bl-xl rounded-tr-lg text-xs font-extrabold shadow-xl border-2 transition-transform duration-200 select-none flex items-center gap-1
                ${pt===1?"border-yellow-400 bg-gradient-to-r from-yellow-200 via-yellow-100 to-white":""}
                ${pt===2?"border-gray-400 bg-gradient-to-r from-gray-200 via-gray-100 to-white":""}
                ${pt===3?"border-amber-700 bg-gradient-to-r from-amber-200 via-amber-100 to-white":""}
                ${pt>3?"border-white bg-white/60 backdrop-blur-md":""}
                ${L==="perTrade"?"animate-pulse-gold":""}
                ${L==="overall"?"animate-pulse-blue":""}
                hover:scale-110`,style:{letterSpacing:"0.04em",boxShadow:"0 4px 24px 0 rgba(0,0,0,0.10), 0 1.5px 4px 0 rgba(0,0,0,0.10)",color:pt===1?"#bfa100":pt===2?"#888":pt===3?"#a16207":"#1e293b",borderWidth:"2.5px",fontFamily:"Inter, Segoe UI, Arial, sans-serif",minWidth:"54px",justifyContent:"center",background:pt>3?"rgba(255,255,255,0.65)":void 0,backdropFilter:pt>3?"blur(6px)":void 0,fontSize:`${Se}em`,padding:`${.7*Se}em ${1.1*Se}em`},children:[pt===1&&"",pt===2&&"",pt===3&&"",o.jsxs("span",{children:["#",pt]})]}),nt&&re==="dot"&&o.jsx("span",{className:"absolute top-0 left-2 flex items-center z-10",style:{transform:"translateY(-0.35em)"},title:"Recent trade(s)",children:o.jsx("span",{className:"rounded-full animate-pulse border-2 border-white flex items-center justify-center text-xs font-extrabold",style:{minWidth:`${1.5*qe}em`,minHeight:`${1.5*qe}em`,width:`${1.5*qe}em`,height:`${1.5*qe}em`,background:"#bfa100",color:Nt,fontWeight:"bold",fontSize:`${1*qe}em`},children:yt})}),nt&&re==="flag"&&o.jsxs("span",{className:"absolute top-0 left-2 flex items-center z-10 animate-bounce",style:{fontSize:`${1.5*qe}rem`,transform:"translateY(-0.35em)"},title:"Recent trade(s)",children:[o.jsx("span",{style:{color:"#bfa100",fontWeight:"bold"},children:""}),o.jsx("span",{className:"ml-1 text-xs font-extrabold",style:{color:Nt,fontSize:`${1*qe}rem`,fontWeight:"bold"},children:yt})]}),o.jsx("div",{className:"font-bold mb-2 pair-name",style:{fontSize:`${1.2*K*Y}rem`,wordBreak:"break-word"},children:ke}),o.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center",style:{flex:1},children:[o.jsxs("div",{className:"grid grid-cols-4 gap-2 w-full mb-2",style:{fontSize:`${1*ee*Y}rem`,lineHeight:1.4,textAlign:"center"},children:[o.jsx("div",{children:"Sell"}),o.jsx("div",{children:"Buy"}),o.jsx("div",{children:"Hedge"}),o.jsx("div",{children:"Running"}),o.jsx("div",{children:o.jsx("b",{children:(vt=bt[ke])==null?void 0:vt.sellCount})}),o.jsx("div",{children:o.jsx("b",{children:(Je=bt[ke])==null?void 0:Je.buyCount})}),o.jsx("div",{children:o.jsx("b",{children:(_t=bt[ke])==null?void 0:_t.hedgeCount})}),o.jsx("div",{children:o.jsx("b",{children:(Ht=bt[ke])==null?void 0:Ht.runningCount})})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 w-full",style:{fontSize:`${1*ee*Y}rem`,lineHeight:1.4,textAlign:"center"},children:[o.jsx("div",{children:"Closed"}),o.jsx("div",{children:"Profit"}),o.jsx("div",{children:"Hedge"}),o.jsx("div",{children:"Total"}),o.jsx("div",{children:o.jsx("b",{children:(en=bt[ke])==null?void 0:en.profitClosedCount})}),o.jsx("div",{children:o.jsx("b",{style:{color:cn&&X&&((hn=bt[ke])==null?void 0:hn.totalProfitAmount)<0?"#fff":cn||Oe?Tt:((On=bt[ke])==null?void 0:On.totalProfitAmount)>0?"limegreen":((Cn=bt[ke])==null?void 0:Cn.totalProfitAmount)<0?"red":void 0,fontWeight:cn||Oe?"bold":void 0},children:((kr=bt[ke])==null?void 0:kr.totalProfitAmount)>0?`+${(Ar=bt[ke])==null?void 0:Ar.totalProfitAmount.toFixed(2)}`:((fr=bt[ke])==null?void 0:fr.totalProfitAmount)<0?`-${Math.abs((or=bt[ke])==null?void 0:or.totalProfitAmount).toFixed(2)}`:(Mr=bt[ke])==null?void 0:Mr.totalProfitAmount.toFixed(2)})}),o.jsx("div",{children:o.jsx("b",{style:{color:Oe&&ve&&ge(ke,r)>0?"#fff":cn?"red":Oe?Ye===0?statYellow:"red":ge(ke,r)>0?"limegreen":ge(ke,r)<0?"red":void 0,fontWeight:cn||Oe?"bold":void 0},children:ge(ke,r)>0?`+${ge(ke,r).toFixed(2)}`:ge(ke,r)<0?`-${Math.abs(ge(ke,r)).toFixed(2)}`:ge(ke,r).toFixed(2)})}),o.jsx("div",{children:o.jsx("b",{children:(yn=bt[ke])==null?void 0:yn.totalCount})})]})]})]},ke)})}const gt=`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 ${Ne==="compact"?"xl:grid-cols-6 gap-2":"gap-4"}${s&&!l?" grid-faded":""}`;return o.jsxs("div",{className:`p-2 sm:p-4 min-h-screen transition-colors duration-300 ${d?"bg-black text-white":"bg-white text-black"}`,children:[o.jsx("div",{"aria-hidden":"true",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",opacity:d?.18:.13,background:d?"linear-gradient(120deg, #232526 0%, #414345 50%, #232526 100%)":"linear-gradient(120deg, #e0eafc 0%, #cfdef3 50%, #e0eafc 100%)",backgroundSize:"200% 200%",animation:"moveGradient 16s ease-in-out infinite"}}),o.jsxs("div",{className:"w-full flex flex-wrap gap-4 mb-4 flex-col sm:flex-row",children:[c,o.jsx(uH,{search:k,setSearch:D,sortOption:Ke,handleSortChange:B,sortAsc:G,handleSortToggle:q,reputationEnabled:C,setReputationEnabled:H,reputationMode:L,setReputationMode:F,reputationIntensity:P,setReputationIntensity:ce,density:Ne,setDensity:xe,totalPairs:V.filter(ke=>Bt.includes(ke)).length,settingsOpen:A,setSettingsOpen:M,darkMode:d,masterFont:Y,setMasterFont:Q,nameFont:K,setNameFont:z,infoFont:ee,setInfoFont:se,notifWindow:oe,setNotifWindow:Ee,notifStyle:re,setNotifStyle:me,notifSize:qe,setNotifSize:ze,rankBadgeSize:Se,setRankBadgeSize:De,NOTIF_WINDOWS:lH,settingsRef:de,showForClubFilter:v,setShowForClubFilter:_})]}),V.length===0?o.jsx("div",{className:gt,style:{minHeight:"320px",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("span",{style:{fontSize:24,fontWeight:600},children:"No grid available"})}):o.jsx("div",{className:gt,children:V.filter(ke=>Bt.includes(ke)).map(ke=>{var Gt,Ft,Ut,Vn,Ln,Kn,Rn,rn,Xr,un,cs,dn,mr,ir;const nt=GS(r,ke,oe),yt=qS(r,ke,oe);let qt=d?"#444":"#ddd",tn=d?"linear-gradient(135deg, #232526 0%, #414345 100%)":"linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%)",cn=!1,Oe=!1,Ye=3;if(C&&P>0&&Dn[ke]){const Tr=Dn[ke].cardBg,Or=$t(Tr),vr=wt(ht,Or,P);tn=`linear-gradient(135deg, ${vr[0]} 0%, ${vr[1]} 100%)`,cn=Dn[ke].isPositive,Oe=!Dn[ke].isPositive,Ye=Dn[ke].bin,qt=cn?"#43e97b":Oe?"#ff5858":qt}let ye;C?P<.27?ye="#fff":ye="#000":ye="#fff";let Tt;P<=.3?Tt="#16a34a":P<=.55?Tt="#fff":Tt=we;const Xe=Wt.findIndex(Tr=>Tr.pair===ke),pt=Xe>=0?Xe+1:null,Z=Wt.length,X=cn&&Xe<Z/2,ve=Oe&&Xe>=Z/2;let Nt="#bfa100";if(C&&Dn[ke]){Nt="#000";const Tr=Dn[ke].isPositive,Or=!Tr;(Tr&&Xe<Z*.25||Or&&Xe>=Z*.75)&&(Nt="#fff")}const et=h&&g&&g.includes(ke),ut=`relative flex flex-col justify-between rounded shadow transition-all duration-300 break-words group ${Ne==="compact"?"p-2":""}${et?" selected-for-group":""}`;return o.jsxs("div",{className:ut,style:{wordBreak:"break-word",overflowWrap:"break-word",minWidth:Ne==="compact"?"140px":"220px",maxWidth:"100%",minHeight:Ne==="compact"?`${120*Y*ee}px`:`${180*Y*ee}px`,padding:Ne==="compact"?`${8*Y*ee}px`:`${16*Y*ee}px`,border:`2.5px solid ${qt}`,background:tn,color:ye,...J,fontSize:Ne==="compact"?`${.92*ee*Y}rem`:void 0,filter:s&&ke!==s&&!l?"blur(2px) brightness(0.7)":void 0,opacity:s&&ke!==s&&!l?.5:1,pointerEvents:s&&ke!==s&&!l?"none":void 0},onClick:()=>{h&&p?p(Tr=>Tr.includes(ke)?Tr.filter(vr=>vr!==ke):[...Tr,ke]):t(ke)},children:[o.jsx("style",{children:`
                  .group:hover {
                    transform: scale(1.08);
                    box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13);
                    z-index: 2;
                    border-color: ${cn?"#43e97b":Oe?"#ff5252":"#60a5fa"} !important;
                    box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13), 0 0 0 4px ${cn?"rgba(67,233,123,0.25)":Oe?"rgba(255,82,82,0.22)":"rgba(96,165,250,0.18)"};
                    transition: transform 0.22s cubic-bezier(0.4,0,0.2,1), box-shadow 0.22s cubic-bezier(0.4,0,0.2,1), border-color 0.22s cubic-bezier(0.4,0,0.2,1);
                  }
                  ${h?`
                    .group {
                      animation: glitter 1.5s infinite;
                    }
                    .group.selected-for-group {
                      animation: none;
                      transform: scale(1.05);
                      border: 3px solid #f59e0b;
                    }
                  `:""}

                  @keyframes glitter {
                    0%, 100% { transform: scale(1); }
                    50% { transform: scale(1.02); }
                  }
                `}),pt&&C&&o.jsxs("span",{className:`absolute top-0 right-0 z-10 px-3 py-1.5 rounded-bl-xl rounded-tr-lg text-xs font-extrabold shadow-xl border-2 transition-transform duration-200 select-none flex items-center gap-1
                      ${pt===1?"border-yellow-400 bg-gradient-to-r from-yellow-200 via-yellow-100 to-white":""}
                      ${pt===2?"border-gray-400 bg-gradient-to-r from-gray-200 via-gray-100 to-white":""}
                      ${pt===3?"border-amber-700 bg-gradient-to-r from-amber-200 via-amber-100 to-white":""}
                      ${pt>3?"border-white bg-white/60 backdrop-blur-md":""}
                      ${L==="perTrade"?"animate-pulse-gold":""}
                      ${L==="overall"?"animate-pulse-blue":""}
                      hover:scale-110`,style:{letterSpacing:"0.04em",boxShadow:"0 4px 24px 0 rgba(0,0,0,0.10), 0 1.5px 4px 0 rgba(0,0,0,0.10)",color:pt===1?"#bfa100":pt===2?"#888":pt===3?"#a16207":"#1e293b",borderWidth:"2.5px",fontFamily:"Inter, Segoe UI, Arial, sans-serif",minWidth:"54px",justifyContent:"center",background:pt>3?"rgba(255,255,255,0.65)":void 0,backdropFilter:pt>3?"blur(6px)":void 0,fontSize:`${Se}em`,padding:`${.7*Se}em ${1.1*Se}em`},children:[pt===1&&"",pt===2&&"",pt===3&&"",o.jsxs("span",{children:["#",pt]})]}),nt&&re==="dot"&&o.jsx("span",{className:"absolute top-0 left-2 flex items-center z-10",style:{transform:"translateY(-0.35em)"},title:"Recent trade(s)",children:o.jsx("span",{className:"rounded-full animate-pulse border-2 border-white flex items-center justify-center text-xs font-extrabold",style:{minWidth:`${1.5*qe}em`,minHeight:`${1.5*qe}em`,width:`${1.5*qe}em`,height:`${1.5*qe}em`,background:"#bfa100",color:Nt,fontWeight:"bold",fontSize:`${1*qe}em`},children:yt})}),nt&&re==="flag"&&o.jsxs("span",{className:"absolute top-0 left-2 flex items-center z-10 animate-bounce",style:{fontSize:`${1.5*qe}rem`,transform:"translateY(-0.35em)"},title:"Recent trade(s)",children:[o.jsx("span",{style:{color:"#bfa100",fontWeight:"bold"},children:""}),o.jsx("span",{className:"ml-1 text-xs font-extrabold",style:{color:Nt,fontSize:`${1*qe}rem`,fontWeight:"bold"},children:yt})]}),o.jsx("div",{className:"font-bold mb-2 pair-name",style:{fontSize:`${1.2*K*Y}rem`,wordBreak:"break-word"},children:ke}),o.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center",style:{flex:1},children:[o.jsxs("div",{className:"grid grid-cols-4 gap-2 w-full mb-2",style:{fontSize:`${1*ee*Y}rem`,lineHeight:1.4,textAlign:"center"},children:[o.jsx("div",{children:"Sell"}),o.jsx("div",{children:"Buy"}),o.jsx("div",{children:"Hedge"}),o.jsx("div",{children:"Running"}),o.jsx("div",{children:o.jsx("b",{children:(Gt=bt[ke])==null?void 0:Gt.sellCount})}),o.jsx("div",{children:o.jsx("b",{children:(Ft=bt[ke])==null?void 0:Ft.buyCount})}),o.jsx("div",{children:o.jsx("b",{children:(Ut=bt[ke])==null?void 0:Ut.hedgeCount})}),o.jsx("div",{children:o.jsx("b",{children:(Vn=bt[ke])==null?void 0:Vn.runningCount})})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 w-full",style:{fontSize:`${1*ee*Y}rem`,lineHeight:1.4,textAlign:"center"},children:[o.jsx("div",{children:"Closed"}),o.jsx("div",{children:"Profit"}),o.jsx("div",{children:"Hedge"}),o.jsx("div",{children:"Total"}),o.jsx("div",{children:o.jsx("b",{children:(Ln=bt[ke])==null?void 0:Ln.profitClosedCount})}),o.jsx("div",{children:o.jsx("b",{style:{color:cn&&X&&((Kn=bt[ke])==null?void 0:Kn.totalProfitAmount)<0?"#fff":cn||Oe?Tt:((Rn=bt[ke])==null?void 0:Rn.totalProfitAmount)>0?"limegreen":((rn=bt[ke])==null?void 0:rn.totalProfitAmount)<0?"red":void 0,fontWeight:cn||Oe?"bold":void 0},children:((Xr=bt[ke])==null?void 0:Xr.totalProfitAmount)>0?`+${(un=bt[ke])==null?void 0:un.totalProfitAmount.toFixed(2)}`:((cs=bt[ke])==null?void 0:cs.totalProfitAmount)<0?`-${Math.abs((dn=bt[ke])==null?void 0:dn.totalProfitAmount).toFixed(2)}`:(mr=bt[ke])==null?void 0:mr.totalProfitAmount.toFixed(2)})}),o.jsx("div",{children:o.jsx("b",{style:{color:Oe&&ve&&ge(ke,r)>0?"#fff":cn?"red":Oe?Ye===0?statYellow:"red":ge(ke,r)>0?"limegreen":ge(ke,r)<0?"red":void 0,fontWeight:cn||Oe?"bold":void 0},children:ge(ke,r)>0?`+${ge(ke,r).toFixed(2)}`:ge(ke,r)<0?`-${Math.abs(ge(ke,r)).toFixed(2)}`:ge(ke,r).toFixed(2)})}),o.jsx("div",{children:o.jsx("b",{children:(ir=bt[ke])==null?void 0:ir.totalCount})})]})]})]},ke)})}),o.jsx("style",{children:`
        .grid-faded > div:not(.selected) {
          transition: filter 0.4s cubic-bezier(0.4,0,0.2,1), opacity 0.4s cubic-bezier(0.4,0,0.2,1);
        }
        .selected {
          z-index: 20;
          transform: scale(1.12) translate(-12vw, -8vh);
          box-shadow: 0 12px 36px 0 rgba(0,0,0,0.22), 0 4px 16px 0 rgba(0,0,0,0.13), 0 0 0 6px #fbbf24cc;
          transition: transform 0.5s cubic-bezier(0.4,0,0.2,1), box-shadow 0.5s cubic-bezier(0.4,0,0.2,1);
        }
      `}),o.jsx("div",{style:{position:"fixed",right:"1.5rem",bottom:"1.2rem",zIndex:20,fontSize:"1rem",fontWeight:600,color:d?"rgba(255,255,255,0.32)":"rgba(30,41,59,0.32)",letterSpacing:"0.04em",pointerEvents:"none",userSelect:"none",fontFamily:"Inter, Segoe UI, Arial, sans-serif",textShadow:d?"0 1px 4px #0008":"0 1px 4px #fff8"},children:"Crafted by LAB"})]})};Q1.propTypes={onPairSelect:Gl.func.isRequired,candleType:Gl.string,interval:Gl.string,trades:Gl.array,selectedPair:Gl.string,previewMode:Gl.bool,filterBar:Gl.node,darkMode:Gl.bool};function fH(t){if(!t&&t!==0)return null;if(typeof t=="number"&&!Number.isNaN(t))return Math.max(0,Math.floor(t));const e=String(t).trim().toLowerCase();if(!e)return null;if(/^\d{1,2}(:\d{1,2}){0,2}$/.test(e)){const c=e.split(":").map(d=>parseInt(d,10)||0);if(c.length===3){const[d,h,g]=c;return d*3600+h*60+g}if(c.length===2){const[d,h]=c;return d*60+h}return c[0]}let n=0;const r=/(\d+)(h|m|s)/g;let s;for(;(s=r.exec(e))!==null;){const c=parseInt(s[1],10),d=s[2];d==="h"&&(n+=c*3600),d==="m"&&(n+=c*60),d==="s"&&(n+=c)}if(n>0)return n;const l=parseInt(e,10);return Number.isNaN(l)?null:Math.max(0,l)}function Bm(t){if(t==null||Number.isNaN(t))return"--";const e=Math.max(0,Math.floor(t));if(e<60)return`${e}s`;if(e<3600){const l=Math.floor(e/60),c=e%60;return`${l}m ${c}s`}const n=Math.floor(e/3600),r=Math.floor(e%3600/60),s=e%60;return`${n}h ${r}m ${s}s`}function ON({onRefresh:t,storageKey:e="default",initialIntervalSec:n=20,initialAutoOn:r=!1,style:s,className:l}){const[c,d]=qr.useState(()=>{try{const K=localStorage.getItem(`refresh_${e}_autoOn`);return K?JSON.parse(K)===!0:r}catch{return r}}),[h,g]=qr.useState(()=>{try{const K=localStorage.getItem(`refresh_${e}_intervalSec`),z=K?parseInt(K,10):n;return Number.isNaN(z)?n:z}catch{return n}}),[p,v]=qr.useState(()=>Date.now()),[_,y]=qr.useState(0),[E,S]=qr.useState(!1);qr.useEffect(()=>{const K=setInterval(()=>y(z=>z+1),1e3);return()=>clearInterval(K)},[]),qr.useEffect(()=>{try{localStorage.setItem(`refresh_${e}_autoOn`,JSON.stringify(c))}catch{}},[c,e]),qr.useEffect(()=>{try{localStorage.setItem(`refresh_${e}_intervalSec`,String(h))}catch{}},[h,e]),qr.useEffect(()=>{if(!c)return;const K=Date.now(),z=p+h*1e3;K>=z&&k()},[_,c,h]);const k=async()=>{if(!E){S(!0),v(Date.now());try{await Promise.resolve(t&&t())}catch{}finally{S(!1)}}},D=qr.useMemo(()=>{if(!c)return null;const K=p+h*1e3;return Math.max(0,Math.ceil((K-Date.now())/1e3))},[c,h,p,_]),A=qr.useMemo(()=>c?null:Math.max(0,Math.floor((Date.now()-p)/1e3)),[c,p,_]),M=()=>{const K=prompt("Set auto refresh interval (e.g., 45, 90s, 2m, 1h 5m, or HH:MM:SS):",String(h));if(K==null)return;const z=fH(K);if(z==null||z<=0){alert("Please enter a valid time greater than 0.");return}g(z)},Y={display:"flex",alignItems:"center",gap:8,...s},Q={padding:"6px 10px",borderRadius:8,border:"1px solid #d1d5db",background:"#f3f4f6",fontWeight:700,cursor:"pointer"};return o.jsxs("div",{className:l,style:Y,children:[o.jsxs("button",{onClick:k,disabled:E,title:E?"Refreshing...":c?"Click to refresh now":"Click to refresh",style:{...Q,background:E?"#fbbf24":"#e5e7eb",borderColor:E?"#f59e0b":"#cbd5e1",opacity:E?.8:1,cursor:E?"not-allowed":"pointer"},children:[E?"":""," ",Bm(c?D:A)]}),o.jsx("button",{onClick:()=>d(K=>!K),title:"Auto Refresh",style:{...Q,background:c?"linear-gradient(90deg, #22c55e 60%, #16a34a 100%)":"#e5e7eb",color:c?"#fff":"#111827",border:"none"},children:c?"Auto: ON":"Auto: OFF"}),o.jsx("button",{onClick:M,title:`Set interval (current: ${Bm(h)})`,style:{...Q,padding:"6px 8px",borderRadius:999},children:""})]})}const jh=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(t===!1||t==="false"||t===0||t==="0"||t===null||t===void 0)return!1;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},JS=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1};function hH({width:t=400,height:e=80,opacity:n=.4}){const[r,s]=x.useState([]),[l,c]=x.useState([]),d=x.useRef(0),h=[0,40,80,120,160,200,240,280,320,360,400];return x.useEffect(()=>{let g;function p(){d.current+=.008;const v=h.map((y,E)=>{const S=40+20*Math.sin(d.current+E*.5)+10*Math.sin(d.current*.5+E);return`${y},${Math.round(S+20)}`}),_=h.map((y,E)=>{const S=40+20*Math.cos(d.current+E*.6)+10*Math.cos(d.current*.4+E);return`${y},${Math.round(S)}`});s(v),c(_),g=requestAnimationFrame(p)}return p(),()=>cancelAnimationFrame(g)},[]),o.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0,opacity:n},viewBox:`0 0 ${t} ${e}`,fill:"none",preserveAspectRatio:"none",children:[o.jsx("polyline",{points:r.join(" "),stroke:"green",strokeWidth:"4",fill:"none",strokeLinejoin:"round"}),o.jsx("polyline",{points:l.join(" "),stroke:"red",strokeWidth:"4",fill:"none",strokeLinejoin:"round"})]})}const gH=()=>{const t=Xc(),[e,n]=x.useState(()=>{if(typeof window<"u"){const xt=localStorage.getItem("pair_stats_theme");return xt?xt==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}),[r,s]=x.useState("Regular"),[l,c]=x.useState("15m"),[d,h]=x.useState([]),[g,p]=x.useState([]),[v,_]=x.useState(!1),[y,E]=x.useState([]),[S,k]=x.useState("All"),[D,A]=x.useState([]),M=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],[Y,Q]=x.useState(()=>{const xt=localStorage.getItem("pair_stats_selected_signals");if(xt)return JSON.parse(xt);const Qt={};return M.forEach(Yt=>Qt[Yt]=!0),Qt}),[K,z]=x.useState(()=>localStorage.getItem("pair_stats_signal_radio_mode")==="true"),[ee,se]=x.useState(()=>localStorage.getItem("pair_stats_signal_toggle_all")==="true"),[oe,Ee]=x.useState([]);x.useEffect(()=>{(async()=>{try{const Yt=await(await Bn("/api/machines")).json();Ee(Array.isArray(Yt.machines)?Yt.machines:[])}catch{Ee([])}})()},[]);const re=oe,[me,je]=x.useState(()=>{const xt=localStorage.getItem("pair_stats_selected_machines");if(xt)return JSON.parse(xt);const Qt={};return re.forEach(Yt=>Qt[Yt.machineid]=!0),Qt}),[We,ae]=x.useState(()=>localStorage.getItem("pair_stats_machine_radio_mode")==="true"),[Le,Re]=x.useState(()=>localStorage.getItem("pair_stats_machine_toggle_all")==="true"),[jt,P]=x.useState(()=>{const xt=localStorage.getItem("pair_stats_selected_actions");return xt?JSON.parse(xt):{BUY:!0,SELL:!0}}),[ce,L]=x.useState(()=>localStorage.getItem("pair_stats_action_radio_mode")==="true"),[F,C]=x.useState(()=>localStorage.getItem("pair_stats_action_toggle_all")==="true"),[H,de]=x.useState(()=>{const xt=localStorage.getItem("pair_stats_live_filter");if(xt)try{return JSON.parse(xt)}catch{return{true:!0,false:!0}}return{true:!0,false:!0}});x.useEffect(()=>{localStorage.setItem("pair_stats_live_filter",JSON.stringify(H))},[H]);const[tt,rt]=x.useState(()=>localStorage.getItem("pair_stats_live_radio_mode")==="true");x.useEffect(()=>{localStorage.setItem("pair_stats_live_radio_mode",tt?"true":"false")},[tt]),x.useEffect(()=>{Bn("/api/trades").then(xt=>xt.json()).then(xt=>{const Qt=Array.isArray(xt.trades)?xt.trades:[];h(Qt);const Yt=[...new Set(Qt.map(ln=>ln.pair).filter(Boolean))];p(Yt)}).catch(()=>{h([]),p([])})},[]);const Ze=async()=>{try{const[xt,Qt]=await Promise.all([Bn("/api/machines"),Bn("/api/trades")]),Yt=xt.ok?await xt.json():{machines:[]},ln=Qt.ok?await Qt.json():{trades:[]},lt=Array.isArray(Yt.machines)?Yt.machines:[],Qn=Array.isArray(ln.trades)?ln.trades:[];Ee(lt),h(Qn);const Yn=[...new Set(Qn.map(he=>he.pair).filter(Boolean))];p(Yn)}catch{}};x.useEffect(()=>{g.length>0&&console.log("Unique symbols in dashboard:",g,"Count:",g.length)},[g]);const Et=on(d);function bn(xt,Qt){if(Qt==="All")return xt;switch(Qt){case"Total Closed Stats":return xt.filter(Yt=>Yt.type==="close"||Yt.type==="hedge_close");case"Direct Closed Stats":return xt.filter(Yt=>Yt.type==="close");case"Hedge Closed Stats":return xt.filter(Yt=>jh(Yt.hedge)&&Yt.type==="hedge_close");case"Total Running Stats":return xt.filter(Yt=>Yt.type==="running"||Yt.type==="hedge_hold");case"Direct Running Stats":return xt.filter(Yt=>{const ln=jh(Yt.hedge);return(Yt.type==="running"||Yt.type==="hedge_hold")&&!ln});case"Hedge Running Stats":return xt.filter(Yt=>{const ln=jh(Yt.hedge);return!JS(Yt.hedge_1_1_bool)&&ln&&(Yt.type==="running"||Yt.type==="hedge_hold")});case"Total Stats":return xt;case"Buy Sell Stats":return xt.filter(Yt=>Yt.action==="BUY"||Yt.action==="SELL");case"Hedge on Hold":return xt.filter(Yt=>{const ln=jh(Yt.hedge),lt=JS(Yt.hedge_1_1_bool);return ln&&lt&&(Yt.type==="running"||Yt.type==="hedge_hold")});default:return xt}}const Mt=bn(Et,S),_n=[...new Set(Mt.map(xt=>xt.pair).filter(Boolean))];x.useEffect(()=>{_n.length>0?console.log("Filtered symbols for",S,":",_n,"Count:",_n.length):console.log("No symbols for",S)},[_n,S]);const Jt=xt=>{v?E(Qt=>Qt.some(ln=>ln===xt)?Qt.filter(ln=>ln!==xt):[...Qt,xt]):t(`/reports/list?pair=${encodeURIComponent(xt)}&interval=${encodeURIComponent(l)}&type=${encodeURIComponent(r)}`)};function on(xt){return xt.filter(Qt=>!(Object.keys(Y).length&&!Y[Qt.signalfrom]||Object.keys(me).length&&!me[Qt.machineid]||Object.keys(jt).length&&!jt[Qt.action]))}on(d),x.useEffect(()=>{e?(document.body.classList.add("dark"),localStorage.setItem("pair_stats_theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pair_stats_theme","light"))},[e]);const Kt=o.jsx(Z0,{canonicalSignalKeys:M,selectedSignals:Y,setSelectedSignals:Q,signalRadioMode:K,setSignalRadioMode:z,signalToggleAll:ee,setSignalToggleAll:se,allMachines:re,selectedMachines:me,setSelectedMachines:je,machineRadioMode:We,setMachineRadioMode:ae,machineToggleAll:Le,setMachineToggleAll:Re,selectedActions:jt,setSelectedActions:P,actionRadioMode:ce,setActionRadioMode:L,actionToggleAll:F,setActionToggleAll:C,liveFilter:H,setLiveFilter:de,liveRadioMode:tt,setLiveRadioMode:rt,trades:d,darkMode:e}),[Ue,Nn]=x.useState(!1),Xt=Mt.filter(xt=>_n.includes(xt.pair));return o.jsxs("div",{style:{minHeight:"100vh",width:"100vw",position:"relative",background:e?"#000":"#f8fafc",display:"flex"},children:[o.jsx(R1,{isOpen:Ue,toggleSidebar:()=>Nn(!Ue)}),o.jsxs("div",{style:{flex:1,minWidth:0,marginLeft:Ue?"256px":"80px",transition:"margin-left 0.3s",padding:"0 24px"},children:[o.jsxs("div",{className:"sticky top-0 z-40 flex justify-between items-center border-b border-gray-200 dark:border-gray-700 shadow-sm bg-[#f5f6fa] dark:bg-black",style:{minHeight:"80px",height:"80px",padding:"0 16px",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none"},children:o.jsx(hH,{width:1600,height:80,opacity:.4})}),o.jsx("div",{style:{width:48,zIndex:1}}),o.jsxs("h1",{className:"relative z-10 text-4xl font-extrabold text-center bg-gradient-to-r from-blue-500 via-pink-500 to-yellow-400 bg-clip-text text-transparent drop-shadow-lg tracking-tight animate-pulse",style:{WebkitTextStroke:"1px #222",textShadow:"0 4px 24px rgba(0,0,0,0.18)",margin:0,zIndex:1},children:["LAB",o.jsx("span",{className:"block w-16 h-1 mx-auto mt-2 rounded-full bg-gradient-to-r from-blue-400 via-pink-400 to-yellow-300 animate-gradient-x"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginRight:0,zIndex:1},children:[o.jsx(ON,{onRefresh:Ze,storageKey:"report_dashboard",initialIntervalSec:60,initialAutoOn:!1}),o.jsxs("button",{onClick:()=>_(xt=>!xt),style:{background:v?"linear-gradient(90deg, #22c55e 60%, #16a34a 100%)":"linear-gradient(90deg, #e5e7eb 60%, #d1d5db 100%)",color:v?"#fff":"#222",border:"none",borderRadius:10,padding:"6px 14px",fontWeight:700,fontSize:15,cursor:"pointer",marginRight:4,boxShadow:v?"0 2px 8px #22c55e44":"0 1px 2px #8882",transition:"all 0.18s cubic-bezier(.4,2,.6,1)",transform:v?"scale(1.04)":"scale(1)",outline:v?"2px solid #22c55e":"none",display:"flex",alignItems:"center",gap:6},className:v?"animate-pulse":"",title:"Enable/Disable Group Mode",children:[o.jsx("span",{style:{fontSize:18},children:v?"":""}),"Group Mode"]}),o.jsxs("button",{onClick:()=>{const xt=new Set(D),Qt=new Set(y),Yt=D.every(ln=>Qt.has(ln));E(Yt?y.filter(ln=>!xt.has(ln)):Array.from(new Set([...y,...D])))},disabled:!v,style:{padding:"6px 14px",borderRadius:10,border:"none",background:v?"#2563eb":"#e5e7eb",color:v?"#fff":"#888",fontWeight:700,fontSize:15,boxShadow:v?"0 2px 8px #2563eb44":"0 1px 2px #8882",cursor:v?"pointer":"not-allowed",opacity:v?1:.6,transition:"all 0.18s cubic-bezier(.4,2,.6,1)",display:"flex",alignItems:"center",gap:6},title:"Select/Unselect All",children:[o.jsx("span",{style:{fontSize:18},children:y.length===D.length?"":""}),"Select All"]}),o.jsxs("button",{onClick:()=>{const xt=y.join(",");t(`/pages/group-view?symbols=${encodeURIComponent(xt)}&interval=${encodeURIComponent(l)}&type=${encodeURIComponent(r)}`)},disabled:y.length===0,style:{padding:"6px 14px",borderRadius:10,border:"none",background:y.length>0?"linear-gradient(90deg, #6366f1 60%, #0ea5e9 100%)":"#e5e7eb",color:y.length>0?"#fff":"#888",fontWeight:700,fontSize:15,boxShadow:y.length>0?"0 2px 8px #6366f144":"0 1px 2px #8882",cursor:y.length>0?"pointer":"not-allowed",opacity:y.length>0?1:.6,transition:"all 0.18s cubic-bezier(.4,2,.6,1)",display:"flex",alignItems:"center",gap:6,animation:y.length>0?"pulse 1.2s infinite":"none"},title:"View Selected Group",children:[o.jsx("span",{style:{fontSize:18},children:""}),"View in Group (",y.length,")"]}),o.jsx("button",{onClick:()=>n(xt=>!xt),className:"z-20 p-2 rounded-full bg-white/80 dark:bg-gray-800/80 shadow hover:scale-110 transition-all",title:e?"Switch to Light Mode":"Switch to Dark Mode",style:{fontSize:22,marginLeft:10},children:e?"":""})]})]}),o.jsx(Q1,{onPairSelect:Jt,candleType:r,interval:l,trades:Xt,selectedPair:null,darkMode:e,filterBar:Kt,groupModeEnabled:v,selectedGroupPairs:y,setSelectedGroupPairs:E,showForClubFilter:S,setShowForClubFilter:k,onVisiblePairsChange:A,liveFilter:H},"main-grid")]})]})},pH=({gridPreview:t,filterBar:e})=>o.jsx("div",{style:{padding:32,position:"relative"},children:o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:24,marginBottom:24,width:"100%",minWidth:0},children:[o.jsx("div",{style:{minWidth:220,minHeight:180},children:t}),o.jsx("div",{style:{flex:1,minWidth:0,maxWidth:"100%",overflowX:"auto",background:"rgba(255,255,255,0.04)",borderRadius:16,border:"1.5px solid #333",padding:8,marginLeft:0},children:o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16,width:"100%",minWidth:0},children:e})})]})}),DN=x.createContext({dragDropManager:void 0});function $i(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var KS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ZS=function(){return Math.random().toString(36).substring(7).split("").join(".")},QS={INIT:"@@redux/INIT"+ZS(),REPLACE:"@@redux/REPLACE"+ZS()};function mH(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function RN(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($i(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($i(1));return n(RN)(t,e)}if(typeof t!="function")throw new Error($i(2));var s=t,l=e,c=[],d=c,h=!1;function g(){d===c&&(d=c.slice())}function p(){if(h)throw new Error($i(3));return l}function v(S){if(typeof S!="function")throw new Error($i(4));if(h)throw new Error($i(5));var k=!0;return g(),d.push(S),function(){if(k){if(h)throw new Error($i(6));k=!1,g();var A=d.indexOf(S);d.splice(A,1),c=null}}}function _(S){if(!mH(S))throw new Error($i(7));if(typeof S.type>"u")throw new Error($i(8));if(h)throw new Error($i(9));try{h=!0,l=s(l,S)}finally{h=!1}for(var k=c=d,D=0;D<k.length;D++){var A=k[D];A()}return S}function y(S){if(typeof S!="function")throw new Error($i(10));s=S,_({type:QS.REPLACE})}function E(){var S,k=v;return S={subscribe:function(A){if(typeof A!="object"||A===null)throw new Error($i(11));function M(){A.next&&A.next(p())}M();var Y=k(M);return{unsubscribe:Y}}},S[KS]=function(){return this},S}return _({type:QS.INIT}),r={dispatch:_,subscribe:v,getState:p,replaceReducer:y},r[KS]=E,r}function qn(t,e,...n){if(xH()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(e.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function xH(){return typeof process<"u"&&!0}function vH(t,e,n){return e.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,t)}function yH(t,e){return t.filter(n=>n!==e)}function MN(t){return typeof t=="object"}function bH(t,e){const n=new Map,r=l=>{n.set(l,n.has(l)?n.get(l)+1:1)};t.forEach(r),e.forEach(r);const s=[];return n.forEach((l,c)=>{l===1&&s.push(c)}),s}function _H(t,e){return t.filter(n=>e.indexOf(n)>-1)}const ev="dnd-core/INIT_COORDS",Q0="dnd-core/BEGIN_DRAG",tv="dnd-core/PUBLISH_DRAG_SOURCE",eg="dnd-core/HOVER",tg="dnd-core/DROP",ng="dnd-core/END_DRAG";function ew(t,e){return{type:ev,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const SH={type:ev,payload:{clientOffset:null,sourceClientOffset:null}};function wH(t){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:l,getSourceClientOffset:c}=r,d=t.getMonitor(),h=t.getRegistry();t.dispatch(ew(l)),EH(n,d,h);const g=NH(n,d);if(g==null){t.dispatch(SH);return}let p=null;if(l){if(!c)throw new Error("getSourceClientOffset must be defined");kH(c),p=c(g)}t.dispatch(ew(l,p));const _=h.getSource(g).beginDrag(d,g);if(_==null)return;TH(_),h.pinSource(g);const y=h.getSourceType(g);return{type:Q0,payload:{itemType:y,item:_,sourceId:g,clientOffset:l||null,sourceClientOffset:p||null,isSourcePublic:!!s}}}}function EH(t,e,n){qn(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){qn(n.getSource(r),"Expected sourceIds to be registered.")})}function kH(t){qn(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function TH(t){qn(MN(t),"Item must be an object.")}function NH(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function CH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){CH(t,s,n[s])})}return t}function AH(t){return function(n={}){const r=t.getMonitor(),s=t.getRegistry();OH(r),MH(r).forEach((c,d)=>{const h=DH(c,d,s,r),g={type:tg,payload:{dropResult:jH({},n,h)}};t.dispatch(g)})}}function OH(t){qn(t.isDragging(),"Cannot call drop while not dragging."),qn(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function DH(t,e,n,r){const s=n.getTarget(t);let l=s?s.drop(r,t):void 0;return RH(l),typeof l>"u"&&(l=e===0?{}:r.getDropResult()),l}function RH(t){qn(typeof t>"u"||MN(t),"Drop result must either be an object or undefined.")}function MH(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function LH(t){return function(){const n=t.getMonitor(),r=t.getRegistry();IH(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:ng}}}function IH(t){qn(t.isDragging(),"Cannot call endDrag while not dragging.")}function Ax(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function PH(t){return function(n,{clientOffset:r}={}){FH(n);const s=n.slice(0),l=t.getMonitor(),c=t.getRegistry(),d=l.getItemType();return BH(s,c,d),zH(s,l,c),HH(s,l,c),{type:eg,payload:{targetIds:s,clientOffset:r||null}}}}function FH(t){qn(Array.isArray(t),"Expected targetIds to be an array.")}function zH(t,e,n){qn(e.isDragging(),"Cannot call hover while not dragging."),qn(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const s=t[r];qn(t.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const l=n.getTarget(s);qn(l,"Expected targetIds to be registered.")}}function BH(t,e,n){for(let r=t.length-1;r>=0;r--){const s=t[r],l=e.getTargetType(s);Ax(l,n)||t.splice(r,1)}}function HH(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function UH(t){return function(){if(t.getMonitor().isDragging())return{type:tv}}}function $H(t){return{beginDrag:wH(t),publishDragSource:UH(t),hover:PH(t),drop:AH(t),endDrag:LH(t)}}class WH{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(l){return(...c)=>{const d=l.apply(e,c);typeof d<"u"&&n(d)}}const s=$H(this);return Object.keys(s).reduce((l,c)=>{const d=s[c];return l[c]=r(d),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function VH(t,e){return{x:t.x+e.x,y:t.y+e.y}}function LN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function YH(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:LN(VH(e,r),n)}function GH(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:LN(e,n)}const Sd=[],nv=[];Sd.__IS_NONE__=!0;nv.__IS_ALL__=!0;function qH(t,e){return t===Sd?!1:t===nv||typeof e>"u"?!0:_H(e,t).length>0}class XH{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;qn(typeof e=="function","listener must be a function."),qn(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const l=()=>{const c=this.store.getState(),d=c.stateId;try{d===s||d===s+1&&!qH(c.dirtyHandlerIds,r)||e()}finally{s=d}};return this.store.subscribe(l)}subscribeToOffsetChange(e){qn(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return qn(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(qn(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),s=this.getItemType();return Ax(r,s)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(qn(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),s=this.getItemType();return r!==s?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),l=this.getItemType();if(l&&!Ax(s,l))return!1;const c=this.getTargetIds();if(!c.length)return!1;const d=c.indexOf(e);return r?d===c.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return YH(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return GH(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const tw=typeof global<"u"?global:self,IN=tw.MutationObserver||tw.WebKitMutationObserver;function PN(t){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),t()}}}function JH(t){let e=1;const n=new IN(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const KH=typeof IN=="function"?JH:PN;class ZH{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,s=e.length-this.index;r<s;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=KH(this.flush),this.requestErrorThrow=PN(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class QH{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class eU{create(e){const n=this.freeTasks,r=n.length?n.pop():new QH(this.onError,s=>n[n.length]=s);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const FN=new ZH,tU=new eU(FN.registerPendingError);function nU(t){FN.enqueueTask(tU.create(t))}const rv="dnd-core/ADD_SOURCE",sv="dnd-core/ADD_TARGET",iv="dnd-core/REMOVE_SOURCE",rg="dnd-core/REMOVE_TARGET";function rU(t){return{type:rv,payload:{sourceId:t}}}function sU(t){return{type:sv,payload:{targetId:t}}}function iU(t){return{type:iv,payload:{sourceId:t}}}function aU(t){return{type:rg,payload:{targetId:t}}}function lU(t){qn(typeof t.canDrag=="function","Expected canDrag to be a function."),qn(typeof t.beginDrag=="function","Expected beginDrag to be a function."),qn(typeof t.endDrag=="function","Expected endDrag to be a function.")}function oU(t){qn(typeof t.canDrop=="function","Expected canDrop to be a function."),qn(typeof t.hover=="function","Expected hover to be a function."),qn(typeof t.drop=="function","Expected beginDrag to be a function.")}function Ox(t,e){if(e&&Array.isArray(t)){t.forEach(n=>Ox(n,!1));return}qn(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Xi;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Xi||(Xi={}));let cU=0;function uU(){return cU++}function dU(t){const e=uU().toString();switch(t){case Xi.SOURCE:return`S${e}`;case Xi.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function nw(t){switch(t[0]){case"S":return Xi.SOURCE;case"T":return Xi.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function rw(t,e){const n=t.entries();let r=!1;do{const{done:s,value:[,l]}=n.next();if(l===e)return!0;r=!!s}while(!r);return!1}class fU{addSource(e,n){Ox(e),lU(n);const r=this.addHandler(Xi.SOURCE,e,n);return this.store.dispatch(rU(r)),r}addTarget(e,n){Ox(e,!0),oU(n);const r=this.addHandler(Xi.TARGET,e,n);return this.store.dispatch(sU(r)),r}containsHandler(e){return rw(this.dragSources,e)||rw(this.dropTargets,e)}getSource(e,n=!1){return qn(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return qn(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return qn(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return qn(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return nw(e)===Xi.SOURCE}isTargetId(e){return nw(e)===Xi.TARGET}removeSource(e){qn(this.getSource(e),"Expected an existing source."),this.store.dispatch(iU(e)),nU(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){qn(this.getTarget(e),"Expected an existing target."),this.store.dispatch(aU(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);qn(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){qn(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const s=dU(e);return this.types.set(s,n),e===Xi.SOURCE?this.dragSources.set(s,r):e===Xi.TARGET&&this.dropTargets.set(s,r),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const hU=(t,e)=>t===e;function gU(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function pU(t,e,n=hU){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function mU(t=Sd,e){switch(e.type){case eg:break;case rv:case sv:case rg:case iv:return Sd;case Q0:case tv:case ng:case tg:default:return nv}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,s=bH(n,r);if(!(s.length>0||!pU(n,r)))return Sd;const c=r[r.length-1],d=n[n.length-1];return c!==d&&(c&&s.push(c),d&&s.push(d)),s}function xU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){xU(t,s,n[s])})}return t}const sw={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function yU(t=sw,e){const{payload:n}=e;switch(e.type){case ev:case Q0:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case eg:return gU(t.clientOffset,n.clientOffset)?t:vU({},t,{clientOffset:n.clientOffset});case ng:case tg:return sw;default:return t}}function bU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){bU(t,s,n[s])})}return t}const _U={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function SU(t=_U,e){const{payload:n}=e;switch(e.type){case Q0:return Cc({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case tv:return Cc({},t,{isSourcePublic:!0});case eg:return Cc({},t,{targetIds:n.targetIds});case rg:return t.targetIds.indexOf(n.targetId)===-1?t:Cc({},t,{targetIds:yH(t.targetIds,n.targetId)});case tg:return Cc({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case ng:return Cc({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function wU(t=0,e){switch(e.type){case rv:case sv:return t+1;case iv:case rg:return t-1;default:return t}}function EU(t=0){return t+1}function kU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){kU(t,s,n[s])})}return t}function NU(t={},e){return{dirtyHandlerIds:mU(t.dirtyHandlerIds,{type:e.type,payload:TU({},e.payload,{prevTargetIds:vH(t,"dragOperation.targetIds",[])})}),dragOffset:yU(t.dragOffset,e),refCount:wU(t.refCount,e),dragOperation:SU(t.dragOperation,e),stateId:EU(t.stateId)}}function CU(t,e=void 0,n={},r=!1){const s=jU(r),l=new XH(s,new fU(s)),c=new WH(s,l),d=t(c,e,n);return c.receiveBackend(d),c}function jU(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return RN(NU,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function AU(t,e){if(t==null)return{};var n=OU(t,e),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)r=l[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OU(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,l;for(l=0;l<r.length;l++)s=r[l],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}let iw=0;const Vh=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var av=x.memo(function(e){var{children:n}=e,r=AU(e,["children"]);const[s,l]=DU(r);return x.useEffect(()=>{if(l){const c=zN();return++iw,()=>{--iw===0&&(c[Vh]=null)}}},[]),o.jsx(DN.Provider,{value:s,children:n})});function DU(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=RU(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function RU(t,e=zN(),n,r){const s=e;return s[Vh]||(s[Vh]={dragDropManager:CU(t,e,n,r)}),s[Vh]}function zN(){return typeof global<"u"?global:window}var Hm,aw;function MU(){return aw||(aw=1,Hm=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,l;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[s]))return!1;for(s=r;s--!==0;){var c=l[s];if(!t(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}),Hm}var LU=MU();const IU=Ix(LU),Uo=typeof window<"u"?x.useLayoutEffect:x.useEffect;function PU(t,e,n){const[r,s]=x.useState(()=>e(t)),l=x.useCallback(()=>{const c=e(t);IU(r,c)||(s(c),n&&n())},[r,t,n]);return Uo(l),[r,l]}function FU(t,e,n){const[r,s]=PU(t,e,n);return Uo(function(){const c=t.getHandlerId();if(c!=null)return t.subscribeToStateChange(s,{handlerIds:[c]})},[t,s]),r}function BN(t,e,n){return FU(e,t||(()=>({})),()=>n.reconnect())}function HN(t,e){const n=[];return typeof t!="function"&&n.push(t),x.useMemo(()=>typeof t=="function"?t():t,n)}function zU(t){return x.useMemo(()=>t.hooks.dragSource(),[t])}function BU(t){return x.useMemo(()=>t.hooks.dragPreview(),[t])}let Um=!1,$m=!1;class HU{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){qn(!Um,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Um=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Um=!1}}isDragging(){if(!this.sourceId)return!1;qn(!$m,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $m=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{$m=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Wm=!1;class UU{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;qn(!Wm,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Wm=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Wm=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function $U(t,e,n){const r=n.getRegistry(),s=r.addTarget(t,e);return[s,()=>r.removeTarget(s)]}function WU(t,e,n){const r=n.getRegistry(),s=r.addSource(t,e);return[s,()=>r.removeSource(s)]}function Dx(t,e,n,r){let s;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const l=Object.keys(t),c=Object.keys(e);if(l.length!==c.length)return!1;const d=Object.prototype.hasOwnProperty.bind(e);for(let h=0;h<l.length;h++){const g=l[h];if(!d(g))return!1;const p=t[g],v=e[g];if(s=void 0,s===!1||s===void 0&&p!==v)return!1}return!0}function Rx(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VU(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function YU(t){return(e=null,n=null)=>{if(!x.isValidElement(e)){const l=e;return t(l,n),l}const r=e;return VU(r),GU(r,n?l=>t(l,n):t)}}function UN(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const s=YU(r);e[n]=()=>s}}),e}function lw(t,e){typeof t=="function"?t(e):t.current=e}function GU(t,e){const n=t.ref;return qn(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?x.cloneElement(t,{ref:r=>{lw(n,r),lw(e,r)}}):x.cloneElement(t,{ref:e})}class qU{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Dx(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Dx(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=UN({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Rx(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Rx(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class XU{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Dx(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=UN({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Rx(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function iu(){const{dragDropManager:t}=x.useContext(DN);return qn(t!=null,"Expected drag drop context"),t}function JU(t,e){const n=iu(),r=x.useMemo(()=>new qU(n.getBackend()),[n]);return Uo(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Uo(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function KU(){const t=iu();return x.useMemo(()=>new HU(t),[t])}class ZU{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,s=this.monitor,{isDragging:l}=r;return l?l(s):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:s}=e;s&&s(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function QU(t,e,n){const r=x.useMemo(()=>new ZU(t,e,n),[e,n]);return x.useEffect(()=>{r.spec=t},[t]),r}function e$(t){return x.useMemo(()=>{const e=t.type;return qn(e!=null,"spec.type must be defined"),e},[t])}function t$(t,e,n){const r=iu(),s=QU(t,e,n),l=e$(t);Uo(function(){if(l!=null){const[d,h]=WU(l,s,r);return e.receiveHandlerId(d),n.receiveHandlerId(d),h}},[r,e,n,s,l])}function lv(t,e){const n=HN(t);qn(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=KU(),s=JU(n.options,n.previewOptions);return t$(n,r,s),[BN(n.collect,r,s),zU(s),BU(s)]}function n$(t){return x.useMemo(()=>t.hooks.dropTarget(),[t])}function r$(t){const e=iu(),n=x.useMemo(()=>new XU(e.getBackend()),[e]);return Uo(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function s$(){const t=iu();return x.useMemo(()=>new UU(t),[t])}function i$(t){const{accept:e}=t;return x.useMemo(()=>(qn(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class a${canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function l$(t,e){const n=x.useMemo(()=>new a$(t,e),[e]);return x.useEffect(()=>{n.spec=t},[t]),n}function o$(t,e,n){const r=iu(),s=l$(t,e),l=i$(t);Uo(function(){const[d,h]=$U(l,s,r);return e.receiveHandlerId(d),n.receiveHandlerId(d),h},[r,e,s,n,l.map(c=>c.toString()).join("|")])}function ov(t,e){const n=HN(t),r=s$(),s=r$(n.options);return o$(n,r,s),[BN(n.collect,r,s),n$(s)]}function $N(t){let e=null;return()=>(e==null&&(e=t()),e)}function c$(t,e){return t.filter(n=>n!==e)}function u$(t,e){const n=new Set,r=l=>n.add(l);t.forEach(r),e.forEach(r);const s=[];return n.forEach(l=>s.push(l)),s}class d${enter(e){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=u$(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=c$(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class f${initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const WN="__NATIVE_FILE__",VN="__NATIVE_URL__",YN="__NATIVE_TEXT__",GN="__NATIVE_HTML__",ow=Object.freeze(Object.defineProperty({__proto__:null,FILE:WN,HTML:GN,TEXT:YN,URL:VN},Symbol.toStringTag,{value:"Module"}));function Vm(t,e,n){const r=e.reduce((s,l)=>s||t.getData(l),"");return r??n}const Mx={[WN]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[GN]:{exposeProperties:{html:(t,e)=>Vm(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[VN]:{exposeProperties:{urls:(t,e)=>Vm(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[YN]:{exposeProperties:{text:(t,e)=>Vm(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function h$(t,e){const n=Mx[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new f$(n);return r.loadDataTransfer(e),r}function Ym(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Mx).filter(n=>{const r=Mx[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const g$=$N(()=>/firefox/i.test(navigator.userAgent)),qN=$N(()=>!!window.safari);class cw{interpolate(e){const{xs:n,ys:r,c1s:s,c2s:l,c3s:c}=this;let d=n.length-1;if(e===n[d])return r[d];let h=0,g=c.length-1,p;for(;h<=g;){p=Math.floor(.5*(h+g));const y=n[p];if(y<e)h=p+1;else if(y>e)g=p-1;else return r[p]}d=Math.max(0,g);const v=e-n[d],_=v*v;return r[d]+s[d]*v+l[d]*_+c[d]*v*_}constructor(e,n){const{length:r}=e,s=[];for(let y=0;y<r;y++)s.push(y);s.sort((y,E)=>e[y]<e[E]?-1:1);const l=[],c=[];let d,h;for(let y=0;y<r-1;y++)d=e[y+1]-e[y],h=n[y+1]-n[y],l.push(d),c.push(h/d);const g=[c[0]];for(let y=0;y<l.length-1;y++){const E=c[y],S=c[y+1];if(E*S<=0)g.push(0);else{d=l[y];const k=l[y+1],D=d+k;g.push(3*D/((D+k)/E+(D+d)/S))}}g.push(c[c.length-1]);const p=[],v=[];let _;for(let y=0;y<g.length-1;y++){_=c[y];const E=g[y],S=1/l[y],k=E+g[y+1]-_-_;p.push((_-E-k)*S),v.push(k*S*S)}this.xs=e,this.ys=n,this.c1s=g,this.c2s=p,this.c3s=v}}const p$=1;function XN(t){const e=t.nodeType===p$?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Ah(t){return{x:t.clientX,y:t.clientY}}function m$(t){var e;return t.nodeName==="IMG"&&(g$()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function x$(t,e,n,r){let s=t?e.width:n,l=t?e.height:r;return qN()&&t&&(l/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:l}}function v$(t,e,n,r,s){const l=m$(e),d=XN(l?t:e),h={x:n.x-d.x,y:n.y-d.y},{offsetWidth:g,offsetHeight:p}=t,{anchorX:v,anchorY:_}=r,{dragPreviewWidth:y,dragPreviewHeight:E}=x$(l,e,g,p),S=()=>{let K=new cw([0,.5,1],[h.y,h.y/p*E,h.y+E-p]).interpolate(_);return qN()&&l&&(K+=(window.devicePixelRatio-1)*E),K},k=()=>new cw([0,.5,1],[h.x,h.x/g*y,h.x+y-g]).interpolate(v),{offsetX:D,offsetY:A}=s,M=D===0||D,Y=A===0||A;return{x:M?D:k(),y:Y?A:S()}}class y${get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function b$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){b$(t,s,n[s])})}return t}class _${profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const s=c=>this.handleDragStart(c,e),l=c=>this.handleSelectStart(c);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",l),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=c=>this.handleDragEnter(c,e),s=c=>this.handleDragOver(c,e),l=c=>this.handleDrop(c,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",l),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return uw({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return uw({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ow).some(n=>ow[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=h$(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const l=this.sourceNodes.get(s);return l&&XN(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const c=Ah(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:c});const{dataTransfer:d}=s,h=Ym(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const p=this.monitor.getSourceId(),v=this.sourceNodes.get(p),_=this.sourcePreviewNodes.get(p)||v;if(_){const{anchorX:y,anchorY:E,offsetX:S,offsetY:k}=this.getCurrentSourcePreviewNodeOptions(),M=v$(v,_,c,{anchorX:y,anchorY:E},{offsetX:S,offsetY:k});d.setDragImage(_,M.x,M.y)}}try{d==null||d.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:g}=this.getCurrentSourcePreviewNodeOptions();g?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(h)this.beginDragNativeItem(h);else{if(d&&!d.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:d}=s,h=Ym(d);h&&this.beginDragNativeItem(h,d)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,l.length>0&&this.actions.hover(l,{clientOffset:Ah(s)}),l.some(d=>this.monitor.canDropOnTarget(d))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Ah(s),this.scheduleHover(l),(l||[]).some(d=>this.monitor.canDropOnTarget(d))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;s.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(s.dataTransfer)}else Ym(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:Ah(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const l=s.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(s.preventDefault(),l.dragDrop()))},this.options=new y$(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new d$(this.isNodeInDocument)}}const cv=function(e,n,r){return new _$(e,n,r)};function S$(){return new URLSearchParams(Ji().search)}const dw=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],fw=["1m","3m","5m","15m","30m","1h","4h","1d"],ed=[{label:"Symbol",value:"symbol"},{label:"Interval",value:"interval"},{label:"Signal Type",value:"signal_type"},{label:"Signal Source",value:"signal_source"},{label:"Candle Pattern",value:"candle_pattern"},{label:"Price",value:"price"},{label:"Squeeze Status",value:"squeeze_status"},{label:"Active Squeeze",value:"active_squeeze"},{label:"Machine ID",value:"machine_id"},{label:"Timestamp",value:"timestamp"},{label:"Processing Time",value:"processing_time_ms"},{label:"Created At",value:"created_at"},{label:"Unique ID",value:"Unique_id"},{label:"PL",value:"PL"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1",value:"Hedge_1_1"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Active Squeeze Trend",value:"signal_data_active_squeeze_trend"},{label:"Overall Trend RC",value:"signal_data_overall_trend_RC"},{label:"Overall Trend Percentage RC",value:"signal_data_overall_trend_percentage_RC"},{label:"Overall Trend HC",value:"signal_data_overall_trend_HC"},{label:"Overall Trend Percentage HC",value:"signal_data_overall_trend_percentage_HC"},{label:"Overall Trend 4h",value:"signal_data_overall_trend_4h"},{label:"Overall Trend Percentage 4h",value:"signal_data_overall_trend_percentage_4h"},{label:"Overall Trend 1h",value:"signal_data_overall_trend_1h"},{label:"Overall Trend Percentage 1h",value:"signal_data_overall_trend_percentage_1h"},{label:"Volume 1h",value:"signal_data_volume_1h"}],w$=[{label:"Machine ID",value:"MachineId"},{label:"Unique ID",value:"Unique_id"},{label:"Candle Time",value:"Candel_time"},{label:"Fetcher Trade Time",value:"Fetcher_Trade_time"},{label:"Operator Trade Time",value:"Operator_Trade_time"},{label:"Pair",value:"Pair"},{label:"Interval",value:"Interval"},{label:"Action",value:"Action"},{label:"Exist In Exchange",value:"exist_in_exchange"},{label:"PL After Comm",value:"Pl_after_comm"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Type",value:"Type"},{label:"Operator Close Time",value:"Operator_Close_time"},{label:"Signal From",value:"SignalFrom"},{label:"Profit Journey",value:"Profit_journey"},{label:"Commission Journey",value:"Commision_journey"},{label:"Stop Price",value:"Stop_price"},{label:"Save Price",value:"Save_price"},{label:"Min Comm",value:"Min_comm"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1 Bool",value:"Hedge_1_1_bool"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Min Profit",value:"Min_profit"},{label:"Buy Qty",value:"Buy_qty"},{label:"Buy Price",value:"Buy_price"},{label:"Buy PL",value:"Buy_pl"},{label:"Added Qty",value:"Added_qty"},{label:"Sell Qty",value:"Sell_qty"},{label:"Sell Price",value:"Sell_price"},{label:"Sell PL",value:"Sell_pl"},{label:"Close Price",value:"Close_price"},{label:"Commission",value:"Commission"},{label:"Investment",value:"Investment"},{label:"Swing1",value:"Swing1"},{label:"Swing2",value:"Swing2"},{label:"Swing3",value:"Swing3"},{label:"Swing4",value:"Swing4"},{label:"Swing5",value:"Swing5"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Temp High Point",value:"Temp_High_Point"},{label:"Temp Low Point",value:"Temp_Low_Point"}],hw="LABEL_ROW";function E$({item:t,index:e,moveLabel:n,children:r,onHover:s,onDrop:l}){const c=qr.useRef(null),[,d]=ov({accept:hw,hover(p){p.index!==e&&(n(p.index,e),p.index=e,s&&s())},drop(){l&&l()}}),[{isDragging:h},g]=lv({type:hw,item:{index:e},collect:p=>({isDragging:p.isDragging()})});return g(d(c)),o.jsx("div",{ref:c,style:{opacity:h?.5:1,cursor:"grab",width:"auto",minWidth:160,maxWidth:340,flex:"1 1 220px",marginBottom:0,background:"inherit",boxSizing:"border-box",display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:r})}function k$({items:t,moveLabel:e,renderRow:n,activeJsonLabels:r,setActiveJsonLabels:s,showUnchecked:l,dragOverIndex:c,setDragOverIndex:d}){return o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12,width:"100%",alignItems:"flex-start",justifyContent:"flex-start",boxSizing:"border-box",minHeight:60,position:"relative"},children:t.map((h,g)=>o.jsxs("div",{style:{position:"relative",minWidth:220,maxWidth:340,flex:"1 1 220px",boxSizing:"border-box",marginBottom:0,display:"flex"},children:[c===g&&o.jsxs("div",{style:{position:"absolute",top:-8,left:0,width:"100%",height:0,zIndex:10,pointerEvents:"none",display:"flex",alignItems:"center"},children:[o.jsx("div",{style:{width:32,height:32,background:"#0ea5e9",color:"#fff",borderRadius:"50%",fontWeight:700,fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",marginLeft:8,marginBottom:2},children:g+1}),o.jsx("div",{style:{flex:1,height:4,background:"#ffe066",borderRadius:2,marginLeft:12,marginRight:8}})]}),o.jsxs(E$,{item:h,index:g,moveLabel:e,onHover:()=>d(g),onDrop:()=>d(null),children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:22},children:[o.jsxs("span",{style:{fontWeight:700,color:"#0ea5e9",minWidth:22,textAlign:"right"},children:[g+1,"."]}),h&&h.type==="json"&&Array.isArray(h.intervals)&&(()=>{const p=(h.intervals||[]).filter(({exists:E})=>E),v=p.filter(({interval:E})=>{var S;return!!((S=r==null?void 0:r[h.value])!=null&&S[E])}),_=p.length>0&&v.length===p.length,y=()=>{const E=!_;s(S=>{const k={...S};return k[h.value]||(k[h.value]={}),p.forEach(({interval:D})=>{k[h.value][D]=E}),k})};return o.jsxs("button",{onClick:y,style:{padding:"2px 8px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:_?"#22c55e":"#ef4444",color:"#fff",cursor:"pointer",transition:"background 0.2s",boxShadow:_?"0 2px 4px #22c55e44":"0 2px 4px #ef444444",minWidth:36},title:`${_?"Uncheck":"Check"} all intervals for ${(h==null?void 0:h.label)||""}`,children:[v.length,"/",p.length]})})()]}),n&&n(h,g)]})]},h.type+"_"+h.value))})}const T$=()=>{var ya,rr;const t=S$(),e=t.get("pair")||"",n=t.get("interval")||"15m",r=t.get("type")||"Regular",s=U=>{if(!U)return"";try{const pe=new Date(U);if(isNaN(pe.getTime()))return U;const _e=pe.getUTCDate().toString().padStart(2,"0"),ft=(pe.getUTCMonth()+1).toString().padStart(2,"0"),Ct=pe.getUTCFullYear().toString().slice(-2),Lt=pe.getUTCHours().toString().padStart(2,"0"),xn=pe.getUTCMinutes().toString().padStart(2,"0");return`${_e}-${ft}-${Ct} ${Lt}:${xn}`}catch{return U}},l=U=>{const pe=["Candle_Time","timestamp","created_at","Time","Candel_time","Fetcher_Trade_time","Operator_Trade_time","Operator_Close_time","candle_time","time","date"],_e=["processing_time_ms","processing_time"];return pe.some(Ct=>U.toLowerCase().includes(Ct.toLowerCase()))&&!_e.some(Ct=>U.toLowerCase().includes(Ct.toLowerCase()))},c=(U,pe)=>{if(U==null||U==="")return"";if(l(pe))return s(U);if(pe==="PL"){const _e=parseFloat(U);if(!isNaN(_e))return _e.toFixed(2)}return String(U)},[d,h]=x.useState(()=>{const U=localStorage.getItem("pair_stats_theme");if(U)return U==="dark";const pe=localStorage.getItem("theme");return pe?pe==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{d?(document.body.classList.add("dark"),localStorage.setItem("pair_stats_theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pair_stats_theme","light"))},[d]),x.useEffect(()=>{const U=pe=>{if(pe.key==="theme"||pe.key==="pair_stats_theme"){const _e=pe.newValue==="dark";h(_e)}};return window.addEventListener("storage",U),()=>window.removeEventListener("storage",U)},[]);const[g,p]=x.useState(()=>{const U=localStorage.getItem("pair_stats_selected_signals");if(U)return JSON.parse(U);const pe={};return dw.forEach(_e=>pe[_e]=!0),pe}),[v,_]=x.useState(()=>localStorage.getItem("pair_stats_signal_radio_mode")==="true"),[y,E]=x.useState(()=>localStorage.getItem("pair_stats_signal_toggle_all")==="true"),[S,k]=x.useState([]);x.useEffect(()=>{(async()=>{try{const _e=await(await Bn("/api/machines")).json();k(Array.isArray(_e.machines)?_e.machines:[])}catch{k([])}})()},[]);const D=S,[A,M]=x.useState(()=>{const U=localStorage.getItem("pair_stats_selected_machines");if(U)return JSON.parse(U);const pe={};return D.forEach(_e=>pe[_e.MachineId]=!0),pe}),[Y,Q]=x.useState(()=>localStorage.getItem("pair_stats_machine_radio_mode")==="true"),[K,z]=x.useState(()=>localStorage.getItem("pair_stats_machine_toggle_all")==="true"),[ee,se]=x.useState(()=>{const U=localStorage.getItem("pair_stats_selected_actions");return U?JSON.parse(U):{BUY:!0,SELL:!0}}),[oe,Ee]=x.useState(()=>localStorage.getItem("pair_stats_action_radio_mode")==="true"),[re,me]=x.useState(()=>localStorage.getItem("pair_stats_action_toggle_all")==="true"),[je,We]=x.useState(()=>{const U=localStorage.getItem("pair_stats_live_filter");if(U)try{return JSON.parse(U)}catch{return{true:!0,false:!0}}return{true:!0,false:!0}});x.useEffect(()=>{localStorage.setItem("pair_stats_live_filter",JSON.stringify(je))},[je]);const[ae,Le]=x.useState(()=>localStorage.getItem("pair_stats_live_radio_mode")==="true");x.useEffect(()=>{localStorage.setItem("pair_stats_live_radio_mode",ae?"true":"false")},[ae]);const[Re,jt]=x.useState([]);x.useEffect(()=>{Bn("/api/trades").then(U=>U.json()).then(U=>{const pe=Array.isArray(U.trades)?U.trades:[],_e=e?pe.filter(ft=>ft.Pair===e):pe;jt(_e)}).catch(()=>jt([]))},[e]);const[P,ce]=x.useState([]),[L,F]=x.useState(1),[C,H]=x.useState(1),[de,tt]=x.useState(0),[rt,Ze]=x.useState(()=>{const U=localStorage.getItem("listview_logs_per_page");return U?parseInt(U):100}),[Et,bn]=x.useState(!0),[Mt,_n]=x.useState([]),[Jt,on]=x.useState(!1);x.useEffect(()=>{bn(!0),F(1);const U=e?`${Fn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e)}&page=1&limit=${rt}`:`${Fn("/api/SignalProcessingLogs")}?page=1&limit=${rt}`;Bn(U).then(pe=>pe.json()).then(pe=>{var ft,Ct;const _e=Array.isArray(pe.logs)?pe.logs:[];if(ce(_e),tt(((ft=pe.pagination)==null?void 0:ft.total)||_e.length),H(((Ct=pe.pagination)==null?void 0:Ct.totalPages)||1),bn(!1),Array.isArray(pe.logs)&&pe.logs.length>0){let Lt;try{Lt=typeof pe.logs[0].json_data=="string"?JSON.parse(pe.logs[0].json_data):pe.logs[0].json_data}catch{return}}}).catch(pe=>{console.error("[ListViewPage] Error fetching logs:",pe),ce([]),bn(!1)})},[e,rt]);const[Kt,Ue]=x.useState(()=>{const U=localStorage.getItem("pair_stats_selected_candle_types");return U?JSON.parse(U):{Regular:!0,Heiken:!1}});x.useEffect(()=>{localStorage.setItem("pair_stats_selected_candle_types",JSON.stringify(Kt))},[Kt]);const Nn=P.filter(U=>{var Ct;const pe=((Ct=U.candle_pattern)==null?void 0:Ct.toLowerCase())||"",_e=pe==="regular"||pe==="normal"||pe==="regular_candle",ft=pe==="heiken"||pe==="heikin"||pe==="heiken-ashi"||pe==="heiken_ashi"||pe==="heiken_candle";return Kt.Regular&&_e||Kt.Heiken&&ft?!0:(!Kt.Regular&&!Kt.Heiken,!1)}),Xt=x.useMemo(()=>{const U={Regular:0,Heiken:0,Unknown:0};return P.forEach(pe=>{var Lt;const _e=((Lt=pe.candle_pattern)==null?void 0:Lt.toLowerCase())||"";_e==="regular"||_e==="normal"||_e==="regular_candle"?U.Regular++:_e==="heiken"||_e==="heikin"||_e==="heiken-ashi"||_e==="heiken_ashi"||_e==="heiken_candle"?U.Heiken++:U.Unknown++}),U},[P]);function xt(U){return U.filter(pe=>{const _e=pe.exist_in_exchange??pe.Exist_in_exchange,ft=_e===!0||_e==="true"||_e===1||_e==="1";if(!(je.true&&je.false)){if(je.true&&!ft)return!1;if(je.false&&ft)return!1;if(!je.true&&!je.false)return!1}return!(Object.keys(g).length&&!g[pe.SignalFrom]||Object.keys(A).length&&!A[pe.MachineId]||Object.keys(ee).length&&!ee[pe.Action])})}const Qt=xt(Re),Yt=U=>{if(U<1||U>C)return;bn(!0),F(U);const pe=e?`${Fn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e)}&page=${U}&limit=${rt}`:`${Fn("/api/SignalProcessingLogs")}?page=${U}&limit=${rt}`;Bn(pe).then(_e=>_e.json()).then(_e=>{var Ct;const ft=Array.isArray(_e.logs)?_e.logs:[];ce(ft),console.log(`[ListViewPage] Fetched ${ft.length} logs for symbol: ${e||"all"} (Page ${U} of ${((Ct=_e.pagination)==null?void 0:Ct.totalPages)||1})`)}).catch(_e=>{console.error("[ListViewPage] Error fetching logs:",_e),ce([])}).finally(()=>{bn(!1)})},ln=o.jsx(Z0,{canonicalSignalKeys:dw,selectedSignals:g,setSelectedSignals:p,signalRadioMode:v,setSignalRadioMode:_,signalToggleAll:y,setSignalToggleAll:E,allMachines:D,selectedMachines:A,setSelectedMachines:M,machineRadioMode:Y,setMachineRadioMode:Q,machineToggleAll:K,setMachineToggleAll:z,selectedActions:ee,setSelectedActions:se,actionRadioMode:oe,setActionRadioMode:Ee,actionToggleAll:re,setActionToggleAll:me,liveFilter:je,setLiveFilter:We,liveRadioMode:ae,setLiveRadioMode:Le,trades:Re,darkMode:d}),lt=localStorage.getItem("pair_stats_reputation_enabled")==="true",Qn=localStorage.getItem("pair_stats_reputation_intensity"),Yn=localStorage.getItem("pair_stats_reputation_mode")||"perTrade",he=Re.filter(U=>{const pe=U.exist_in_exchange??U.Exist_in_exchange,_e=pe===!0||pe==="true"||pe===1||pe==="1";if(!(je.true&&je.false)){if(je.true&&!_e)return!1;if(je.false&&_e)return!1;if(!je.true&&!je.false)return!1}return!(Object.keys(g).length&&!g[U.SignalFrom]||Object.keys(A).length&&!A[U.MachineId]||Object.keys(ee).length&&!ee[U.Action])}),$e=o.jsx(Q1,{onPairSelect:()=>{},candleType:r,interval:n,trades:he,selectedPair:e,previewMode:!0,darkMode:d,reputationEnabled:lt,reputationIntensity:Qn!==null?Number(Qn):0,reputationMode:Yn,liveFilter:je}),qe=x.useMemo(()=>{const U={};return Qt.forEach(pe=>{pe.Unique_id&&(U[pe.Unique_id]=pe)}),console.log("tradesByUniqueId created:",{totalTrades:Qt.length,tradesWithUniqueId:Object.keys(U).length,sampleKeys:Object.keys(U).slice(0,5),sampleTrades:Object.values(U).slice(0,3)}),U},[Qt]),[ze,Be]=x.useState(()=>{const U=localStorage.getItem("list_font_size");return U?parseFloat(U):1});x.useEffect(()=>{localStorage.setItem("list_font_size",ze)},[ze]),x.useEffect(()=>{const U=localStorage.getItem("pair_stats_selected_json_columns");U&&JSON.parse(U)},[JSON.stringify(Mt)]),x.useEffect(()=>{},[]),Mt&&Mt.length>0,x.useEffect(()=>{localStorage.getItem("pair_stats_selected_columns")},[]),x.useEffect(()=>{},[]),x.useEffect(()=>{localStorage.getItem("pair_stats_selected_trade_columns")},[]),x.useEffect(()=>{},[]);const R="listview_regular_labels",ge=ed.map(U=>U.value),Ie=()=>{const U=localStorage.getItem(R);return U?JSON.parse(U):ge},[wt,ht]=x.useState(()=>{const U=localStorage.getItem("listview_settings_modal_open");return U?JSON.parse(U):!1}),[$t,sn]=x.useState(Ie()),bt="listview_json_labels",ot=()=>{const U=localStorage.getItem(bt);if(U)try{const pe=JSON.parse(U);return pe&&typeof pe=="object"?pe:{}}catch{return{}}return{}},[ct,Wt]=x.useState(ot());function vn(U){const pe=new Set,_e={},ft=new Set;U.forEach(Lt=>{var an;if(!Lt.json_data)return;let xn;try{if(typeof Lt.json_data=="string"){let er=Lt.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");xn=JSON.parse(er)}else xn=Lt.json_data}catch{return}const Ot=xn==null?void 0:xn.signal_data;Ot&&typeof Ot=="object"&&Object.keys(Ot).forEach(er=>{er!=="all_last_rows"&&ft.add(er)});const kn=(an=xn==null?void 0:xn.signal_data)==null?void 0:an.all_last_rows;kn&&typeof kn=="object"&&Object.keys(kn).forEach(er=>{if(er==="candle_type")return;pe.add(er);const In=kn[er];In&&typeof In=="object"&&Object.keys(In).forEach(Tn=>{_e[Tn]||(_e[Tn]=new Set),_e[Tn].add(er)})})});const Ct=Array.from(pe).sort((Lt,xn)=>{const Ot=["1m","3m","5m","15m","30m","1h","2h","4h","1d"];return Ot.indexOf(Lt)-Ot.indexOf(xn)});return Array.from(ft).map(Lt=>({label:Lt.replace(/_/g," "),value:`signal_data_${Lt}`})),Object.entries(_e).map(([Lt,xn])=>({label:Lt,value:Lt,intervals:Ct.map(Ot=>({interval:Ot,exists:xn.has(Ot)}))}))}x.useEffect(()=>{if(P.length>0){const U=vn(P);_n(U),on(!0)}},[P]);function Wn(U,pe){const _e={};U.forEach(kn=>{_e[kn.value]=kn});const ft=Object.keys(pe||{}),Ct=ft.filter(kn=>_e[kn]),Lt={};U.forEach(kn=>{!pe[kn.value]&&!Lt[kn.value]&&(Lt[kn.value]=kn)});const xn=Object.values(Lt),Ot=ft.filter(kn=>!_e[kn]);return{existed:Ct,newlyAdded:xn,deleted:Ot}}Wn(Mt,ct||{}),Jt?Mt.filter(U=>ct[U.value]).flatMap(U=>(U.intervals||[]).filter(pe=>{var _e;return(_e=ct[U.value])==null?void 0:_e[pe]}).map(pe=>({parent:U,interval:pe}))):Object.keys(ct).flatMap(U=>Object.keys(ct[U]||{}).filter(pe=>ct[U][pe]).map(pe=>({parent:{label:U,value:U},interval:pe})));const gn="listview_unified_labels_order";function Pn(){const U=[],pe=new Set;ed.forEach(ft=>{pe.has(ft.value)||(U.push({type:"regular",value:ft.value,label:ft.label}),pe.add(ft.value))});const _e=new Set;return Mt.forEach(ft=>{_e.has(ft.value)||(U.push({type:"json",value:ft.value,label:ft.label,intervals:ft.intervals}),_e.add(ft.value))}),U}function Dn(U){const pe=localStorage.getItem(gn);if(pe)try{const _e=JSON.parse(pe),ft={};U.forEach(Ot=>{ft[Ot.type+"_"+Ot.value]=Ot});const Ct=_e.map(Ot=>ft[Ot.type+"_"+Ot.value]).filter(Boolean),Lt=new Set(_e.map(Ot=>Ot.type+"_"+Ot.value)),xn=U.filter(Ot=>!Lt.has(Ot.type+"_"+Ot.value));return[...Ct,...xn]}catch{return U}return U}const[pn,te]=x.useState(()=>Dn(Pn())),Pe=x.useRef(!1);x.useEffect(()=>{if(Pe.current)return;const U=Pn();te(pe=>{const _e=new Set(pe.map(Ot=>Ot.type+"_"+Ot.value)),ft=new Set(U.map(Ot=>Ot.type+"_"+Ot.value));let Ct=pe.filter(Ot=>ft.has(Ot.type+"_"+Ot.value));const Lt=U.filter(Ot=>!_e.has(Ot.type+"_"+Ot.value));return[...Ct,...Lt]})},[JSON.stringify(Mt)]),x.useEffect(()=>{const U=Pn();te(Dn(U))},[JSON.stringify(Mt)]);const[He,Bt]=x.useState(!1),[Ke,st]=x.useState(!1),[it,j]=x.useState({}),[G,B]=x.useState(!1);x.useEffect(()=>{const U=localStorage.getItem("pair_stats_interval_master_checked");U?j(JSON.parse(U)):fw.forEach(pe=>j(_e=>({..._e,[pe]:!0})))},[]),x.useEffect(()=>{localStorage.setItem("pair_stats_interval_master_checked",JSON.stringify(it))},[it]),x.useEffect(()=>{const U=localStorage.getItem("pair_stats_all_regular_checked");st(U?JSON.parse(U):!1)},[]),x.useEffect(()=>{localStorage.setItem("pair_stats_all_regular_checked",JSON.stringify(Ke))},[Ke]),x.useEffect(()=>{const U=localStorage.getItem("pair_stats_show_unchecked");Bt(U?JSON.parse(U):!1)},[]),x.useEffect(()=>{localStorage.setItem("pair_stats_show_unchecked",JSON.stringify(He))},[He]);const q="listview_settings_modal_pos",V="listview_settings_modal_size",J=()=>{const U=localStorage.getItem(q);let pe={x:window.innerWidth/2-400,y:window.innerHeight/2-300};if(U)try{const kn=JSON.parse(U);typeof kn.x=="number"&&typeof kn.y=="number"&&(pe=kn)}catch{}const _e=we(),ft=window.innerWidth,Ct=window.innerHeight;let Lt=Math.min(_e.width,ft);Math.min(_e.height,Ct);let xn=Math.max(0,Math.min(ft-Lt,pe.x)),Ot=pe.y;return Ot<0&&(Ot=0),Ot>Ct-48&&(Ot=Ct-48),{x:xn,y:Ot}},we=()=>{const U=localStorage.getItem(V);let pe={width:700,height:500};if(U)try{const Ct=JSON.parse(U);typeof Ct.width=="number"&&typeof Ct.height=="number"&&(pe=Ct)}catch{}const _e=window.innerWidth,ft=window.innerHeight;return{width:Math.min(pe.width,_e),height:Math.min(pe.height,ft)}},[Ne,xe]=x.useState(J),[Se,De]=x.useState(we),[gt,vt]=x.useState(!1),Je=x.useRef({x:0,y:0});function _t(U){vt(!0),Je.current={x:U.clientX-Ne.x,y:U.clientY-Ne.y},document.body.style.userSelect="none"}x.useEffect(()=>{function U(_e){if(!gt)return;const ft=window.innerWidth,Ct=window.innerHeight,Lt=document.querySelector('[role="dialog"][aria-label="Settings"]');let xn=Lt?Lt.offsetWidth:Se.width;Lt?Lt.offsetHeight:Se.height;const Ot=Math.floor(.05*xn),kn=48;let an=Math.max(-xn+Ot,Math.min(ft-Ot,_e.clientX-Je.current.x)),er=Math.max(kn*-.9,Math.min(Ct-48,_e.clientY-Je.current.y));xe({x:an,y:er})}function pe(){vt(!1),document.body.style.userSelect=""}return gt&&(window.addEventListener("mousemove",U),window.addEventListener("mouseup",pe)),()=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",pe)}},[gt,Ne,Se]);const Ht=x.useRef(null),[en,hn]=x.useState(!1),On=x.useRef({x:0,y:0,width:0,height:0}),[Cn,kr]=x.useState(null);function Ar(U,pe){U.stopPropagation(),hn(!0),kr(pe);const _e=Ht.current;On.current={x:U.clientX,y:U.clientY,width:_e?_e.offsetWidth:Se.width,height:_e?_e.offsetHeight:Se.height,left:_e?_e.offsetLeft:Ne.x,top:_e?_e.offsetTop:Ne.y},document.body.style.userSelect="none"}x.useEffect(()=>{function U(_e){if(!en||!Cn)return;let{x:ft,y:Ct,width:Lt,height:xn,left:Ot,top:kn}=On.current,an=_e.clientX-ft,er=_e.clientY-Ct,In=Lt,Tn=xn,xr=Ne.x,ys=Ne.y;switch(Cn){case"right":In=Math.max(200,Lt+an);break;case"left":In=Math.max(200,Lt-an),xr=Ot+an;break;case"bottom":Tn=Math.max(100,xn+er);break;case"top":Tn=Math.max(100,xn-er),ys=kn+er;break;case"top-left":In=Math.max(200,Lt-an),xr=Ot+an,Tn=Math.max(100,xn-er),ys=kn+er;break;case"top-right":In=Math.max(200,Lt+an),Tn=Math.max(100,xn-er),ys=kn+er;break;case"bottom-left":In=Math.max(200,Lt-an),xr=Ot+an,Tn=Math.max(100,xn+er);break;case"bottom-right":In=Math.max(200,Lt+an),Tn=Math.max(100,xn+er);break}De({width:In,height:Tn}),xe({x:xr,y:ys});const yr=Ht.current;yr&&(yr.style.width=In+"px",yr.style.height=Tn+"px",yr.style.left=xr+"px",yr.style.top=ys+"px")}function pe(){hn(!1),kr(null),document.body.style.userSelect=""}return en&&(window.addEventListener("mousemove",U),window.addEventListener("mouseup",pe)),()=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",pe)}},[en,Ne,Se,Cn]),x.useEffect(()=>{localStorage.setItem(V,JSON.stringify(Se))},[Se]),x.useEffect(()=>{function U(){const pe=document.querySelector('[role="dialog"][aria-label="Settings"]');if(!pe)return;const _e=pe.getBoundingClientRect();let ft=Ne.x,Ct=Ne.y;_e.width,_e.height;const Lt=window.innerWidth,xn=window.innerHeight,Ot=48,kn=Math.floor(.05*_e.width),an=Math.floor(.05*_e.height);_e.right>Lt-kn&&(ft=Math.max(0,Lt-kn-_e.width)),_e.bottom>xn-an&&(Ct=Math.max(Ot,xn-an-_e.height)),_e.left<-_e.width+kn&&(ft=-_e.width+kn),_e.top<-_e.height+an&&(Ct=-_e.height+an),_e.width>Lt,_e.height>xn,(ft!==Ne.x||Ct!==Ne.y)&&xe({x:ft,y:Ct}),pe.style&&(pe.style.maxWidth=Lt+"px",pe.style.maxHeight=xn+"px",_e.width>Lt&&(pe.style.width=Lt+"px"),_e.height>xn&&(pe.style.height=xn+"px"))}return window.addEventListener("resize",U),U(),()=>window.removeEventListener("resize",U)},[Ne]),x.useEffect(()=>{localStorage.setItem(q,JSON.stringify(Ne))},[Ne]);const[fr,or]=x.useState(!1),Mr="listview_settings_modal_scale",[yn,ke]=x.useState(()=>{const U=localStorage.getItem(Mr);return U?parseFloat(U):1});x.useEffect(()=>{localStorage.setItem(Mr,yn)},[yn]),x.useEffect(()=>{if(wt)or(!0);else{const U=setTimeout(()=>or(!1),180);return()=>clearTimeout(U)}},[wt]),x.useEffect(()=>{localStorage.setItem("listview_settings_modal_open",JSON.stringify(wt))},[wt]),x.useEffect(()=>{function U(pe){wt&&pe.key==="Escape"&&ht(!1)}return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[wt]);const[nt,yt]=x.useState(()=>{const U=localStorage.getItem("listview_settings_modal_opacity");return U?parseFloat(U):1});x.useEffect(()=>{localStorage.setItem("listview_settings_modal_opacity",nt)},[nt]);const[qt,tn]=x.useState(()=>{const U=localStorage.getItem("listview_label_font_size");return U?parseFloat(U):1}),[cn,Oe]=x.useState(()=>{const U=localStorage.getItem("listview_label_wrap");return U?JSON.parse(U):!1});x.useEffect(()=>{localStorage.setItem("listview_label_font_size",qt)},[qt]),x.useEffect(()=>{localStorage.setItem("listview_label_wrap",JSON.stringify(cn))},[cn]);const[Ye,ye]=x.useState(()=>{const U=localStorage.getItem("listview_filter_bar_visible");return U?JSON.parse(U):!0});x.useEffect(()=>{localStorage.setItem("listview_filter_bar_visible",JSON.stringify(Ye))},[Ye]);function Tt(){const U=pn.map(ft=>({type:ft.type,value:ft.value}));localStorage.setItem(gn,JSON.stringify(U)),localStorage.setItem(R,JSON.stringify($t)),localStorage.setItem(bt,JSON.stringify(ct));const pe=document.createElement("div");pe.textContent=" Settings saved successfully!",pe.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #22c55e;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      z-index: 10000;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      animation: slideIn 0.3s ease-out;
    `;const _e=document.createElement("style");_e.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(_e),document.body.appendChild(pe),setTimeout(()=>{pe.parentNode&&pe.parentNode.removeChild(pe)},3e3)}const[Xe,pt]=x.useState(null),[Z,X]=x.useState("asc"),ve=(U,pe,_e=null,ft=null)=>{const Ct={type:U,key:pe,parentKey:_e,interval:ft};Xe&&JSON.stringify(Xe)===JSON.stringify(Ct)?X(Lt=>Lt==="asc"?"desc":"asc"):(pt(Ct),X("asc"))},Nt=(U,pe)=>{var xn,Ot,kn;if(!pe)return;const{type:_e,key:ft,parentKey:Ct,interval:Lt}=pe;if(_e==="regular"){const an=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],er=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(an.includes(ft)){const In=qe[U.Unique_id];if(In&&In.Unique_id){const xr={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[ft];if(xr)return In[xr]}return}else if(er.includes(ft)){let In={};try{if(typeof U.json_data=="string"){let xr=U.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");In=JSON.parse(xr)}else In=U.json_data||{}}catch{In={}}const Tn=In==null?void 0:In.signal_data;if(Tn&&typeof Tn=="object"){const xr=ft.replace("signal_data_","");return Tn[xr]}return}return U[ft]}if(_e==="trade")return(xn=qe[U.Unique_id])==null?void 0:xn[ft];if(_e==="json"&&Ct&&Lt){let an={};try{if(typeof U.json_data=="string"){let In=U.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");an=JSON.parse(In)}else an=U.json_data||{}}catch{an={}}return(kn=(((Ot=an==null?void 0:an.signal_data)==null?void 0:Ot.all_last_rows)||{})[Lt])==null?void 0:kn[Ct]}},et=U=>Xe?[...U].sort((pe,_e)=>{let ft=Nt(pe,Xe),Ct=Nt(_e,Xe);if(Xe.type==="regular"&&l(Xe.key)){const Ot=new Date(ft),kn=new Date(Ct);if(!isNaN(Ot.getTime())&&!isNaN(kn.getTime()))return Ot<kn?Z==="asc"?-1:1:Ot>kn?Z==="asc"?1:-1:0}const Lt=parseFloat(ft),xn=parseFloat(Ct);return!isNaN(Lt)&&!isNaN(xn)?Z==="asc"?Lt-xn:xn-Lt:(ft=ft==null?"":String(ft),Ct=Ct==null?"":String(Ct),ft<Ct?Z==="asc"?-1:1:ft>Ct?Z==="asc"?1:-1:0)}):U,[ut,Gt]=x.useState(null);function Ft(){const U={width:700,height:500},pe=window.innerWidth,_e=window.innerHeight,ft=Math.max(0,Math.floor((pe-U.width)/2)),Ct=Math.max(0,Math.floor((_e-U.height)/2));xe({x:ft,y:Ct}),De(U),ke(1),localStorage.setItem(q,JSON.stringify({x:ft,y:Ct})),localStorage.setItem(V,JSON.stringify(U)),localStorage.setItem(Mr,"1.0")}const[Ut,Vn]=x.useState(null),Ln="listview_filter_table_spacing",[Kn,Rn]=x.useState(()=>{const U=localStorage.getItem(Ln);return U?parseInt(U):0});x.useEffect(()=>{localStorage.setItem(Ln,Kn.toString())},[Kn]);const[rn,Xr]=x.useState([]),[un,cs]=x.useState(1),[dn,mr]=x.useState(1),[ir,Tr]=x.useState(0),[Or,vr]=x.useState(!1),[hr,as]=x.useState("Candle_Time"),[mn,Dr]=x.useState("DESC");x.useEffect(()=>{if(!hr&&!mn)return;vr(!0);const U=e?`${Fn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e)}&page=${un}&limit=${rt}&sortKey=${hr}&sortDirection=${mn}`:`${Fn("/api/SignalProcessingLogs")}?page=${un}&limit=${rt}&sortKey=${hr}&sortDirection=${mn}`;Bn(U).then(pe=>pe.json()).then(pe=>{var _e,ft;Xr(Array.isArray(pe.logs)?pe.logs:[]),Tr(((_e=pe.pagination)==null?void 0:_e.total)||0),mr(((ft=pe.pagination)==null?void 0:ft.totalPages)||1),vr(!1)}).catch(()=>{Xr([]),Tr(0),mr(1),vr(!1)})},[un,rt,hr,mn,e]);const nr=U=>{U<1||U>dn||cs(U)},bi=(U,pe,_e=null,ft=null)=>{hr===pe?Dr(Ct=>Ct==="ASC"?"DESC":"ASC"):(as(pe),Dr("ASC")),pt({type:U,key:pe,parentKey:_e,interval:ft})};function Jr(){return pn.filter(U=>U.type==="regular"?$t.includes(U.value):U.type==="json"&&Array.isArray(U.intervals)?(U.intervals||[]).some(({interval:pe})=>{var _e;return(_e=ct[U.value])==null?void 0:_e[pe]}):!1)}function Te(U){if(!U)return"";const pe=new Date(U);if(isNaN(pe.getTime()))return U;const _e=ft=>ft.toString().padStart(2,"0");return`${pe.getFullYear()}-${_e(pe.getMonth()+1)}-${_e(pe.getDate())} ${_e(pe.getHours())}:${_e(pe.getMinutes())}:${_e(pe.getSeconds())}`}function Rt(U){const pe=Jr();return U.map(_e=>{var xn;let ft={};try{if(typeof _e.json_data=="string"){let Ot=_e.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");ft=JSON.parse(Ot)}else ft=_e.json_data||{}}catch{ft={}}const Ct=((xn=ft==null?void 0:ft.signal_data)==null?void 0:xn.all_last_rows)||{},Lt={};return pe.forEach(Ot=>{let kn;if(Ot.type==="regular"){const an=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],er=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(an.includes(Ot.value)){const In=qe[_e.Unique_id];if(In&&In.Unique_id){const xr={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[Ot.value];xr&&(kn=In[xr])}}else if(er.includes(Ot.value)){let In={};try{if(typeof _e.json_data=="string"){let xr=_e.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");In=JSON.parse(xr)}else In=_e.json_data||{}}catch{In={}}const Tn=In==null?void 0:In.signal_data;if(Tn&&typeof Tn=="object"){const xr=Ot.value.replace("signal_data_","");kn=Tn[xr]}}else kn=_e[Ot.value]}else if(Ot.type==="json"&&Array.isArray(Ot.intervals)){(Ot.intervals||[]).forEach(({interval:an})=>{var er,In;(er=ct[Ot.value])!=null&&er[an]&&(kn=(In=Ct[an])==null?void 0:In[Ot.value],Lt[`${Ot.label} [${an}]`]=kn)});return}Ot.type==="regular"&&l(Ot.value)?Lt[Ot.label]=Te(kn):typeof kn=="number"&&kn>1e12?Lt[Ot.label]=kn.toString():Lt[Ot.label]=kn}),Lt})}const[Un,us]=x.useState(!1),[ks,Pt]=x.useState(!1),Xs=async()=>{if(rn.length>0)us(!0);else{const U=Rt(Nn);if(U.length===0){alert("No data to export!");return}const pe=Rr.json_to_sheet(U),_e=Rr.book_new();Rr.book_append_sheet(_e,pe,"Data"),La(_e,"exported_data.xlsx")}},wn=async U=>{if(us(!1),U==="pagination"){const pe=Rt(rn);if(pe.length===0){alert("No data to export!");return}const _e=Rr.json_to_sheet(pe),ft=Rr.book_new();Rr.book_append_sheet(ft,_e,"Data"),La(ft,"exported_data.xlsx")}else if(U==="whole"){Pt(!0);const pe=e?`${Fn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e)}&limit=all&sortKey=${hr}&sortDirection=${mn}`:`${Fn("/api/SignalProcessingLogs")}?limit=all&sortKey=${hr}&sortDirection=${mn}`;try{const ft=await(await Bn(pe)).json(),Ct=Array.isArray(ft.logs)?ft.logs:[],Lt=Rt(Ct);if(Lt.length===0){alert("No data to export!"),Pt(!1);return}const xn=Rr.json_to_sheet(Lt),Ot=Rr.book_new();Rr.book_append_sheet(Ot,xn,"Data"),La(Ot,"exported_data.xlsx")}catch{alert("Failed to fetch all data for export.")}Pt(!1)}};return o.jsxs("div",{className:d?"dark":"",style:{minHeight:"100vh",background:d?"#181a20":"#f7f7fa"},children:[o.jsxs("div",{style:{position:"absolute",top:8,right:200,zIndex:100,display:"flex",alignItems:"center",gap:12},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Spacing"}),o.jsx("button",{onClick:()=>Rn(U=>U-4),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:d?"#23272f":"#fff",color:d?"#fff":"#222",cursor:"pointer"},title:"Reduce space between filters and table",children:""}),o.jsx("button",{onClick:()=>Rn(U=>Math.min(100,U+4)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:d?"#23272f":"#fff",color:d?"#fff":"#222",cursor:"pointer"},title:"Increase space between filters and table",children:""}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Kn,"px"]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Table Font"}),o.jsx("button",{onClick:()=>Be(U=>Math.max(.7,U-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:d?"#23272f":"#fff",color:d?"#fff":"#222",cursor:"pointer"},children:"A"}),o.jsx("button",{onClick:()=>Be(U=>Math.min(2,U+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:d?"#23272f":"#fff",color:d?"#fff":"#222",cursor:"pointer"},children:"A+"}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(ze*100),"%"]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Label Font"}),o.jsx("button",{onClick:()=>tn(U=>Math.max(.7,U-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:d?"#23272f":"#fff",color:d?"#fff":"#222",cursor:"pointer"},children:"A"}),o.jsx("button",{onClick:()=>tn(U=>Math.min(2,U+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:d?"#23272f":"#fff",color:d?"#fff":"#222",cursor:"pointer"},children:"A+"}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(qt*100),"%"]})]}),o.jsx("button",{onClick:()=>Oe(U=>!U),style:{padding:"3px 10px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:12,background:cn?d?"#0ea5e9":"#0d9488":d?"#23272f":"#fff",color:cn||d?"#fff":"#222",cursor:"pointer",boxShadow:cn?"0 2px 8px #0ea5e944":"0 2px 8px #8882",transition:"background 0.2s"},title:"Wrap label text at word boundaries",children:cn?"Unwrap Labels":"Wrap Labels"})]}),o.jsx("div",{style:{position:"absolute",top:8,left:300,zIndex:100,display:"flex",alignItems:"center",gap:12},children:Or&&o.jsx("span",{style:{color:"#0ea5e9",fontWeight:600},children:"Loading all data..."})}),o.jsx("div",{style:{position:"absolute",top:24,left:24,zIndex:100},children:o.jsx("button",{onClick:()=>window.location.href="/reports",style:{background:"none",border:"none",cursor:"pointer",fontSize:24,color:d?"#fff":"#222",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseEnter:U=>U.target.style.backgroundColor=d?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",onMouseLeave:U=>U.target.style.backgroundColor="transparent","aria-label":"Back to Grid Reports",title:"Back to Grid Reports",children:o.jsx("span",{role:"img","aria-label":"back to grid",children:""})})}),o.jsxs("div",{style:{position:"absolute",top:24,right:80,zIndex:100,display:"flex",gap:8,alignItems:"center"},children:[o.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset the settings screen? Yes / No")&&Ft()},style:{background:"none",border:"none",cursor:"pointer",fontSize:22,color:d?"#fff":"#222",marginRight:2},"aria-label":"Reset Settings",title:"Reset Settings Screen",children:o.jsx("span",{role:"img","aria-label":"reset",children:""})}),o.jsx("button",{onClick:()=>ht(U=>!U),style:{background:"none",border:"none",cursor:"pointer",fontSize:28,color:d?"#fff":"#222"},"aria-label":wt?"Close Settings":"Open Settings","aria-haspopup":"dialog","aria-expanded":wt,children:o.jsx("span",{role:"img","aria-label":"settings",children:""})})]}),fr&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.10)",zIndex:199,transition:"opacity 0.18s",opacity:wt?1:0,pointerEvents:"none"},"aria-hidden":"true"}),o.jsxs("div",{ref:Ht,role:"dialog","aria-modal":"true","aria-label":"Settings",style:{position:"fixed",top:Ne.y,left:Ne.x,minHeight:100,minWidth:200,zIndex:200,width:Se.width,maxWidth:"100vw",background:d?`rgba(35,39,47,${nt})`:`rgba(255,255,255,${nt})`,color:d?"#fff":"#222",borderRadius:18,boxShadow:"0 4px 32px 0 rgba(0,0,0,0.18)",padding:0,display:"flex",flexDirection:"column",overflow:"hidden",height:Se.height,maxHeight:"100vh",margin:"0 auto",boxSizing:"border-box",resize:"none",cursor:gt?"move":"default",opacity:wt?1:0,transform:wt?"scale(1)":"scale(0.96)",transition:"opacity 0.18s, transform 0.18s",pointerEvents:wt?"auto":"none"},children:[[["top-left",{top:-8,left:-8,cursor:"nwse-resize"}],["top",{top:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["top-right",{top:-8,right:-8,cursor:"nesw-resize"}],["right",{top:"50%",right:-8,transform:"translateY(-50%)",cursor:"ew-resize"}],["bottom-right",{bottom:-8,right:-8,cursor:"nwse-resize"}],["bottom",{bottom:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["bottom-left",{bottom:-8,left:-8,cursor:"nesw-resize"}],["left",{top:"50%",left:-8,transform:"translateY(-50%)",cursor:"ew-resize"}]].map(([U,pe])=>o.jsx("div",{onMouseDown:_e=>Ar(_e,U),style:{position:"absolute",width:18,height:18,background:d?"#0ea5e9":"#2563eb",border:"2px solid #fff",borderRadius:6,zIndex:1e3,...pe,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",cursor:pe.cursor,userSelect:"none"},title:`Resize (${U.replace("-"," ")})`,children:o.jsx("div",{style:{width:8,height:8,borderRadius:4,background:"#fff",opacity:.8}})},U)),o.jsxs("div",{style:{width:"100%",height:"100%",transform:`scale(${yn})`,transformOrigin:"top left"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,background:d?"#23272f":"#fff",zIndex:2,padding:12,borderTopLeftRadius:18,borderTopRightRadius:18,userSelect:"none",gap:8,minHeight:0},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:24,minWidth:56,marginRight:12,cursor:"grab",userSelect:"none",background:"transparent"},onMouseDown:_t,children:o.jsx("div",{style:{width:48,height:16,background:d?"#334155":"#e0e7ef",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",gap:2},children:[0,1,2,3].map(U=>o.jsx("div",{style:{width:6,height:6,borderRadius:3,background:d?"#fff":"#222",opacity:.7,margin:2}},U))})}),o.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:8},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13,marginRight:12},children:[o.jsx("span",{style:{opacity:.7},children:"Modal Scale"}),o.jsx("input",{type:"range",min:.7,max:1.5,step:.01,value:yn,onChange:U=>ke(parseFloat(U.target.value)),style:{width:70}}),o.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(yn*100),"%"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Opacity"}),o.jsx("input",{type:"range",min:.3,max:1,step:.01,value:nt,onChange:U=>yt(parseFloat(U.target.value)),style:{width:70}}),o.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(nt*100),"%"]})]}),o.jsx("button",{onClick:()=>B(U=>!U),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:G?"#0ea5e9":"#334155",color:"#fff",boxShadow:G?"0 2px 8px #0ea5e944":"0 2px 8px #33415544",cursor:"pointer",transition:"background 0.2s"},children:G?"Show Regular Labels":"Minimize Regular Labels"}),o.jsx("button",{onClick:()=>Bt(U=>!U),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:He?"#22c55e":"#ef4444",color:"#fff",boxShadow:He?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:He?"Show Unchecked":"Hide Unchecked"}),o.jsx("button",{onClick:()=>{sn(Ke?[]:ed.map(U=>U.value)),st(U=>!U)},style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:Ke?"#22c55e":"#ef4444",color:"#fff",boxShadow:Ke?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:Ke?"Uncheck All Regular":"Check All Regular"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap",marginLeft:8},children:[o.jsx("span",{style:{fontWeight:500,marginRight:4},children:"Intervals:"}),fw.map(U=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:36},children:[o.jsx("input",{type:"checkbox",checked:it[U]||!1,onChange:pe=>{const _e=pe.target.checked;j({...it,[U]:_e}),Wt(ft=>{const Ct={...ft};return Mt.forEach(Lt=>{Lt.intervals.some(xn=>xn.interval===U&&xn.exists)&&(Ct[Lt.value]={...Ct[Lt.value],[U]:_e})}),Ct})},style:{transform:"scale(1.05)"}}),o.jsx("span",{style:{fontSize:13},children:U})]},U))]})]}),o.jsx("button",{onClick:Tt,style:{padding:"6px 18px",borderRadius:6,border:"none",fontWeight:600,fontSize:15,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s",marginLeft:8},title:"Save label order and checkbox state",children:"Save"}),o.jsx("button",{onClick:()=>ht(!1),style:{background:"none",border:"none",fontSize:22,color:"inherit",cursor:"pointer",marginLeft:12},"aria-label":"Close",children:""})]})]}),o.jsx("div",{style:{overflowY:"auto",padding:32,flex:1,minHeight:0,position:"relative"},children:o.jsx(av,{backend:cv,children:o.jsx(k$,{items:pn,moveLabel:(U,pe)=>{te(_e=>{const ft=[..._e],[Ct]=ft.splice(U,1);return ft.splice(pe,0,Ct),ft})},renderRow:(U,pe)=>{let _e=!0;return U.type==="regular"&&(G&&(_e=!1),!He&&!$t.includes(U.value)&&(_e=!1)),U.type==="json"&&Array.isArray(U.intervals)&&(U.intervals.some(({interval:Ct})=>{var Lt;return!He||!!((Lt=ct==null?void 0:ct[U.value])!=null&&Lt[Ct])})||(_e=!1)),o.jsxs("div",{style:{display:_e?void 0:"none",width:"100%"},children:[U.type==="regular"&&o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[o.jsx("input",{type:"checkbox",checked:$t.includes(U.value),onChange:ft=>{ft.target.checked?sn([...$t,U.value]):sn($t.filter(Ct=>Ct!==U.value))}}),U.label]}),U&&U.type==="json"&&Array.isArray(U.intervals)&&(()=>{const ft=(U.intervals||[]).filter(({interval:Ct})=>{var Lt;return!He||!!((Lt=ct==null?void 0:ct[U.value])!=null&&Lt[Ct])});return ft.length===0?null:o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"space-between",marginBottom:1,lineHeight:1.2},children:o.jsx("span",{style:{fontWeight:500,fontSize:"0.95em"},children:U.label})}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:0,alignItems:"flex-start",lineHeight:1},children:ft.map(({interval:Ct,exists:Lt})=>{var xn;return o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:40,opacity:Lt?1:.5,padding:"1px 0",lineHeight:1},children:[o.jsx("input",{type:"checkbox",checked:!!((xn=ct==null?void 0:ct[U.value])!=null&&xn[Ct]),disabled:!Lt,onChange:Ot=>{Wt(kn=>({...kn,[U.value]:{...kn[U.value],[Ct]:Ot.target.checked}}))},style:{transform:"scale(0.9)"}}),o.jsx("span",{style:{fontSize:"0.8em",fontWeight:500,lineHeight:1},children:Ct})]},U.value+"_"+Ct)})})]})})()]})},activeJsonLabels:ct,setActiveJsonLabels:Wt,showUnchecked:He,dragOverIndex:Ut,setDragOverIndex:Vn})})})]})]})]}),Et&&o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{style:{background:d?"#23272f":"#fff",color:d?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Loading logs..."})}),o.jsx("div",{style:{position:"absolute",top:24,right:130,zIndex:100,display:"flex",gap:4}}),o.jsx("button",{onClick:()=>h(U=>!U),style:{position:"absolute",right:32,top:24,zIndex:100,padding:8,borderRadius:"50%",background:d?"#222":"#fff",color:d?"#fff":"#222",border:"1.5px solid #888",fontSize:22,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},title:d?"Switch to Light Mode":"Switch to Dark Mode",children:d?"":""}),o.jsxs("div",{style:{padding:"0 64px 0 32px",position:"relative",display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[o.jsx(pH,{pair:e,interval:n,candleType:r,onBack:()=>window.close(),gridPreview:$e,filterBar:ln,trades:Qt,darkMode:d}),o.jsxs("div",{style:{margin:`${Kn}px 0 0 0`},children:[" ",o.jsxs("div",{style:{color:d?"#fff":"#222",margin:"8px 0 16px 0",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["Rows: ",rn.length>0?rn.length:Nn.length," of ",rn.length>0?ir:de]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Page: ",rn.length>0?un:L," of ",rn.length>0?dn:C]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Columns: ",ed.length+Mt.reduce((U,pe)=>{var _e;return U+(((_e=pe.intervals)==null?void 0:_e.length)||0)},0)+w$.length]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[o.jsx("input",{type:"checkbox",checked:Kt.Regular,onChange:U=>Ue(pe=>({...pe,Regular:U.target.checked})),style:{transform:"scale(1.1)"}}),o.jsx("span",{children:"Regular"}),o.jsxs("span",{style:{fontSize:11,opacity:.7,color:Kt.Regular?"#22c55e":"#6b7280",fontWeight:600},children:["(",Xt.Regular,")"]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[o.jsx("input",{type:"checkbox",checked:Kt.Heiken,onChange:U=>Ue(pe=>({...pe,Heiken:U.target.checked})),style:{transform:"scale(1.1)"}}),o.jsx("span",{children:"Heiken"}),o.jsxs("span",{style:{fontSize:11,opacity:.7,color:Kt.Heiken?"#22c55e":"#6b7280",fontWeight:600},children:["(",Xt.Heiken,")"]})]}),o.jsxs("span",{style:{fontSize:12,opacity:.7,color:Nn.length===0?"#ef4444":"#22c55e",fontWeight:600},children:["(",Nn.length," shown)"]}),Xt.Unknown>0&&o.jsxs("span",{style:{fontSize:11,opacity:.5,color:"#f59e0b",fontWeight:600},children:["(",Xt.Unknown," unknown)"]})]}),Nn.length>0&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[o.jsx("span",{style:{opacity:.7},children:"Time Range:"}),o.jsx("span",{style:{fontWeight:600,color:d?"#0ea5e9":"#0d9488"},children:(ya=Nn[0])!=null&&ya.Candle_Time?s(Nn[0].Candle_Time):"N/A"}),o.jsx("span",{children:"to"}),o.jsx("span",{style:{fontWeight:600,color:d?"#0ea5e9":"#0d9488"},children:(rr=Nn[Nn.length-1])!=null&&rr.Candle_Time?s(Nn[Nn.length-1].Candle_Time):"N/A"}),o.jsx("button",{onClick:Xs,style:{marginLeft:16,padding:"6px 12px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:"#fbbf24",color:"#222",boxShadow:"0 2px 4px #fbbf2444",cursor:"pointer",transition:"background 0.2s"},children:"Export to Excel"})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:d?"#1e293b":"#f1f5f9",borderRadius:6,border:d?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("span",{style:{fontWeight:600,color:d?"#fff":"#222",fontSize:12},children:"Rows:"}),o.jsx("input",{type:"number",min:"10",max:"5000",value:rt,onChange:U=>{const pe=parseInt(U.target.value);!isNaN(pe)&&pe>=10&&pe<=5e3&&Ze(pe)},onKeyPress:U=>{U.key==="Enter"&&(nr(1),mr(Math.ceil(rn.length/rt)))},onBlur:()=>{nr(1),mr(Math.ceil(rn.length/rt))},style:{width:50,padding:"2px 4px",borderRadius:3,border:"1px solid #888",background:d?"#23272f":"#fff",color:d?"#fff":"#222",fontSize:12,textAlign:"center"}})]}),(rn.length>0?dn:C)>1&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:d?"#1e293b":"#f1f5f9",borderRadius:6,border:d?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("button",{onClick:()=>rn.length>0?nr(1):Yt(1),disabled:(rn.length>0?un:L)===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(rn.length>0?un:L)===1?d?"#334155":"#e5e7eb":d?"#0ea5e9":"#0d9488",color:(rn.length>0?un:L)===1?d?"#6b7280":"#9ca3af":"#fff",cursor:(rn.length>0?un:L)===1?"not-allowed":"pointer",opacity:(rn.length>0?un:L)===1?.5:1},children:"First"}),o.jsx("button",{onClick:()=>rn.length>0?nr((rn.length>0?un:L)-1):Yt((rn.length>0?un:L)-1),disabled:(rn.length>0?un:L)===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(rn.length>0?un:L)===1?d?"#334155":"#e5e7eb":d?"#0ea5e9":"#0d9488",color:(rn.length>0?un:L)===1?d?"#6b7280":"#9ca3af":"#fff",cursor:(rn.length>0?un:L)===1?"not-allowed":"pointer",opacity:(rn.length>0?un:L)===1?.5:1},children:""}),o.jsxs("span",{style:{fontWeight:600,color:d?"#fff":"#222",fontSize:12},children:[rn.length>0?un:L,"/",rn.length>0?dn:C]}),o.jsx("button",{onClick:()=>rn.length>0?nr((rn.length>0?un:L)+1):Yt((rn.length>0?un:L)+1),disabled:(rn.length>0?un:L)===(rn.length>0?dn:C),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(rn.length>0?un:L)===(rn.length>0?dn:C)?d?"#334155":"#e5e7eb":d?"#0ea5e9":"#0d9488",color:(rn.length>0?un:L)===(rn.length>0?dn:C)?d?"#6b7280":"#9ca3af":"#fff",cursor:(rn.length>0?un:L)===(rn.length>0?dn:C)?"not-allowed":"pointer",opacity:(rn.length>0?un:L)===(rn.length>0?dn:C)?.5:1},children:""}),o.jsx("button",{onClick:()=>rn.length>0?nr(rn.length>0?dn:C):Yt(rn.length>0?dn:C),disabled:(rn.length>0?un:L)===(rn.length>0?dn:C),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(rn.length>0?un:L)===(rn.length>0?dn:C)?d?"#334155":"#e5e7eb":d?"#0ea5e9":"#0d9488",color:(rn.length>0?un:L)===(rn.length>0?dn:C)?d?"#6b7280":"#9ca3af":"#fff",cursor:(rn.length>0?un:L)===(rn.length>0?dn:C)?"not-allowed":"pointer",opacity:(rn.length>0?un:L)===(rn.length>0?dn:C)?.5:1},children:"Last"})]})]})]})]}),o.jsx("div",{className:"overflow-auto border border-gray-300 rounded-lg",style:{background:d?"#181a20":"#f5ecd7",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:d?"1px solid #334155":"1px solid #d1d5db",fontSize:`${ze}em`,position:"relative",flex:1,minHeight:0},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"16px 0 8px 0",paddingLeft:8,paddingRight:8},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:18}}),o.jsxs("table",{className:"w-full border-collapse",style:{fontSize:"inherit",color:d?"#fff":"#222"},children:[o.jsxs("thead",{className:"sticky top-0 z-30",style:{background:d?"#0f766e":"#0d9488",color:"white",fontSize:"inherit",zIndex:30},children:[o.jsx("tr",{style:{position:"sticky",top:0,zIndex:31,background:d?"#0f766e":"#0d9488"},children:pn.map((U,pe)=>{const _e=U.type==="json"&&Array.isArray(U.intervals);if(U.type==="regular"&&$t.includes(U.value)){const ft=pe===0||pe===1,Ct=d?"#5eead4":"#e0fcf7";return o.jsx("th",{rowSpan:2,className:"relative px-4 py-3 text-left whitespace-nowrap",style:{fontSize:`${qt}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:Ct,minWidth:120,overflow:"visible",whiteSpace:cn?"normal":"nowrap",wordBreak:cn?"break-word":"normal",position:ft?"sticky":void 0,left:ft?pe===0?0:120:void 0,zIndex:ft?40:void 0},title:U.label,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>bi("regular",U.value),style:{marginRight:4,background:"none",border:"none",color:hr===U.value?mn==="ASC"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none"},title:`Sort by ${U.label} (whole data)`,children:["w",hr===U.value?mn==="ASC"?"":"":""]}),o.jsx("span",{children:U.label}),o.jsxs("button",{onClick:()=>ve("regular",U.value),style:{marginLeft:4,background:"none",border:"none",color:Xe&&Xe.type==="regular"&&Xe.key===U.value?Z==="asc"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none"},title:`Sort by ${U.label} (table only)`,children:["t",Xe&&Xe.type==="regular"&&Xe.key===U.value?Z==="asc"?"":"":""]})]})},U.value)}if(_e){const ft=U.intervals.filter(({interval:Lt})=>{var xn;return!!((xn=ct[U.value])!=null&&xn[Lt])});if(ft.length===0)return null;const Ct=pe%2===0?d?"#fbbf24":"#ffe082":d?"#fb923c":"#ffd6a5";return o.jsx("th",{colSpan:ft.length,className:"relative px-4 py-3 text-left whitespace-nowrap",style:{fontSize:`${qt}em`,fontWeight:"bold",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:Ct,minWidth:120,overflow:"visible",whiteSpace:cn?"normal":"nowrap",wordBreak:cn?"break-word":"normal"},title:U.label,children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("span",{children:U.label})})},U.value)}return null})}),o.jsx("tr",{children:pn.map((U,pe)=>{if(U.type==="json"&&Array.isArray(U.intervals)){const _e=U.intervals.filter(({interval:Ct})=>{var Lt;return!!((Lt=ct[U.value])!=null&&Lt[Ct])}),ft=pe%2===0?d?"#1e293b":"#e0e7ef":d?"#334155":"#f1f5f9";return _e.map(({interval:Ct})=>o.jsx("th",{className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${qt}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:d?"#fff":"#222",background:ft,minWidth:90,overflow:"visible",whiteSpace:cn?"normal":"nowrap",wordBreak:cn?"break-word":"normal"},title:Ct,onClick:()=>ve("json",Ct,U.value,Ct),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:Ct}),o.jsx("span",{className:"ml-1 opacity-60",children:Xe&&Xe.type==="json"&&Xe.parentKey===U.value&&Xe.interval===Ct?Z==="asc"?"":"":""})]})},U.value+"_"+Ct))}return null})})]}),o.jsx("tbody",{children:(()=>{const U=rn.length>0?rn:Nn;return et(U).map((_e,ft)=>{var kn;let Ct={};try{if(typeof _e.json_data=="string"){let an=_e.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Ct=JSON.parse(an)}else Ct=_e.json_data||{}}catch{Ct={}}const Lt=((kn=Ct==null?void 0:Ct.signal_data)==null?void 0:kn.all_last_rows)||{},xn=_e.Unique_id!=null?_e.Unique_id:ft,Ot=ut===xn;return o.jsx("tr",{className:"cursor-pointer",style:{fontSize:"inherit",borderBottom:d?"1px solid #334155":"1px solid #e5e7eb",transition:"all 0.15s ease-in-out",color:d?"#fff":"#222",background:Ot?"#ffe066":void 0},onClick:()=>Gt(Ot?null:xn),onMouseEnter:an=>{Ot||(an.currentTarget.style.background=d?"#3d4451":"#f0f9ff",an.currentTarget.style.color=d?"#fff":"#222")},onMouseLeave:an=>{Ot||(an.currentTarget.style.background="",an.currentTarget.style.color="")},children:pn.map((an,er)=>{if(an.type==="regular"&&$t.includes(an.value)){if(!ed.find(Kr=>Kr.value===an.value))return null;const Tn=er===0||er===1,xr=Ot?"#ffe066":Tn?d?"#5eead4":"#e0fcf7":void 0,ys=Ot||Tn?"#111":d?"#fff":"#222";let yr=null,ea="";const ao=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],lo=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(ao.includes(an.value)){const Kr=qe[_e.Unique_id];if((an.value==="PL"||an.value==="Hedge")&&console.log("Debug hedge field lookup:",{field:an.value,rowUniqueId:_e.Unique_id,tradeData:Kr,tradesByUniqueIdKeys:Object.keys(qe).slice(0,5),totalTradesByUniqueId:Object.keys(qe).length,sampleLogUniqueIds:Nn.slice(0,3).map(ri=>ri.Unique_id)}),Kr&&Kr.Unique_id){const ci={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[an.value];ci&&(yr=Kr[ci],ea=yr!=null?c(yr,an.value):"")}}else if(lo.includes(an.value)){let Kr={};try{if(typeof _e.json_data=="string"){let ci=_e.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Kr=JSON.parse(ci)}else Kr=_e.json_data||{}}catch{Kr={}}const ri=Kr==null?void 0:Kr.signal_data;if(ri&&typeof ri=="object"){const ci=an.value.replace("signal_data_","");yr=ri[ci],ea=yr!=null?c(yr,an.value):""}}else yr=_e[an.value],ea=yr!=null?c(yr,an.value):"";let ba={fontSize:"inherit",color:Ot?"#111":ys,background:xr,minWidth:120,overflow:"visible",whiteSpace:"nowrap",position:Tn?"sticky":void 0,left:Tn?er===0?0:120:void 0,zIndex:Tn?30:void 0,padding:"1px 6px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"};if(an.value==="PL"&&yr!=null){const Kr=parseFloat(yr);isNaN(Kr)||(Ot?Kr<0?ba.color="#000000":Kr>0&&(ba.color="#166534"):Kr<0?ba.color="#ef4444":Kr>0&&(ba.color="#22c55e"))}return o.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:ba,title:ea,children:yr!=null?c(yr,an.value):""},an.value)}if(an.type==="json"&&Array.isArray(an.intervals)){const In=an.intervals.filter(({interval:ys})=>{var yr;return!!((yr=ct[an.value])!=null&&yr[ys])}),Tn=Ot?"#ffe066":er%2===0?d?"#1e293b":"#e0e7ef":d?"#334155":"#f1f5f9",xr=Ot?"#111":d?"#fff":"#222";return In.map(({interval:ys})=>{let yr=Lt[ys]?Lt[ys][an.value]:void 0;return o.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:{fontSize:"inherit",color:xr,background:Tn,minWidth:90,overflow:"visible",whiteSpace:"nowrap",padding:"1px 4px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"},title:yr!==void 0?c(yr,an.value):"",children:yr!==void 0?c(yr,an.value):"-"},an.value+"_"+ys)})}return null})},ft)})})()})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"12px 0 8px 0",padding:"8px 12px",background:d?"#1e293b":"#f1f5f9",borderRadius:6,border:d?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("span",{style:{fontWeight:600,color:d?"#fff":"#222",fontSize:14},children:"Rows per page:"}),o.jsx("input",{type:"number",min:"10",max:"5000",value:rt,onChange:U=>{const pe=parseInt(U.target.value);!isNaN(pe)&&pe>=10&&pe<=5e3&&Ze(pe)},onKeyPress:U=>{U.key==="Enter"&&(nr(1),mr(Math.ceil(rn.length/rt)))},onBlur:()=>{nr(1),mr(Math.ceil(rn.length/rt))},style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #888",background:d?"#23272f":"#fff",color:d?"#fff":"#222",fontSize:14,textAlign:"center"}}),o.jsx("span",{style:{fontSize:12,opacity:.7,color:d?"#9ca3af":"#6b7280"},children:"(10-5000)"})]}),dn>1&&o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"16px 0 8px 0",padding:"12px",background:d?"#23272f":"#f8f9fa",borderRadius:8,border:d?"1px solid #334155":"1px solid #e5e7eb"},children:[o.jsx("button",{onClick:()=>nr(1),disabled:un===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:un===1?d?"#334155":"#e5e7eb":d?"#0ea5e9":"#0d9488",color:un===1?d?"#6b7280":"#9ca3af":"#fff",cursor:un===1?"not-allowed":"pointer",opacity:un===1?.5:1},children:"First"}),o.jsx("button",{onClick:()=>nr(un-1),disabled:un===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:un===1?d?"#334155":"#e5e7eb":d?"#0ea5e9":"#0d9488",color:un===1?d?"#6b7280":"#9ca3af":"#fff",cursor:un===1?"not-allowed":"pointer",opacity:un===1?.5:1},children:""}),o.jsxs("span",{style:{fontWeight:600,color:d?"#fff":"#222"},children:["Page ",un," of ",dn]}),o.jsx("button",{onClick:()=>nr(un+1),disabled:un===dn,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:un===dn?d?"#334155":"#e5e7eb":d?"#0ea5e9":"#0d9488",color:un===dn?d?"#6b7280":"#9ca3af":"#fff",cursor:un===dn?"not-allowed":"pointer",opacity:un===dn?.5:1},children:""}),o.jsx("button",{onClick:()=>nr(dn),disabled:un===dn,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:un===dn?d?"#334155":"#e5e7eb":d?"#0ea5e9":"#0d9488",color:un===dn?d?"#6b7280":"#9ca3af":"#fff",cursor:un===dn?"not-allowed":"pointer",opacity:un===dn?.5:1},children:"Last"})]})]})})]}),Un&&o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{background:d?"#23272f":"#fff",color:d?"#fff":"#222",padding:32,borderRadius:16,fontSize:20,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",minWidth:340,minHeight:120,display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[o.jsx("div",{children:"Export Data"}),o.jsxs("div",{style:{display:"flex",gap:18},children:[o.jsx("button",{onClick:()=>wn("pagination"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#0ea5e9",color:"#fff",boxShadow:"0 2px 8px #0ea5e944",cursor:"pointer",transition:"background 0.2s"},children:"Export Current Page"}),o.jsx("button",{onClick:()=>wn("whole"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:"Export All Filtered Data"})]}),o.jsx("button",{onClick:()=>us(!1),style:{marginTop:12,background:"none",border:"none",color:d?"#fff":"#222",fontSize:18,cursor:"pointer"},children:"Cancel"})]})}),ks&&o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{style:{background:d?"#23272f":"#fff",color:d?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Exporting data..."})})]})},uv=qr.createContext(null);function JN({className:t="",...e}){const n=qr.useContext(uv);if(!n)return null;const r=n.triggerLogout||n.logout;return o.jsx("button",{type:"button",onClick:r,title:"Log out",className:t||"px-2 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-sm font-semibold transition-colors",...e,children:"Logout"})}function N$({className:t=""}){var r;const e=qr.useContext(uv),n=(r=e==null?void 0:e.user)==null?void 0:r.email;return n?o.jsx("span",{className:`text-white/90 text-sm truncate max-w-[180px] ${t}`,title:n,children:n}):null}async function C$(t,e){const n=(t||"").trim(),r=(e||"").trim();if(!n||!r)throw new Error("email and password required");const s=Oa(),l=s?`${s.replace(/\/$/,"")}/auth/login`:"/auth/login",c=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:n,password:r})}),d=await c.json().catch(()=>({}));if(!c.ok)throw new Error((d==null?void 0:d.error)||"Invalid credentials");if(!(d!=null&&d.ok)||!(d!=null&&d.user))throw new Error("Login failed");return{ok:!0,user:d.user}}async function j$(){const t=Oa(),e=t?`${t.replace(/\/$/,"")}/auth/logout`:"/auth/logout";await fetch(e,{method:"POST",credentials:"include"}).catch(()=>{})}async function gw(){const t=Fn("/auth/me"),e=await fetch(t,{credentials:"include"});if(!e.ok)return null;const n=await e.json().catch(()=>({}));return n!=null&&n.ok&&(n!=null&&n.user)?n:null}async function A$(){const t=Fn("/auth/extend-session"),e=await fetch(t,{method:"POST",credentials:"include"});if(!e.ok)return!1;const n=await e.json().catch(()=>({}));return!!(n!=null&&n.ok)}const O$="refresh_app_main_intervalSec",pw="tradingview-widget-script-single";function D$(t){if(typeof window<"u"&&window.TradingView){t==null||t();return}const e=document.getElementById(pw);if(e){if(window.TradingView){t==null||t();return}e.addEventListener("load",()=>{const r=()=>{window.TradingView?t==null||t():setTimeout(r,50)};setTimeout(r,0)},{once:!0});return}const n=document.createElement("script");n.id=pw,n.src="https://s3.tradingview.com/tv.js",n.async=!0,n.onload=()=>{const r=()=>{window.TradingView?t==null||t():setTimeout(r,50)};setTimeout(r,0)},document.body.appendChild(n)}const R$={"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},mw=["1m","3m","5m","15m","30m","1h","4h","1d"],KN=t=>{if(!t)return"BTCUSDT";let e=String(t).replace(/<[^>]+>/g,"").replace(/\s+/g,"").replace(/[^A-Z0-9]/gi,"").toUpperCase();return e.startsWith("BINANCE")&&(e=e.slice(7)),e=e.replace(/PERPETUALCONTRACT|PERP|CHART/gi,"").replace(/\d{6,}$/,""),e||"BTCUSDT"},xw=t=>{if(!t||typeof t!="string")return"";const e=String(t).toUpperCase(),n=e.indexOf("BUY"),r=e.indexOf("SELL");let s=-1;return n>=0&&r>=0?s=Math.min(n,r):n>=0?s=n:r>=0&&(s=r),s>0&&String(t).slice(0,s).replace(/[^A-Z0-9]/gi,"").toUpperCase()||""},M$=[{key:"RSI@tv-basicstudies",label:"RSI-9"},{key:"MACD@tv-basicstudies",label:"MACD"},{key:"Volume@tv-basicstudies",label:"Volume"},{key:"CCI@tv-basicstudies",label:"CCI"}],Gm="singleTradeLiveView_infoFields",vw="singleTradeLiveView_intervalOrder",L$="singleTradeLiveView_infoGridHeight",I$="singleTradeLiveView_backDataHeight",P$="singleTradeLiveView_chartHeight",F$="singleTradeLiveView_infoLeftHeight",z$="singleTradeLiveView_backLeftHeight",yw="singleTradeLiveView_infoSplitPercent",qm="singleTradeLiveView_infoFieldOrder",Xm="singleTradeLiveView_sectionOrder",bw="singleTradeLiveView_signalsViewMode",_w="singleTradeLiveView_signalAlertRules",Sw="singleTradeLiveView_alertRuleGroups",ww="singleTradeLiveView_masterBlinkColor",Oh="singleTradeLiveView_activeRuleBookId",Ew="singleTradeLiveView_localRuleBooks",Dh="singleTradeLiveView_activeLocalRuleBookId",Jm="singleTradeLiveView_binanceColumnsOrder",Km="singleTradeLiveView_binanceColumnsVisibility",Zm=["information","binanceData","chart"],B$={information:"Information",binanceData:"Binance Data",chart:"Chart"},ql=["5m","15m","1h","4h"],Xl=["current_row","prev row","prior row"],kw={"prior row":0,"prev row":1,current_row:2};function Lx(t,e){if(!t||t.length<=14)return t;const n=4,r=4,s=6,l=t.substring(0,n).toLowerCase(),c=e.filter(g=>g&&g.toLowerCase().startsWith(l));if(c.length>1){const g=t.substring(0,n),p=t.substring(t.length-s),v=`${g}...${p}`;return c.filter(y=>{if(y===t)return!1;const E=y.substring(y.length-s);return`${g}...${E}`===v}).length===0?v:t}const d=t.substring(0,n),h=t.substring(t.length-r);return`${d}...${h}`}const H$=["bg-teal-100 dark:bg-teal-900/40","bg-blue-100 dark:bg-blue-900/40","bg-emerald-100 dark:bg-emerald-900/40","bg-amber-100 dark:bg-amber-900/40"],U$=["bg-teal-100 dark:bg-teal-900/40","bg-blue-100 dark:bg-blue-900/40","bg-amber-100 dark:bg-amber-900/40"],Da=[{label:"HA_LOW",key:"ha_low"},{label:"HA_HIGH",key:"ha_high"},{label:"INST Signal",key:"INSTITUTIONAL_SIGNAL"},{label:"BB FLAT",key:"bb_flat_market"},{label:"BB FLAT SIGNAL",key:"bb_flat_signal"},{label:"RSI_9",key:"RSI_9"},{label:"Divergence",key:"RSI_DIVERGENCE"},{label:"DIVERGEN_SIGNAL_LIVE",key:"DIVERGEN_SIGNAL_LIVE"},{label:"RSI_DIVERGENCE_LIVE",key:"RSI_DIVERGENCE_LIVE"},{label:"TAKEACTION",key:"TAKEACTION"},{label:"CCI Exit Cross 9",key:"cci_exit_cross_9"},{label:"MACD Color Signal",key:"macd_color_signal"},{label:"CCI Entry State 100",key:"cci_entry_state_100"},{label:"CCI SMA 100",key:"cci_sma_100"},{label:"CCI Entry State 9",key:"cci_entry_state_9"},{label:"CCI SMA 9",key:"cci_sma_9"},{label:"cci_value_100",key:"cci_value_100"},{label:"cci_value_9",key:"cci_value_9"},{label:"Lower MACD Color Signa",key:"lower_macd_color_signal"},{label:"Andean Oscillator",key:"andean_oscillator"},{label:"Candle Henkin Color",key:"ha_color"},{label:"Candle Regular Color",key:"color"},{label:"EMA 5 8 Cross",key:"ema_5_8_cross"},{label:"ZLEMA Bullish Entry",key:"zlema_bullish_entry"},{label:"ZLEMA Bearish Entry",key:"zlema_bearish_entry"},{label:"Volume Ratio",key:"Volume_Ratio"},{label:"OB_SIGNAL",key:"OB_SIGNAL"},{label:"RG Candle Pattern",key:"candle_pattern_signal"},{label:"HK Candle Pattern",key:"henkin_candle_pattern_signal"},{label:"TDFI 2 EMA",key:"tdfi_state_2_ema"},{label:"TDFI State",key:"tdfi_state"},{label:"Two Pole MACD CrossOver",key:"two_pole_MACD_Cross_Up"},{label:"Total Change",key:"Total_Change"},{label:"BBW",key:"BBW"},{label:"BBW_Increasing",key:"BBW_Increasing"},{label:"BREAKOUT_SIGNAL",key:"BREAKOUT_SIGNAL"},{label:"FOLLOW_INST_BUY_OK",key:"FOLLOW_INST_BUY_OK"},{label:"FOLLOW_INST_SELL_OK",key:"FOLLOW_INST_SELL_OK"},{label:"breakout_entry",key:"breakout_entry"},{label:"ema_price_trend_signal",key:"ema_price_trend_signal"},{label:"ema_trend_100_14",key:"ema_trend_100_14"},{label:"exit_long_price_action",key:"exit_long_raw"},{label:"exit_short_price_action",key:"exit_short_raw"},{label:"price_trend_direction",key:"price_trend_direction"},{label:"stoch_7_3_3_cross_buy",key:"stoch_7_3_3_cross_buy"},{label:"stoch_7_3_3_cross_sell",key:"stoch_7_3_3_cross_sell"},{label:"stoch_7_3_3_overbought",key:"stoch_7_3_3_overbought"},{label:"stoch_7_3_3_oversold",key:"stoch_7_3_3_oversold"},{label:"price_vs_ha_open",key:"price_vs_ha_open"},{label:"swing_high",key:"swing_high"},{label:"swing_low",key:"swing_low"},{label:"swing_high_zone",key:"swing_high_zone"},{label:"volume_increasing",key:"volume_increasing"}],$$={execute:"Execute trade",endTrade:"End trade",autoPilot:"Auto-Pilot",hedge:"Hedge",setStopPrice:"Set stop price",addInvestment:"Add investment",clear:"Clear"};function W$({open:t,onClose:e,actionType:n,requireAmount:r,amountLabel:s="Amount",amountPlaceholder:l="0",extraLabel:c,extraValue:d,onConfirm:h}){const[g,p]=x.useState("password"),[v,_]=x.useState(""),[y,E]=x.useState(""),[S,k]=x.useState(""),[D,A]=x.useState(!1),[M,Y]=x.useState("Success!"),[Q,K]=x.useState(!1),z=$$[n]||n,ee=r&&g==="amount",se=g==="password",oe=D,Ee=x.useCallback(()=>{p("password"),_(""),E(""),k(""),A(!1),Y("Success!"),K(!1)},[]);x.useEffect(()=>{t&&Ee()},[t,n,Ee]);const re=x.useCallback(()=>{Ee(),e()},[e,Ee]),me=()=>(v||"").trim()?(k(""),!0):(k("Enter password"),!1),je=()=>{me()&&(r?p("amount"):We())},We=async()=>{if(!Q){k(""),K(!0);try{const Le={password:(v||"").trim()};r&&(Le.amount=y.trim()),d!==void 0&&(Le.extraValue=d);const Re=await(h&&h(Le)),jt=Re&&typeof Re=="string"?Re:(Re==null?void 0:Re.successMessage)??"Success!";Y(jt),A(!0),setTimeout(re,1500)}catch(Le){k((Le==null?void 0:Le.message)||"Failed"),K(!1)}}},ae=()=>{if(r&&!(y||"").trim()){k(`Enter ${s.toLowerCase()}`);return}We()};return t?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:re,children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl",onClick:Le=>Le.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-lg mb-3",children:z}),oe&&o.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium mb-4",children:M}),!oe&&se&&o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),o.jsx("input",{type:"password",value:v,onChange:Le=>{_(Le.target.value),k("")},onKeyDown:Le=>{Le.key==="Enter"&&(Le.preventDefault(),je())},placeholder:"Password",className:"w-full border-2 border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-[#333] text-[#222] dark:text-white mb-3",autoFocus:!0}),c&&d!=null&&o.jsxs("p",{className:"text-sm text-gray-500 dark:text-white/90 mb-2",children:[c,": ",d]})]}),!oe&&ee&&o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s}),o.jsx("input",{type:"text",inputMode:"decimal",value:y,onChange:Le=>{E(Le.target.value),k("")},onKeyDown:Le=>{Le.key==="Enter"&&(Le.preventDefault(),ae())},placeholder:l,className:"w-full border-2 border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-[#333] text-[#222] dark:text-white mb-3",autoFocus:!0})]}),S&&o.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mb-2",children:S}),!oe&&o.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[o.jsx("button",{type:"button",onClick:re,className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700",children:"Cancel"}),se&&o.jsx("button",{type:"button",onClick:je,disabled:Q,className:"px-4 py-1.5 rounded-lg bg-teal-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:Q?"":r?"Next":"Confirm"}),ee&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:()=>p("password"),disabled:Q,className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Back"}),o.jsx("button",{type:"button",onClick:ae,disabled:Q,className:"px-4 py-1.5 rounded-lg bg-teal-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:Q?"":"Confirm"})]})]})]})}):null}const td={infoLeft:"singleTradeLiveView_zoom_infoLeft",infoGrid:"singleTradeLiveView_zoom_infoGrid",backLeft:"singleTradeLiveView_zoom_backLeft",backButtons:"singleTradeLiveView_zoom_backButtons",chart:"singleTradeLiveView_zoom_chart"},sl={default:100,min:50,max:350,step:10};function V$({orderedKeys:t,allKeys:e,visibleKeys:n,setVisibleKeys:r,setFieldOrder:s,onClose:l}){const[c,d]=x.useState(null),[h,g]=x.useState(null),p=n??new Set(e),v=(A,M)=>{d(M),A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",String(M))},_=(A,M)=>{A.preventDefault(),A.dataTransfer.dropEffect="move",g(M)},y=()=>g(null),E=(A,M)=>{if(A.preventDefault(),g(null),c==null)return;const Y=c;if(d(null),Y===M)return;const Q=[...t],[K]=Q.splice(Y,1);Q.splice(M,0,K),s(Q)},S=()=>{d(null),g(null)},k=A=>{const M=new Set(p);M.has(A)?M.delete(A):M.add(A),r(M)},D=()=>r(new Set(e));return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:l,children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-lg w-full shadow-xl max-h-[80vh] overflow-auto",onClick:A=>A.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Information fields"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-white/90 mb-4",children:"Toggle visibility and drag to reorder. Only checked fields are shown."}),o.jsx("ul",{className:"space-y-1",children:t.map((A,M)=>o.jsxs("li",{draggable:!0,onDragStart:Y=>v(Y,M),onDragOver:Y=>_(Y,M),onDragLeave:y,onDrop:Y=>E(Y,M),onDragEnd:S,className:`flex items-center gap-2 py-1.5 px-2 rounded border cursor-grab active:cursor-grabbing ${h===M?"border-teal-500 bg-teal-500/10":"border-transparent hover:bg-gray-100 dark:hover:bg-gray-800"} ${c===M?"opacity-60":""}`,children:[o.jsx("span",{className:"text-gray-400 dark:text-white/70 select-none",title:"Drag to reorder",children:""}),o.jsx("input",{type:"checkbox",id:`info_${A}`,checked:p.has(A),onChange:()=>k(A)}),o.jsx("label",{htmlFor:`info_${A}`,className:"cursor-pointer flex-1",children:A.replace(/_/g," ")})]},A))}),o.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:D,className:"px-3 py-1 rounded bg-gray-200 dark:bg-gray-700",children:"Show all"}),o.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 rounded bg-teal-600 text-white",children:"Done"})]})]})})}function Y$({sectionOrder:t,setSectionOrder:e,onClose:n}){const[r,s]=x.useState(null),[l,c]=x.useState(null),d=x.useRef(null),h=(y,E)=>{d.current=E,s(E),y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",String(E));try{y.dataTransfer.setDragImage&&y.currentTarget&&y.dataTransfer.setDragImage(y.currentTarget,0,0)}catch{}},g=(y,E)=>{y.preventDefault(),y.stopPropagation(),y.dataTransfer.dropEffect="move",c(E)},p=()=>c(null),v=(y,E)=>{y.preventDefault(),y.stopPropagation(),c(null);const S=d.current??r;if(d.current=null,s(null),S==null||S===E)return;const k=[...t],[D]=k.splice(S,1);k.splice(E,0,D),e(k)},_=()=>{d.current=null,s(null),c(null)};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:n,children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-md w-full shadow-xl",onClick:y=>y.stopPropagation(),onDragOver:y=>{y.preventDefault(),y.stopPropagation(),y.dataTransfer.dropEffect="move"},children:[o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Section order"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-white/90 mb-4",children:"Drag to set the order of sections (top to bottom)."}),o.jsx("ul",{className:"space-y-1",onDragOver:y=>{y.preventDefault(),y.stopPropagation(),y.dataTransfer.dropEffect="move"},children:t.map((y,E)=>o.jsxs("li",{draggable:!0,onDragStart:S=>h(S,E),onDragOver:S=>g(S,E),onDragLeave:p,onDrop:S=>v(S,E),onDragEnd:_,className:`flex items-center gap-2 py-2.5 px-3 rounded border cursor-grab active:cursor-grabbing ${l===E?"border-teal-500 bg-teal-500/10":"border-transparent hover:bg-gray-100 dark:hover:bg-gray-800"} ${r===E?"opacity-60":""}`,children:[o.jsx("span",{className:"text-gray-400 dark:text-white/70 select-none",title:"Drag to reorder",children:""}),o.jsx("span",{className:"font-medium flex-1",children:B$[y]||y}),o.jsxs("span",{className:"flex gap-0.5",children:[o.jsx("button",{type:"button",disabled:E===0,onClick:()=>{if(E===0)return;const S=[...t];[S[E-1],S[E]]=[S[E],S[E-1]],e(S)},className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed",title:"Move up","aria-label":"Move up",children:""}),o.jsx("button",{type:"button",disabled:E===t.length-1,onClick:()=>{if(E>=t.length-1)return;const S=[...t];[S[E],S[E+1]]=[S[E+1],S[E]],e(S)},className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed",title:"Move down","aria-label":"Move down",children:""})]})]},y))}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded bg-teal-600 text-white",children:"Done"})})]})})}function G$({columns:t,setColumns:e,visibility:n,setVisibility:r,onClose:s}){const[l,c]=x.useState(null),[d,h]=x.useState(null),g=(A,M)=>{c(M),A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",String(M))},p=(A,M)=>{A.preventDefault(),A.dataTransfer.dropEffect="move",h(M)},v=()=>h(null),_=(A,M)=>{if(A.preventDefault(),h(null),l==null)return;const Y=l;if(c(null),Y===M)return;const Q=[...t],[K]=Q.splice(Y,1);Q.splice(M,0,K),e(Q)},y=()=>{c(null),h(null)},E=(A,M)=>{r(Y=>({...Y,[A]:M}))},S=()=>{r(A=>{const M={...A};return t.forEach(Y=>M[Y]=!0),M})},k=t.length?t:[],D=k.map(A=>A==="__actions__"?"Actions":A.replace(/([A-Z])/g," $1").trim());return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:s,children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-2xl w-[90vw] shadow-xl max-h-[85vh] overflow-hidden flex flex-col",onClick:A=>A.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-xl mb-1",children:"Binance columns"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-white/90 mb-4",children:"Drag to reorder; check or uncheck to show or hide columns."}),o.jsx("ul",{className:"space-y-1 overflow-auto flex-1 min-h-0 pr-2",children:k.map((A,M)=>{const Y=D[M],Q=A==="__actions__"?Y:Lx(Y,D),K=n[A]!==!1;return o.jsxs("li",{draggable:!0,onDragStart:z=>g(z,M),onDragOver:z=>p(z,M),onDragLeave:v,onDrop:z=>_(z,M),onDragEnd:y,className:`flex items-center gap-3 py-2.5 px-3 rounded border cursor-grab active:cursor-grabbing ${d===M?"border-teal-500 bg-teal-500/10":"border-transparent hover:bg-gray-100 dark:hover:bg-gray-800"} ${l===M?"opacity-60":""}`,children:[o.jsx("span",{className:"text-gray-400 dark:text-white/70 select-none shrink-0",title:"Drag to reorder",children:""}),o.jsx("input",{type:"checkbox",id:`binance_${A}`,checked:K,onChange:()=>E(A,!K),className:"h-4 w-4 text-teal-600 shrink-0"}),o.jsx("label",{htmlFor:`binance_${A}`,className:"cursor-pointer flex-1 font-medium truncate",title:Q,children:Q})]},A)})}),o.jsxs("div",{className:"mt-4 flex justify-end gap-2 shrink-0",children:[o.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100",children:"Show all"}),o.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 rounded bg-teal-600 text-white",children:"Done"})]})]})})}function nd(t){const[e,n]=x.useState(()=>{try{const l=localStorage.getItem(t);if(l!=null){const c=parseInt(l,10);if(!Number.isNaN(c))return Math.max(sl.min,Math.min(sl.max,c))}}catch{}return sl.default});return x.useEffect(()=>{localStorage.setItem(t,String(e))},[t,e]),[e,()=>n(l=>Math.max(sl.min,l-sl.step)),()=>n(l=>Math.min(sl.max,l+sl.step))]}function rd({onDecrease:t,onIncrease:e,current:n,label:r,className:s=""}){const l=n<=sl.min,c=n>=sl.max,d=s||"min-w-[36px] min-h-[36px] flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 disabled:opacity-40 text-sm font-bold transition-colors";return o.jsxs("div",{className:"flex items-center gap-1",title:`${r||"Zoom"} (${n}%)`,children:[o.jsx("button",{type:"button",onClick:t,disabled:l,"aria-label":"Zoom out font",className:d,children:"A"}),o.jsx("button",{type:"button",onClick:e,disabled:c,"aria-label":"Zoom in font",className:d,children:"A+"})]})}const Hs={infoGrid:{default:280,min:80,max:1400,step:40},infoLeft:{default:100,min:40,max:500,step:20},backData:{default:100,min:60,max:1e3,step:32},backLeft:{default:60,min:40,max:400,step:16},chart:{default:380,min:120,max:1400,step:40}};function sd(t,e){const[n,r]=x.useState(()=>{try{const l=localStorage.getItem(t);if(l!=null){const c=parseInt(l,10);if(!Number.isNaN(c))return Math.max(e.min,Math.min(e.max,c))}}catch{}return e.default});x.useEffect(()=>{localStorage.setItem(t,String(n))},[t,n]);const s=x.useCallback(l=>r(c=>Math.max(e.min,Math.min(e.max,typeof l=="function"?l(c):l))),[e.min,e.max]);return[n,s]}function Qm({value:t,min:e,max:n,onChange:r,label:s}){const l=x.useRef({y:0,value:0}),c=x.useRef(r);c.current=r;const d=x.useCallback(h=>{h.preventDefault(),h.stopPropagation(),l.current={y:h.clientY,value:t};const g=v=>{v.preventDefault();const _=v.clientY-l.current.y,y=Math.round(Math.max(e,Math.min(n,l.current.value+_)));c.current(y),l.current={y:v.clientY,value:y}},p=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""};document.body.style.cursor="ns-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)},[t,e,n]);return o.jsx("div",{role:"separator","aria-label":s||"Drag to resize height",className:"h-3 w-full cursor-ns-resize hover:bg-teal-500/50 bg-teal-600/70 flex-shrink-0 rounded-b flex items-center justify-center group select-none",title:"Drag to resize height",onMouseDown:d,children:o.jsx("span",{className:"text-white/80 text-xs group-hover:text-white pointer-events-none",children:""})})}function q$({leftPercent:t,min:e=20,max:n=80,onChange:r,label:s}){const l=x.useRef({x:0,value:0}),c=x.useRef(r);c.current=r;const d=x.useCallback(h=>{h.preventDefault(),h.stopPropagation(),l.current={x:h.clientX,value:t};const g=v=>{v.preventDefault();const y=(v.clientX-l.current.x)/window.innerWidth*100,E=Math.round(Math.max(e,Math.min(n,l.current.value+y)));c.current(E),l.current={x:v.clientX,value:E}},p=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""};document.body.style.cursor="ew-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)},[t,e,n]);return o.jsx("div",{role:"separator","aria-label":s||"Drag to resize width",className:"w-3 min-w-[12px] cursor-ew-resize hover:bg-teal-500/50 bg-teal-600/70 flex-shrink-0 flex items-center justify-center self-stretch rounded select-none",title:"Drag to resize columns",onMouseDown:d,children:o.jsx("span",{className:"text-white/80 text-xs pointer-events-none",children:""})})}function id(t){return t==null||t===""?"":typeof t!="string"?String(t).trim():t.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim()}function X$({tradePair:t,chartSize:e={width:500,height:400},alertRules:n,setAlertRules:r,alertRuleGroups:s,setAlertRuleGroups:l,masterBlinkColor:c,setMasterBlinkColor:d,showAlertSettings:h,setShowAlertSettings:g}){const p=t!=null?String(t):"",v=[KN(p),"BTCUSDT"],_=(te,Pe)=>{try{const He=localStorage.getItem(`chartGridSetting_${te}`);if(He!==null)return JSON.parse(He)}catch{}return Pe},y=["RSI@tv-basicstudies","MACD@tv-basicstudies","Volume@tv-basicstudies","CCI@tv-basicstudies"],[E,S]=x.useState(_("interval","15m")),[k,D]=x.useState(_("showAllIntervals",!0)),[A,M]=x.useState(_("layout",2)),[Y,Q]=x.useState(()=>{try{const te=localStorage.getItem(vw);if(te)return JSON.parse(te)}catch{}return[...mw]}),[K,z]=x.useState(!1),[ee,se]=x.useState(_("indicators",y)),[oe]=x.useState(_("source","tradingview")),[Ee,re]=x.useState(!1),me=x.useRef(null),[je,We]=x.useState(()=>Da.map(te=>te.key)),[ae,Le]=x.useState(()=>[...ql]),[Re,jt]=x.useState(()=>[...Xl]),[P,ce]=x.useState("number"),[L,F]=x.useState(!0),[C,H]=x.useState("eq"),[de,tt]=x.useState(""),[rt,Ze]=x.useState("BUY"),[Et,bn]=x.useState(">="),[Mt,_n]=x.useState(0),[Jt,on]=x.useState("signalKey"),[Kt,Ue]=x.useState(""),[Nn,Xt]=x.useState(""),[xt,Qt]=x.useState(null),[Yt,ln]=x.useState([]),[lt,Qn]=x.useState(()=>{try{const te=localStorage.getItem(Oh);if(!te)return null;const Pe=parseInt(te,10);return Number.isFinite(Pe)?Pe:null}catch{return null}}),[Yn,he]=x.useState(!1),[$e,qe]=x.useState(""),[ze,Be]=x.useState(()=>{try{const te=localStorage.getItem(Ew);if(!te)return[];const Pe=JSON.parse(te);return Array.isArray(Pe==null?void 0:Pe.books)?Pe.books:[]}catch{return[]}}),[R,ge]=x.useState(()=>{try{return localStorage.getItem(Dh)||null}catch{return null}}),Ie=x.useMemo(()=>{const te=[...n||[]];return te.sort((Pe,He)=>{const Bt=(Pe[Jt]??"").toString().toLowerCase(),Ke=(He[Jt]??"").toString().toLowerCase();return Bt<Ke?-1:Bt>Ke?1:0}),te},[n,Jt]),wt=te=>S(te);x.useEffect(()=>{try{localStorage.setItem(vw,JSON.stringify(Y))}catch{}},[Y]),x.useEffect(()=>{if(!h||Yt&&Yt.length>0)return;let te=!1;return(async()=>{he(!0),qe("");try{const He=await fetch(Fn("/api/alert-rule-books")),Bt=await He.json().catch(()=>({}));if(!He.ok)throw new Error(Bt.error||He.statusText||"Failed to load rule books");if(!te){const Ke=Array.isArray(Bt.ruleBooks)?Bt.ruleBooks:[];ln(Ke)}}catch(He){console.error("[RuleBooks] Load failed:",He),te||qe((He==null?void 0:He.message)||"Failed to load rule books")}finally{te||he(!1)}})(),()=>{te=!0}},[h,Yt]);const ht=x.useCallback(async te=>{if(te)try{const Pe=await fetch(Fn(`/api/alert-rule-books/${te}`)),He=await Pe.json().catch(()=>({}));if(!Pe.ok)throw new Error(He.error||Pe.statusText||"Failed to load rule book");const Bt=He.payload||{};let Ke=Array.isArray(Bt.rules)?Bt.rules:[],st=Array.isArray(Bt.groups)?Bt.groups:[];const it=Bt.masterBlinkColor||c||"#f97316";if(st.length===0&&Ke.length>0){const j="imported-"+Date.now();st=[{id:j,name:"Imported",color:it}],Ke=Ke.map(G=>({...G,groupId:j}))}r(Ke),l(st),d(it),Qn(He.id||te);try{localStorage.setItem(Oh,String(He.id||te))}catch{}}catch(Pe){console.error("[RuleBooks] Load book failed:",Pe),typeof window<"u"&&window.alert((Pe==null?void 0:Pe.message)||"Failed to load rule book")}},[r,l,d,c]),$t=x.useCallback(async te=>{try{if(!n||!n.length){window.alert("No rules to save. Create some rules first.");return}let Pe="",He=null;if(te==="new"){if(Pe=window.prompt("Enter a name for this rule book:"),!Pe||!Pe.trim())return}else if(te==="update"){const j=Yt.find(G=>G.id===lt);if(!j){window.alert("No rule book is selected to update.");return}Pe=j.name,He=j.id}else return;const Bt={type:"lab_single_trade_alert_rules",version:2,createdAt:new Date().toISOString(),rules:n||[],groups:s||[],masterBlinkColor:c||"#f97316"},Ke=await fetch(Fn("/api/alert-rule-books"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:He,name:Pe.trim(),payload:Bt})}),st=await Ke.json().catch(()=>({}));if(!Ke.ok||!st.ok)throw new Error(st.error||Ke.statusText||"Failed to save rule book");const it=st.ruleBook;try{localStorage.setItem(Oh,String(it.id))}catch{}Qn(it.id);try{const G=await(await fetch(Fn("/api/alert-rule-books"))).json().catch(()=>({})),B=Array.isArray(G.ruleBooks)?G.ruleBooks:[];ln(B)}catch(j){console.error("[RuleBooks] Reload list failed:",j)}typeof window<"u"&&window.alert(te==="new"?"Rule book saved on server.":"Rule book updated on server.")}catch(Pe){console.error("[RuleBooks] Save failed:",Pe),typeof window<"u"&&window.alert((Pe==null?void 0:Pe.message)||"Failed to save rule book")}},[n,s,c,Yt,lt]),sn=x.useCallback(te=>{try{localStorage.setItem(Ew,JSON.stringify({books:te}))}catch{}},[]),bt=x.useCallback(te=>{if(!n||!n.length){window.alert("No rules to save. Create some rules first.");return}let Pe="",He=null;if(te==="new"){if(Pe=window.prompt("Enter a name for this rule book (saved on this device):"),!Pe||!Pe.trim())return;He="local_"+Date.now()}else if(te==="update"){const st=ze.find(it=>it.id===R);if(!st){window.alert("No local rule book is selected to update.");return}Pe=st.name,He=st.id}else return;const Bt={id:He,name:Pe.trim(),createdAt:new Date().toISOString(),rules:n||[],groups:s||[],masterBlinkColor:c||"#f97316"},Ke=te==="new"?[...ze,Bt]:ze.map(st=>st.id===He?Bt:st);Be(Ke),sn(Ke),ge(He);try{localStorage.setItem(Dh,String(He))}catch{}typeof window<"u"&&window.alert(te==="new"?"Rule book saved on this device.":"Rule book updated on this device.")},[n,s,c,ze,R,sn]),ot=x.useCallback(te=>{if(!te)return;const Pe=ze.find(Ke=>Ke.id===te);if(!Pe)return;let He=Array.isArray(Pe.rules)?Pe.rules:[],Bt=Array.isArray(Pe.groups)?Pe.groups:[];if(Bt.length===0&&He.length>0){const Ke="imported-"+Date.now();Bt=[{id:Ke,name:"Imported",color:Pe.masterBlinkColor&&/^#[0-9A-Fa-f]{6}$/.test(Pe.masterBlinkColor)?Pe.masterBlinkColor:"#f97316"}],He=He.map(st=>({...st,groupId:Ke}))}r(He),l(Bt),d(Pe.masterBlinkColor&&/^#[0-9A-Fa-f]{6}$/.test(Pe.masterBlinkColor)?Pe.masterBlinkColor:"#f97316"),ge(te);try{localStorage.setItem(Dh,String(te))}catch{}},[ze,r,l,d]),ct=x.useCallback(()=>{if(!(typeof window>"u"||!window.document))try{const te={type:"lab_single_trade_alert_rules",version:2,createdAt:new Date().toISOString(),rules:n||[],groups:s||[],masterBlinkColor:c||"#f97316"},Pe=JSON.stringify(te,null,2),He=new Blob([Pe],{type:"application/json"}),Bt=URL.createObjectURL(He),Ke=document.createElement("a");Ke.href=Bt;const st=new Date().toISOString().replace(/[:.]/g,"-");Ke.download=`lab-alert-rules-${st}.json`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),URL.revokeObjectURL(Bt)}catch(te){console.error("[AlertRules] Export failed:",te),typeof window<"u"&&window.alert("Failed to export rules. See console for details.")}},[n,s,c]),Wt=x.useCallback(()=>{me.current&&(me.current.value="",me.current.click())},[]),vn=x.useCallback(te=>{try{const Pe=te.target.files&&te.target.files[0];if(!Pe)return;const He=new FileReader;He.onload=Bt=>{var Ke;try{const st=String(((Ke=Bt.target)==null?void 0:Ke.result)||""),it=JSON.parse(st),j=Array.isArray(it)?it:Array.isArray(it==null?void 0:it.rules)?it.rules:null;if(!j){window.alert("Invalid script file: expected an array of rules.");return}let G=Array.isArray(it==null?void 0:it.groups)?it.groups:[],B=j;if(G.length===0){const q="imported-"+Date.now();G=[{id:q,name:"Imported",color:it!=null&&it.masterBlinkColor&&/^#[0-9A-Fa-f]{6}$/.test(it.masterBlinkColor)?it.masterBlinkColor:"#f97316"}],B=j.map(J=>({...J,groupId:q}))}else{const q=new Set(G.map(V=>V.id));B=j.map(V=>{var we;if(V.groupId&&q.has(V.groupId))return V;const J=(we=G[0])==null?void 0:we.id;return{...V,groupId:J||V.groupId}})}r(B),l(G),it!=null&&it.masterBlinkColor&&/^#[0-9A-Fa-f]{6}$/.test(it.masterBlinkColor)&&d(it.masterBlinkColor)}catch(st){console.error("[AlertRules] Import parse error:",st),window.alert("Failed to parse script file. See console for details.")}},He.readAsText(Pe)}catch(Pe){console.error("[AlertRules] Import failed:",Pe),typeof window<"u"&&window.alert("Failed to import rules. See console for details.")}},[r,l,d]);x.useEffect(()=>{try{localStorage.setItem("chartGridSetting_interval",JSON.stringify(E)),localStorage.setItem("chartGridSetting_showAllIntervals",JSON.stringify(k)),localStorage.setItem("chartGridSetting_layout",JSON.stringify(A)),localStorage.setItem("chartGridSetting_indicators",JSON.stringify(ee))}catch{}},[E,k,A,ee]);const Wn=k?Y:[E],gn=(e==null?void 0:e.height)??400,Pn=(e==null?void 0:e.width)??500,Dn=Y.join(","),pn=v.join(",");return x.useEffect(()=>{if(oe!=="tradingview"){re(!0);return}re(!1);const te=k?Y:[E],Pe=[];return v.forEach(Bt=>{te.forEach(Ke=>Pe.push({symbol:Bt,intv:Ke}))}),D$(()=>{if(typeof window>"u"||!window.TradingView){re(!0);return}Pe.forEach(({symbol:Bt,intv:Ke})=>{const st=Ke&&String(Ke).replace(/[^a-z0-9]/gi,"_")||"15m",it=`single_tv_${Bt}_${st}`,j=document.getElementById(it);if(j)try{j.innerHTML="",new window.TradingView.widget({container_id:it,autosize:!0,symbol:`BINANCE:${Bt}PERP`,interval:R$[Ke]||"15",timezone:"Etc/UTC",theme:"dark",style:"8",locale:"en",studies:ee,overrides:{volumePaneSize:ee.includes("Volume@tv-basicstudies")?"medium":"0","paneProperties.topMargin":10,"paneProperties.bottomMargin":15,"paneProperties.rightMargin":20,"scalesProperties.fontSize":11},studies_overrides:{"RSI@tv-basicstudies.length":9},hide_side_toolbar:!1,allow_symbol_change:!1,details:!0,withdateranges:!0,hideideas:!0,toolbar_bg:"#222",height:gn,width:Pn})}catch(G){console.warn("[Chart] Widget create error for",it,(G==null?void 0:G.message)||G)}}),re(!0)}),()=>{re(!0)}},[oe,E,k,Dn,ee,A,pn,gn,Pn]),o.jsxs("div",{className:"bg-[#111] rounded-lg p-4 text-white",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[o.jsxs("label",{children:["Interval:",o.jsx("select",{value:E,onChange:te=>wt(te.target.value),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:mw.map(te=>o.jsx("option",{value:te,children:te},te))})]}),o.jsx("button",{type:"button",onClick:()=>D(te=>!te),className:`px-3 py-1 rounded ${k?"bg-amber-600":"bg-[#333]"} hover:opacity-90`,children:"Show all intervals"}),o.jsxs("label",{children:["Layout:",o.jsxs("select",{value:A,onChange:te=>M(Number(te.target.value)),className:"ml-2 border rounded px-2 py-1 bg-[#222] text-white",children:[o.jsx("option",{value:1,children:"1 per row"}),o.jsx("option",{value:2,children:"2 per row"})]})]}),o.jsx("button",{type:"button",onClick:()=>z(!0),className:"px-3 py-1 rounded bg-[#333] hover:bg-[#444]",children:" Interval order"}),M$.map(te=>o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"checkbox",checked:ee.includes(te.key),onChange:Pe=>{se(He=>Pe.target.checked?[...He,te.key]:He.filter(Bt=>Bt!==te.key))}}),o.jsx("span",{children:te.label})]},te.key))]}),K&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",onClick:()=>z(!1),children:o.jsxs("div",{className:"bg-[#222] rounded-lg p-4 max-w-md w-full shadow-xl",onClick:te=>te.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Interval order (top to bottom)"}),o.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Reorder which interval appears first when "Show all intervals" is on.'}),o.jsx("div",{className:"flex flex-col gap-1 mt-2",children:Y.map((te,Pe)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-gray-500 w-6",children:[Pe+1,"."]}),o.jsx("span",{className:"flex-1",children:te}),o.jsx("button",{type:"button",disabled:Pe===0,onClick:()=>{const He=[...Y],[Bt]=He.splice(Pe,1);He.splice(Pe-1,0,Bt),Q(He)},className:"px-2 py-0.5 rounded bg-[#333] disabled:opacity-40 text-sm",children:""}),o.jsx("button",{type:"button",disabled:Pe===Y.length-1,onClick:()=>{const He=[...Y],[Bt]=He.splice(Pe,1);He.splice(Pe+1,0,Bt),Q(He)},className:"px-2 py-0.5 rounded bg-[#333] disabled:opacity-40 text-sm",children:""})]},te))}),o.jsx("div",{className:"flex justify-end mt-3",children:o.jsx("button",{type:"button",onClick:()=>z(!1),className:"px-3 py-1 rounded bg-teal-600",children:"Done"})})]})}),h&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:o.jsxs("div",{className:"bg-[#111] text-white rounded-2xl shadow-2xl max-w-5xl w-[96%] max-h-[90vh] overflow-auto p-4 sm:p-6 border border-violet-700/60",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 gap-3",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-violet-200",children:"Signal alert settings"}),o.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-2 py-1 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm",children:"Close"})]}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-300 mb-3",children:["Configure when a cell in the signals table should blink (like the Auto-Pilot button). Each rule matches a"," ",o.jsx("span",{className:"font-semibold text-violet-200",children:"Signal"}),","," ",o.jsx("span",{className:"font-semibold text-violet-200",children:"Interval"})," and"," ",o.jsx("span",{className:"font-semibold text-violet-200",children:"Candle row"})," (current / prev / prior)."]}),o.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-[#181818] border border-emerald-700/50 space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:"text-xs font-semibold text-emerald-200",children:"Rule books (saved on this device)"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-[11px] min-w-[160px]",value:R||"",onChange:te=>{const Pe=te.target.value;if(!Pe){ge(null);try{localStorage.removeItem(Dh)}catch{}return}ge(Pe),ot(Pe)},children:[o.jsx("option",{value:"",children:"(None selected)"}),ze.map(te=>o.jsx("option",{value:te.id,children:te.name},te.id))]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:[o.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-emerald-700 hover:bg-emerald-600",onClick:()=>bt("new"),children:"Save as new (this device)"}),o.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-blue-700 hover:bg-blue-600 disabled:opacity-40 disabled:cursor-not-allowed",disabled:!R,onClick:()=>bt("update"),children:"Update selected (this device)"}),o.jsx("span",{className:"text-[11px] text-gray-400",children:"Saved in this browser only. Works without logging in."})]})]}),o.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-[#181818] border border-violet-700/60 space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:"text-xs font-semibold text-violet-200",children:"Rule books (saved on server)"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-[11px] min-w-[160px]",value:lt||"",onChange:te=>{const Pe=te.target.value;if(!Pe){Qn(null);try{localStorage.removeItem(Oh)}catch{}return}const He=parseInt(Pe,10);Number.isFinite(He)&&(Qn(He),ht(He))},children:[o.jsx("option",{value:"",children:"(None selected)"}),Yt.map(te=>o.jsx("option",{value:te.id,children:te.name},te.id))]}),Yn&&o.jsx("span",{className:"text-[11px] text-gray-400",children:"Loading"}),$e&&o.jsx("span",{className:"text-[11px] text-amber-400",children:$e})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:[o.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-violet-700 hover:bg-violet-600",onClick:()=>$t("new"),children:"Save as new (server)"}),o.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-blue-700 hover:bg-blue-600 disabled:opacity-40 disabled:cursor-not-allowed",disabled:!lt,onClick:()=>$t("update"),children:"Update selected (server)"}),o.jsx("span",{className:"text-[11px] text-gray-400",children:'Requires login. Use "Saved on this device" above if you see Not logged in.'})]})]}),o.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-[#181818] border border-violet-700/60 flex flex-wrap items-center gap-3",children:[o.jsx("span",{className:"text-xs font-semibold text-violet-200",children:"Master blink color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",value:c||"#f97316",onChange:te=>d(te.target.value),className:"w-10 h-8 rounded border border-gray-600 cursor-pointer bg-[#111]",title:"Color for all blinking cells (unless overridden by group or rule)"}),o.jsx("input",{type:"text",value:c||"#f97316",onChange:te=>{const Pe=te.target.value.trim();(/^#[0-9A-Fa-f]{6}$/.test(Pe)||Pe==="")&&d(Pe||"#f97316")},className:"w-24 bg-[#111] border border-gray-700 rounded px-2 py-1 text-[11px] font-mono",placeholder:"#f97316"})]}),o.jsx("span",{className:"text-[11px] text-gray-400",children:"Default color for all alert cells. Groups and rules can override."})]}),o.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-[#181818] border border-violet-700/60 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-xs font-semibold text-violet-200",children:"Bulk create rules (multi-select)"}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[o.jsx("input",{type:"text",placeholder:"Group name (optional)",className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-[11px] w-56",value:Kt,onChange:te=>Ue(te.target.value)}),o.jsx("span",{className:"text-[10px] text-gray-400 whitespace-nowrap",children:"Group color:"}),o.jsx("input",{type:"color",value:Nn||"#f97316",onChange:te=>Xt(te.target.value),className:"w-8 h-7 rounded border border-gray-600 cursor-pointer bg-[#111]",title:"Blink color for this group"}),o.jsx("input",{type:"text",value:Nn||"",onChange:te=>{const Pe=te.target.value.trim();(/^#[0-9A-Fa-f]{6}$/.test(Pe)||Pe==="")&&Xt(Pe)},className:"w-20 bg-[#111] border border-gray-700 rounded px-1 py-0.5 text-[10px] font-mono",placeholder:"optional"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[xt&&o.jsx("span",{className:"text-[11px] text-amber-300",children:"Editing group"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs",value:P,onChange:te=>{const Pe=te.target.value;ce(Pe),Pe==="buy_sell"?Ze("BUY"):Pe==="inc_dec"?Ze("INCREASING"):Pe==="bull_bear"?Ze("BULL"):Pe==="red_green"?Ze("GREEN"):Pe==="trend_3"&&Ze("bull_trending")},children:[o.jsx("option",{value:"number",children:"Number"}),o.jsx("option",{value:"boolean",children:"True / False"}),o.jsx("option",{value:"string",children:"Text (any)"}),o.jsx("option",{value:"buy_sell",children:"Buy / Sell / None"}),o.jsx("option",{value:"inc_dec",children:"Increasing / Decreasing / None"}),o.jsx("option",{value:"bull_bear",children:"Bull / Bear / None"}),o.jsx("option",{value:"red_green",children:"Red / Green / None"}),o.jsx("option",{value:"trend_3",children:"Bull_trending / Flat / Bear_trending"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-[11px]",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-semibold text-gray-200",children:"Signals"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",className:"px-1.5 py-0.5 rounded bg-gray-700 hover:bg-gray-600",onClick:()=>We(Da.map(te=>te.key)),children:"All"}),o.jsx("button",{type:"button",className:"px-1.5 py-0.5 rounded bg-gray-700 hover:bg-gray-600",onClick:()=>We([]),children:"None"})]})]}),o.jsx("div",{className:"max-h-40 overflow-auto space-y-0.5 pr-1",children:Da.map(te=>o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"checkbox",className:"h-3 w-3",checked:je.includes(te.key),onChange:()=>We(Pe=>Pe.includes(te.key)?Pe.filter(He=>He!==te.key):[...Pe,te.key])}),o.jsx("span",{className:"truncate",children:te.label})]},te.key))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-semibold text-gray-200",children:"Intervals"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",className:"px-1.5 py-0.5 rounded bg-gray-700 hover:bg-gray-600",onClick:()=>Le([...ql]),children:"All"}),o.jsx("button",{type:"button",className:"px-1.5 py-0.5 rounded bg-gray-700 hover:bg-gray-600",onClick:()=>Le([]),children:"None"})]})]}),o.jsx("div",{className:"space-y-0.5",children:ql.map(te=>o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"checkbox",className:"h-3 w-3",checked:ae.includes(te),onChange:()=>Le(Pe=>Pe.includes(te)?Pe.filter(He=>He!==te):[...Pe,te])}),o.jsx("span",{children:te})]},te))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-semibold text-gray-200",children:"Candle rows"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",className:"px-1.5 py-0.5 rounded bg-gray-700 hover:bg-gray-600",onClick:()=>jt([...Xl]),children:"All"}),o.jsx("button",{type:"button",className:"px-1.5 py-0.5 rounded bg-gray-700 hover:bg-gray-600",onClick:()=>jt([]),children:"None"})]})]}),o.jsx("div",{className:"space-y-0.5",children:Xl.map(te=>o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"checkbox",className:"h-3 w-3",checked:Re.includes(te),onChange:()=>jt(Pe=>Pe.includes(te)?Pe.filter(He=>He!==te):[...Pe,te])}),o.jsx("span",{children:te})]},te))})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-[11px]",children:P==="boolean"?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Boolean value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:L?"true":"false",onChange:te=>F(te.target.value==="true"),children:[o.jsx("option",{value:"true",children:"true"}),o.jsx("option",{value:"false",children:"false"})]})]}):P==="string"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Condition"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:C,onChange:te=>H(te.target.value),children:[o.jsx("option",{value:"eq",children:"= equals"}),o.jsx("option",{value:"neq",children:" not equal"}),o.jsx("option",{value:"contains",children:"contains"}),o.jsx("option",{value:"not_contains",children:"not contains"}),o.jsx("option",{value:"starts_with",children:"starts with"}),o.jsx("option",{value:"ends_with",children:"ends with"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Text"}),o.jsx("input",{type:"text",className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:de,onChange:te=>tt(te.target.value)})]})]}):P==="buy_sell"?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:rt,onChange:te=>Ze(te.target.value),children:[o.jsx("option",{value:"BUY",children:"BUY"}),o.jsx("option",{value:"SELL",children:"SELL"}),o.jsx("option",{value:"NONE",children:"NONE"})]})]}):P==="inc_dec"?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:rt,onChange:te=>Ze(te.target.value),children:[o.jsx("option",{value:"INCREASING",children:"INCREASING"}),o.jsx("option",{value:"DECREASING",children:"DECREASING"}),o.jsx("option",{value:"NONE",children:"NONE"})]})]}):P==="bull_bear"?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:rt,onChange:te=>Ze(te.target.value),children:[o.jsx("option",{value:"BULL",children:"BULL"}),o.jsx("option",{value:"BEAR",children:"BEAR"}),o.jsx("option",{value:"NONE",children:"NONE"})]})]}):P==="red_green"?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:rt,onChange:te=>Ze(te.target.value),children:[o.jsx("option",{value:"GREEN",children:"GREEN"}),o.jsx("option",{value:"RED",children:"RED"}),o.jsx("option",{value:"NONE",children:"NONE"})]})]}):P==="trend_3"?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:rt,onChange:te=>Ze(te.target.value),children:[o.jsx("option",{value:"bull_trending",children:"bull_trending"}),o.jsx("option",{value:"flat",children:"flat"}),o.jsx("option",{value:"bear_trending",children:"bear_trending"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Condition"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:Et,onChange:te=>bn(te.target.value),children:[o.jsx("option",{value:">",children:">"}),o.jsx("option",{value:">=",children:">="}),o.jsx("option",{value:"<",children:"<"}),o.jsx("option",{value:"<=",children:"<="}),o.jsx("option",{value:"==",children:"="}),o.jsx("option",{value:"!=",children:""})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"uppercase tracking-wide text-gray-400",children:"Number"}),o.jsx("input",{type:"number",className:"bg-[#111] border border-gray-700 rounded px-2 py-1",value:Mt,onChange:te=>_n(te.target.value)})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-xs font-medium",onClick:()=>{if(!je.length||!ae.length||!Re.length){window.alert("Select at least one Signal, Interval and Candle row.");return}const te=Date.now(),Pe=xt||`grp_${te}_${Math.random().toString(36).slice(2,8)}`,He=[];je.forEach(st=>{ae.forEach(it=>{Re.forEach(j=>{const G={id:`${te}_${st}_${it}_${j}_${Math.random().toString(36).slice(2,8)}`,groupId:Pe,signalKey:st,interval:it,rowLabel:j,type:P};P==="boolean"?He.push({...G,boolValue:L}):P==="string"?He.push({...G,operator:C,stringValue:de}):P==="buy_sell"||P==="inc_dec"||P==="bull_bear"||P==="red_green"||P==="trend_3"?He.push({...G,enumValue:rt}):He.push({...G,operator:Et,threshold:Mt})})})});const Bt=Kt&&Kt.trim().length?Kt.trim():`Group ${s.length+(xt?0:1)}`,Ke=Nn&&/^#[0-9A-Fa-f]{6}$/.test(Nn)?Nn:null;xt?(r(st=>[...st.filter(it=>it.groupId!==xt),...He]),l(st=>st.map(it=>it.id===xt?{...it,name:Bt,color:Ke,type:P,signalKeys:[...je],intervals:[...ae],rows:[...Re],boolValue:L,stringOperator:C,stringValue:de,enumValue:rt,numberOperator:Et,numberThreshold:Mt}:it))):(r(st=>[...st,...He]),l(st=>[...st,{id:Pe,name:Bt,color:Ke,type:P,signalKeys:[...je],intervals:[...ae],rows:[...Re],boolValue:L,stringOperator:C,stringValue:de,enumValue:rt,numberOperator:Et,numberThreshold:Mt}])),Qt(null)},children:xt?"Update group":"Create rules"})})]}),s&&s.length>0&&o.jsxs("div",{className:"mb-3 text-[11px] space-y-1",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("span",{className:"font-semibold text-gray-200",children:["Groups (",s.length,")"]})}),o.jsx("div",{className:"space-y-1",children:s.map(te=>{var st,it,j,G,B,q;const Pe=(((st=te.signalKeys)==null?void 0:st.length)||0)*(((it=te.intervals)==null?void 0:it.length)||0)*(((j=te.rows)==null?void 0:j.length)||0),He=(n||[]).filter(V=>V.groupId===te.id),Bt=te.color&&/^#[0-9A-Fa-f]{6}$/.test(te.color)?te.color:null,Ke=He.some(V=>V.color!=null&&V.color!==Bt);return o.jsxs("div",{className:"flex items-center justify-between bg-[#181818] border border-gray-700 rounded-lg px-2 py-1.5",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-violet-200",children:te.name}),o.jsxs("span",{className:"text-gray-400",children:[((G=te.signalKeys)==null?void 0:G.length)||0," signals "," ",((B=te.intervals)==null?void 0:B.length)||0," intervals "," ",((q=te.rows)==null?void 0:q.length)||0," rows ="," ",o.jsx("span",{className:"text-gray-200 font-semibold",children:Pe})," ","rules"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-[10px] text-gray-400",children:"Color:"}),o.jsx("input",{type:"color",value:Bt||"#f97316",onChange:V=>{const J=V.target.value;l(we=>we.map(Ne=>Ne.id===te.id?{...Ne,color:J}:Ne))},className:"w-7 h-6 rounded border border-gray-600 cursor-pointer bg-[#111]",title:"Group blink color"}),o.jsx("button",{type:"button",title:Ke?"Reset all rules in this group to use group color":"No overrides to reset",disabled:!Ke,onClick:()=>{r(V=>V.map(J=>J.groupId===te.id?{...J,color:void 0}:J))},className:"px-2 py-0.5 rounded bg-amber-700 hover:bg-amber-600 disabled:opacity-40 disabled:cursor-not-allowed text-white text-[11px]",children:"Reset color"}),o.jsx("button",{type:"button",className:"px-2 py-0.5 rounded bg-emerald-700 hover:bg-emerald-600 text-white",onClick:()=>{Qt(te.id),Ue(te.name||""),Xt(te.color||""),ce(te.type||"number"),We(te.signalKeys||[]),Le(te.intervals||[]),jt(te.rows||[]),F(te.boolValue===void 0?!0:!!te.boolValue),H(te.stringOperator||"eq"),tt(te.stringValue||""),Ze(te.enumValue||"BUY"),bn(te.numberOperator||">="),_n(te.numberThreshold===void 0?0:te.numberThreshold)},children:"Edit"}),o.jsx("button",{type:"button",className:"px-2 py-0.5 rounded bg-red-700 hover:bg-red-600 text-white",onClick:()=>{window.confirm(`Delete group "${te.name}" and all its rules?`)&&(l(V=>V.filter(J=>J.id!==te.id)),r(V=>V.filter(J=>J.groupId!==te.id)),xt===te.id&&Qt(null))},children:"Delete"})]})]},te.id)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[o.jsxs("span",{className:"font-semibold text-gray-200",children:["Rules (",n.length,")"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-400",children:"Sort by:"}),o.jsx("button",{type:"button",className:`px-1.5 py-0.5 rounded ${Jt==="signalKey"?"bg-violet-700 text-white":"bg-[#222] text-gray-300"}`,onClick:()=>on("signalKey"),children:"Signal"}),o.jsx("button",{type:"button",className:`px-1.5 py-0.5 rounded ${Jt==="interval"?"bg-violet-700 text-white":"bg-[#222] text-gray-300"}`,onClick:()=>on("interval"),children:"Interval"}),o.jsx("button",{type:"button",className:`px-1.5 py-0.5 rounded ${Jt==="rowLabel"?"bg-violet-700 text-white":"bg-[#222] text-gray-300"}`,onClick:()=>on("rowLabel"),children:"Candle row"}),o.jsx("button",{type:"button",className:"ml-3 px-2 py-0.5 rounded bg-red-700 hover:bg-red-600 text-white",onClick:()=>{n.length&&window.confirm("Remove all alert rules?")&&r([])},children:"Remove all"})]})]}),(!n||n.length===0)&&o.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"No alert rules yet. Use bulk create or Add rule to create some."}),Ie.map((te,Pe)=>{var He,Bt;return o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-8 gap-2 items-center bg-[#181818] border border-gray-700 rounded-xl p-2 sm:p-3",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Signal"}),o.jsx("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.signalKey||((He=Da[0])==null?void 0:He.key)||"",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,signalKey:Ke.target.value}:it)),children:Da.map(Ke=>o.jsx("option",{value:Ke.key,children:Ke.label},Ke.key))})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Interval"}),o.jsx("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.interval||ql[0],onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,interval:Ke.target.value}:it)),children:ql.map(Ke=>o.jsx("option",{value:Ke,children:Ke},Ke))})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Candle row"}),o.jsx("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.rowLabel||Xl[0],onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,rowLabel:Ke.target.value}:it)),children:Xl.map(Ke=>o.jsx("option",{value:Ke,children:Ke},Ke))})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Type"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.type||"number",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,type:Ke.target.value}:it)),children:[o.jsx("option",{value:"number",children:"Number"}),o.jsx("option",{value:"boolean",children:"True / False"}),o.jsx("option",{value:"string",children:"Text (any)"}),o.jsx("option",{value:"buy_sell",children:"Buy / Sell / None"}),o.jsx("option",{value:"inc_dec",children:"Increasing / Decreasing / None"}),o.jsx("option",{value:"bull_bear",children:"Bull / Bear / None"}),o.jsx("option",{value:"red_green",children:"Red / Green / None"}),o.jsx("option",{value:"trend_3",children:"Bull_trending / Flat / Bear_trending"})]})]}),te.type==="boolean"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:String(te.boolValue??!0),onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,boolValue:Ke.target.value==="true"}:it)),children:[o.jsx("option",{value:"true",children:"true"}),o.jsx("option",{value:"false",children:"false"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:""}),o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.filter(st=>st.id!==te.id)),className:"mt-1 px-2 py-1 rounded bg-red-700 hover:bg-red-600 text-xs",children:"Remove"})]})]}):te.type==="string"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Condition"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.operator||"eq",onChange:Ke=>r(st=>st.map(it=>it.id===te.id?{...it,operator:Ke.target.value}:it)),children:[o.jsx("option",{value:"eq",children:"= equals"}),o.jsx("option",{value:"neq",children:" not equal"}),o.jsx("option",{value:"contains",children:"contains"}),o.jsx("option",{value:"not_contains",children:"not contains"}),o.jsx("option",{value:"starts_with",children:"starts with"}),o.jsx("option",{value:"ends_with",children:"ends with"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Text"}),o.jsx("input",{type:"text",className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.stringValue??"",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,stringValue:Ke.target.value}:it))})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:""}),o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.filter(st=>st.id!==te.id)),className:"mt-1 px-2 py-1 rounded bg-red-700 hover:bg-red-600 text-xs",children:"Remove"})]})]}):te.type==="buy_sell"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.enumValue??"BUY",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,enumValue:Ke.target.value}:it)),children:[o.jsx("option",{value:"BUY",children:"BUY"}),o.jsx("option",{value:"SELL",children:"SELL"}),o.jsx("option",{value:"NONE",children:"NONE"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:""}),o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.filter(st=>st.id!==te.id)),className:"mt-1 px-2 py-1 rounded bg-red-700 hover:bg-red-600 text-xs",children:"Remove"})]})]}):te.type==="inc_dec"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.enumValue??"INCREASING",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,enumValue:Ke.target.value}:it)),children:[o.jsx("option",{value:"INCREASING",children:"INCREASING"}),o.jsx("option",{value:"DECREASING",children:"DECREASING"}),o.jsx("option",{value:"NONE",children:"NONE"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:""}),o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.filter(st=>st.id!==te.id)),className:"mt-1 px-2 py-1 rounded bg-red-700 hover:bg-red-600 text-xs",children:"Remove"})]})]}):te.type==="bull_bear"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.enumValue??"BULL",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,enumValue:Ke.target.value}:it)),children:[o.jsx("option",{value:"BULL",children:"BULL"}),o.jsx("option",{value:"BEAR",children:"BEAR"}),o.jsx("option",{value:"NONE",children:"NONE"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:""}),o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.filter(st=>st.id!==te.id)),className:"mt-1 px-2 py-1 rounded bg-red-700 hover:bg-red-600 text-xs",children:"Remove"})]})]}):te.type==="red_green"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.enumValue??"GREEN",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,enumValue:Ke.target.value}:it)),children:[o.jsx("option",{value:"GREEN",children:"GREEN"}),o.jsx("option",{value:"RED",children:"RED"}),o.jsx("option",{value:"NONE",children:"NONE"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:""}),o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.filter(st=>st.id!==te.id)),className:"mt-1 px-2 py-1 rounded bg-red-700 hover:bg-red-600 text-xs",children:"Remove"})]})]}):te.type==="trend_3"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Value"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.enumValue??"bull_trending",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,enumValue:Ke.target.value}:it)),children:[o.jsx("option",{value:"bull_trending",children:"bull_trending"}),o.jsx("option",{value:"flat",children:"flat"}),o.jsx("option",{value:"bear_trending",children:"bear_trending"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:""}),o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.filter(st=>st.id!==te.id)),className:"mt-1 px-2 py-1 rounded bg-red-700 hover:bg-red-600 text-xs",children:"Remove"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Condition"}),o.jsxs("select",{className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.operator||">=",onChange:Ke=>r(st=>st.map(it=>it.id===te.id?{...it,operator:Ke.target.value}:it)),children:[o.jsx("option",{value:">",children:">"}),o.jsx("option",{value:">=",children:">="}),o.jsx("option",{value:"<",children:"<"}),o.jsx("option",{value:"<=",children:"<="}),o.jsx("option",{value:"==",children:"="}),o.jsx("option",{value:"!=",children:""})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Number"}),o.jsx("input",{type:"number",className:"bg-[#111] border border-gray-700 rounded px-2 py-1 text-xs sm:text-sm",value:te.threshold??"",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,threshold:Ke.target.value}:it))})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:""}),o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.filter(st=>st.id!==te.id)),className:"mt-1 px-2 py-1 rounded bg-red-700 hover:bg-red-600 text-xs",children:"Remove"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"Color"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"color",value:(te.color&&/^#[0-9A-Fa-f]{6}$/.test(te.color)?te.color:null)||((Bt=s==null?void 0:s.find(Ke=>Ke.id===te.groupId))==null?void 0:Bt.color)||c||"#f97316",onChange:Ke=>r(st=>st.map((it,j)=>it.id===te.id?{...it,color:Ke.target.value}:it)),className:"w-7 h-6 rounded border border-gray-600 cursor-pointer bg-[#111]",title:"Rule blink color (overrides group/master)"}),te.color&&/^#[0-9A-Fa-f]{6}$/.test(te.color)&&o.jsx("button",{type:"button",onClick:()=>r(Ke=>Ke.map(st=>st.id===te.id?{...st,color:void 0}:st)),className:"text-[10px] text-gray-400 hover:text-white",title:"Use group/master color",children:"Reset"})]})]})]},te.id||Pe)})]}),o.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{const te=Da[0];r(Pe=>[...Pe,{id:`${Date.now()}_${Math.random().toString(36).slice(2,8)}`,signalKey:(te==null?void 0:te.key)||"",interval:ql[0],rowLabel:Xl[0],type:"number",operator:">=",threshold:0}])},className:"px-3 py-1.5 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-sm font-medium",children:"Add rule"}),o.jsx("button",{type:"button",onClick:ct,className:"px-3 py-1.5 rounded-lg bg-blue-600 hover:bg-blue-700 text-sm font-medium",children:"Export script"}),o.jsx("button",{type:"button",onClick:Wt,className:"px-3 py-1.5 rounded-lg bg-amber-600 hover:bg-amber-700 text-sm font-medium",children:"Import script"}),o.jsx("input",{ref:me,type:"file",accept:".json,.txt,application/json,text/plain",className:"hidden",onChange:vn})]}),o.jsx("div",{className:"text-[11px] text-gray-400",children:"Rules are stored in your browser (localStorage). Export script to share, Import script to load."})]})]})}),o.jsxs("div",{className:"space-y-6 relative",children:[!Ee&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#111]/80 z-10 rounded-lg",children:o.jsx("span",{className:"text-white/90 text-sm",children:"Loading chart"})}),Ee&&oe==="tradingview"&&typeof window<"u"&&!window.TradingView&&o.jsx("div",{className:"flex items-center justify-center py-8 text-amber-400 text-sm",children:"Chart script could not load. Check network or disable ad blocker and refresh."}),Wn.filter(Boolean).map(te=>o.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${A}, minmax(0, 1fr))`},children:v.map(Pe=>{const He=te&&String(te).replace(/[^a-z0-9]/gi,"_")||"15m";return o.jsxs("div",{className:"bg-[#181818] rounded p-2 flex flex-col items-center",children:[o.jsxs("div",{className:"font-bold mb-1 text-white",children:[Pe,"  ",te]}),o.jsx("div",{id:`single_tv_${Pe}_${He}`,style:{width:"100%",height:e.height}})]},`${Pe}-${te}`)})},te))]})]})}function ZN({formattedRow:t,rawTrade:e}){var qt,tn,cn;const n=Xc(),[r,s]=x.useState(t||{}),[l,c]=x.useState(e??null),d=x.useMemo(()=>l?Uc(l,0):r||{},[l,r]),h=Object.keys(d).filter(Oe=>Oe!==""&&d[Oe]!=null&&String(d[Oe]).trim()!==""),g=(l==null?void 0:l.unique_id)!=null?String(l.unique_id):d.Unique_ID!=null?String(id(d.Unique_ID)).trim():null;x.useEffect(()=>{if(!g)return;const Oe=(()=>{try{const pt=localStorage.getItem(O$);if(pt!=null){const Z=parseInt(pt,10);if(!Number.isNaN(Z)&&Z>0)return Z}}catch{}return 60})();let Ye=!1,ye=!1;const Tt=async()=>{try{const pt=await Bn(`/api/trade?unique_id=${encodeURIComponent(g)}`);if(Ye)return;if(!pt.ok){pt.status===404&&(Q(!0),ye||(ye=!0,console.warn("[LAB] /api/trade returned 404  server may be down. Showing last known data. Restart backend: sudo systemctl restart lab-trading-dashboard")));return}Q(!1);const Z=await pt.json().catch(()=>({})),X=(Z==null?void 0:Z.trade)??null;if(Ye||!X)return;c(X),s(Uc(X,0))}catch(pt){ye||(ye=!0,console.warn("[LAB] /api/trade request failed:",(pt==null?void 0:pt.message)||pt))}};Tt();const Xe=setInterval(Tt,Oe*1e3);return()=>{Ye=!0,clearInterval(Xe)}},[g]);const p=(l==null?void 0:l.pair)||id(d.Pair)||xw(g)||"",v=p&&KN(p)||xw(g)||"BTCUSDT",[_,y]=x.useState(null),E=5*60*1e3;x.useEffect(()=>{const Oe=async()=>{try{const ye=await Bn(Fn("/api/calculate-signals"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:v,candle:"regular"})}),Tt=await ye.json().catch(()=>({}));if(!ye.ok){console.warn("[CalculateSignals]",(Tt==null?void 0:Tt.message)||ye.statusText);return}Tt!=null&&Tt.ok&&(Tt!=null&&Tt.intervals)&&y(Tt)}catch(ye){console.warn("[CalculateSignals]",(ye==null?void 0:ye.message)||ye)}};Oe();const Ye=setInterval(Oe,E);return()=>clearInterval(Ye)},[v]);const S=l&&(l.exist_in_exchange===!0||l.exist_in_exchange==="true"||l.exist_in_exchange===1||typeof l.exist_in_exchange=="string"&&parseFloat(l.exist_in_exchange)>0),[k,D]=x.useState(null),[A,M]=x.useState(0),[Y,Q]=x.useState(!1),[K,z]=x.useState(()=>{try{const Oe=localStorage.getItem(Jm);if(Oe){const Ye=JSON.parse(Oe);if(Array.isArray(Ye)&&Ye.length)return Ye}}catch{}return[]}),[ee,se]=x.useState(()=>{try{const Oe=localStorage.getItem(Km);if(Oe){const Ye=JSON.parse(Oe);if(Ye&&typeof Ye=="object")return Ye}}catch{}return{}}),[oe,Ee]=x.useState(!1);x.useEffect(()=>{var Oe;if((Oe=k==null?void 0:k.positions)!=null&&Oe.length){const Ye=Object.keys(k.positions[0]);z(ye=>{if(Array.isArray(ye)&&ye.length>0){const Tt=ye.filter(pt=>pt==="__actions__"||Ye.includes(pt)),Xe=Ye.filter(pt=>!Tt.includes(pt));return["__actions__",...Tt.filter(pt=>pt!=="__actions__"),...Xe]}return["__actions__",...Ye]}),se(ye=>{const Tt={...ye};return["__actions__",...Ye].forEach(Xe=>{Tt[Xe]===void 0&&(Tt[Xe]=!0)}),Tt})}},[k]);const re=60*1e3;x.useEffect(()=>{if(!S||!v){D(null);return}const Oe=async()=>{try{const Tt=await(await Bn(Fn(`/api/open-position?symbol=${encodeURIComponent(v)}`))).json().catch(()=>({}));Tt!=null&&Tt.ok?D(Tt):D({ok:!1,error:(Tt==null?void 0:Tt.message)||"Failed to fetch"})}catch(ye){D({ok:!1,error:(ye==null?void 0:ye.message)||"Network error"})}};Oe();const Ye=setInterval(Oe,re);return()=>clearInterval(Ye)},[S,v,A]);const[me,je]=x.useState(()=>{try{const Oe=localStorage.getItem(qm);if(Oe){const Ye=JSON.parse(Oe);if(Array.isArray(Ye)&&Ye.length)return Ye}}catch{}return null}),[We,ae]=x.useState(()=>{try{const Oe=localStorage.getItem(Gm);if(Oe){const Ye=JSON.parse(Oe);if(Array.isArray(Ye))return new Set(Ye)}}catch{}return null}),Le=me&&me.length?[...me.filter(Oe=>h.includes(Oe)),...h.filter(Oe=>!me.includes(Oe))]:h,Re=Le.filter(Oe=>!We||We.has(Oe));x.useEffect(()=>{if(!We||!h.length)return;const Oe=h.filter(Ye=>!We.has(Ye));Oe.length>0&&ae(Ye=>new Set([...Ye,...Oe]))},[h.join(",")]);const[jt,P]=x.useState(!1),[ce,L]=x.useState(!1),[F,C]=x.useState(!1),[H,de]=x.useState(()=>{try{const Oe=localStorage.getItem(Xm);if(Oe){const Ye=JSON.parse(Oe);if(Array.isArray(Ye)&&Ye.length===Zm.length&&Zm.every(ye=>Ye.includes(ye)))return Ye}}catch{}return[...Zm]}),[tt,rt]=x.useState(""),[Ze,Et]=x.useState({open:!1,type:null}),[bn,Mt]=x.useState(null),[_n,Jt]=x.useState(null),[on,Kt]=x.useState(null),[Ue,Nn]=x.useState(null),[Xt,xt]=x.useState(null),[Qt,Yt]=x.useState(null),[ln,lt]=x.useState(!1),Qn=x.useRef(null),Yn=x.useRef(null),he=x.useRef(null),$e=x.useRef(null),qe=x.useRef(null),ze=x.useRef(null),[Be,R]=sd(L$,Hs.infoGrid),[ge,Ie]=sd(F$,Hs.infoLeft),[wt,ht]=sd(I$,Hs.backData),[$t,sn]=sd(z$,Hs.backLeft),[bt,ot]=sd(P$,Hs.chart),[ct,Wt]=x.useState(()=>{try{const Oe=localStorage.getItem(yw);if(Oe!=null){const Ye=parseInt(Oe,10);if(!Number.isNaN(Ye))return Math.max(20,Math.min(80,Ye))}}catch{}return 50}),[vn,Wn]=x.useState(()=>{try{const Oe=localStorage.getItem(bw);if(Oe==="rowWise"||Oe==="intervalWise")return Oe}catch{}return"intervalWise"}),gn=x.useCallback((Oe,Ye)=>{try{localStorage.setItem(Oe,typeof Ye=="string"?Ye:JSON.stringify(Ye))}catch{}},[]);x.useEffect(()=>{gn(yw,ct)},[ct,gn]),x.useEffect(()=>{gn(bw,vn)},[vn,gn]);const[Pn,Dn,pn]=nd(td.infoLeft),[te,Pe,He]=nd(td.infoGrid),[Bt,Ke,st]=nd(td.backLeft),[it,j,G]=nd(td.backButtons),[B,q,V]=nd(td.chart),J=!!((qt=k==null?void 0:k.positions)!=null&&qt.length),we=J?["__actions__",...Object.keys(k.positions[0])]:[],Ne=K.length?K:we,xe=Ne.filter(Oe=>ee[Oe]!==!1),Se=xe.map(Oe=>Oe==="__actions__"?"Actions":Oe.replace(/([A-Z])/g," $1").trim()),De=Bt/100*14,gt=Math.max(8,Math.round(it/100*10)),[vt,Je]=x.useState(()=>{try{const Oe=localStorage.getItem(_w);if(Oe){const Ye=JSON.parse(Oe);if(Array.isArray(Ye))return Ye}}catch{}return[]}),[_t,Ht]=x.useState(()=>{try{const Oe=localStorage.getItem(Sw);if(Oe){const Ye=JSON.parse(Oe);if(Array.isArray(Ye))return Ye}}catch{}return[]}),[en,hn]=x.useState(()=>{try{const Oe=localStorage.getItem(ww);return Oe&&/^#[0-9A-Fa-f]{6}$/.test(Oe)?Oe:"#f97316"}catch{}return"#f97316"}),On=x.useRef(null);x.useEffect(()=>{if(!(on!=null&&on.symbol)||!(on!=null&&on.newAmount)){Nn(null);return}const Oe=parseFloat(on.newAmount);if(Number.isNaN(Oe)||Oe<=0){Nn(null);return}const Ye=setTimeout(async()=>{try{const ye=Fn(`/api/quantity-preview?symbol=${encodeURIComponent(on.symbol)}&invest=${encodeURIComponent(Oe)}`),Xe=await(await Bn(ye)).json().catch(()=>({}));Xe!=null&&Xe.ok&&Xe.quantity!=null?Nn(Xe.quantity):Nn(null)}catch{Nn(null)}},400);return()=>clearTimeout(Ye)},[on==null?void 0:on.symbol,on==null?void 0:on.newAmount]),x.useEffect(()=>{if(me&&me.length){try{localStorage.setItem(qm,JSON.stringify(me))}catch{}gn(qm,me)}},[me,gn]),x.useEffect(()=>{if(We&&We.size>0){try{localStorage.setItem(Gm,JSON.stringify([...We]))}catch{}gn(Gm,[...We])}},[We,gn]),x.useEffect(()=>{try{localStorage.setItem(Xm,JSON.stringify(H))}catch{}gn(Xm,H)},[H,gn]),x.useEffect(()=>{if(K.length>0){try{localStorage.setItem(Jm,JSON.stringify(K))}catch{}gn(Jm,K)}},[K,gn]),x.useEffect(()=>{if(Object.keys(ee).length>0){try{localStorage.setItem(Km,JSON.stringify(ee))}catch{}gn(Km,ee)}},[ee,gn]),x.useEffect(()=>{try{localStorage.setItem(_w,JSON.stringify(vt))}catch{}},[vt]),x.useEffect(()=>{try{localStorage.setItem(Sw,JSON.stringify(_t))}catch{}},[_t]),x.useEffect(()=>{try{en&&/^#[0-9A-Fa-f]{6}$/.test(en)&&localStorage.setItem(ww,en)}catch{}},[en]),x.useCallback(()=>{if(!(typeof window>"u"||!window.document))try{const Oe={type:"lab_single_trade_alert_rules",version:2,createdAt:new Date().toISOString(),masterBlinkColor:en||"#f97316",rules:vt||[],groups:_t||[]},Ye=JSON.stringify(Oe,null,2),ye=new Blob([Ye],{type:"application/json"}),Tt=URL.createObjectURL(ye),Xe=document.createElement("a");Xe.href=Tt;const pt=new Date().toISOString().replace(/[:.]/g,"-");Xe.download=`lab-alert-rules-${pt}.json`,document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe),URL.revokeObjectURL(Tt)}catch(Oe){console.error("[AlertRules] Export failed:",Oe),typeof window<"u"&&window.alert("Failed to export rules. See console for details.")}},[vt,_t,en]),x.useCallback(()=>{On.current&&(On.current.value="",On.current.click())},[]),x.useCallback(Oe=>{try{const Ye=Oe.target.files&&Oe.target.files[0];if(!Ye)return;const ye=new FileReader;ye.onload=Tt=>{var Xe;try{const pt=String(((Xe=Tt.target)==null?void 0:Xe.result)||""),Z=JSON.parse(pt),X=Array.isArray(Z)?Z:Array.isArray(Z==null?void 0:Z.rules)?Z.rules:null;if(!X){window.alert("Invalid script file: expected an array of rules.");return}let ve=Array.isArray(Z==null?void 0:Z.groups)?Z.groups:[],Nt=X;if(ve.length===0){const et="imported-"+Date.now();ve=[{id:et,name:"Imported",color:Z!=null&&Z.masterBlinkColor&&/^#[0-9A-Fa-f]{6}$/.test(Z.masterBlinkColor)?Z.masterBlinkColor:"#f97316"}],Nt=X.map(Gt=>({...Gt,groupId:et}))}else{const et=new Set(ve.map(ut=>ut.id));Nt=X.map(ut=>{var Ft;if(ut.groupId&&et.has(ut.groupId))return ut;const Gt=(Ft=ve[0])==null?void 0:Ft.id;return{...ut,groupId:Gt||ut.groupId}})}Je(Nt),Ht(ve),Z!=null&&Z.masterBlinkColor&&/^#[0-9A-Fa-f]{6}$/.test(Z.masterBlinkColor)&&hn(Z.masterBlinkColor)}catch(pt){console.error("[AlertRules] Import parse error:",pt),window.alert("Failed to parse script file. See console for details.")}},ye.readAsText(Ye)}catch(Ye){console.error("[AlertRules] Import failed:",Ye),typeof window<"u"&&window.alert("Failed to import rules. See console for details.")}},[]);const Cn={width:500,height:bt},kr=x.useCallback(async({password:Oe})=>{const Ye=$e.current,ye=((Ye==null?void 0:Ye.symbol)||v).toString().toUpperCase(),Tt=((Ye==null?void 0:Ye.amount)??"").toString().trim(),Xe=((Ye==null?void 0:Ye.stop_price)??"").toString().trim();if(!ye)throw new Error("Symbol not found");if(!Tt)throw new Error("Investment amount required");if(!Xe)throw new Error("Stop price required");const pt=Fn("/api/execute"),Z=await Bn(pt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:ye,amount:Tt,stop_price:Xe,position_side:"LONG",password:(Oe||"").trim()})}),X=await Z.json().catch(()=>({}));if(!Z.ok)throw new Error((X==null?void 0:X.message)||(X==null?void 0:X.error)||"Execute failed");if((X==null?void 0:X.ok)===!1)throw new Error((X==null?void 0:X.message)||"Execute failed");return $e.current=null,M(ve=>ve+1),{successMessage:(X==null?void 0:X.message)||"Order placed."}},[v,l==null?void 0:l.pair,d.Pair]),Ar=x.useCallback(async({password:Oe})=>{const Ye=Qn.current,ye=((Ye==null?void 0:Ye.symbol)||v).toString().toUpperCase();if(!ye)throw new Error("Symbol not found for this trade");const Tt=((Ye==null?void 0:Ye.positionSide)||"BOTH").toString().trim().toUpperCase(),Xe=(Ye==null?void 0:Ye.positionAmt)!=null?parseFloat(Ye.positionAmt):NaN,pt=!Number.isNaN(Xe)&&Xe!==0?Math.abs(Xe):void 0,Z=Fn("/api/end-trade"),X=await Bn(Z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({unique_id:l==null?void 0:l.unique_id,symbol:ye,position_side:["LONG","SHORT","BOTH"].includes(Tt)?Tt:"BOTH",quantity:pt!=null&&pt>0?pt:void 0,password:(Oe||"").trim()})}),ve=await X.json().catch(()=>({message:X.statusText}));if(!X.ok)throw new Error((ve==null?void 0:ve.message)||(ve==null?void 0:ve.error)||"Close trade failed");if((ve==null?void 0:ve.ok)===!1)throw new Error((ve==null?void 0:ve.message)||"Close trade failed");return Qn.current=null,M(Nt=>Nt+1),{successMessage:(ve==null?void 0:ve.message)||"Position closed."}},[l==null?void 0:l.unique_id,l==null?void 0:l.pair,v,d.Pair]),fr=x.useCallback(async({password:Oe})=>{const Ye=qe.current,ye=((Ye==null?void 0:Ye.symbol)||v).toString().toUpperCase(),Tt=((Ye==null?void 0:Ye.positionSide)||"LONG").toString().toUpperCase(),Xe=Ye==null?void 0:Ye.quantity;if(!ye)throw new Error("Symbol not found");if(Xe==null||Xe===""||Number(parseFloat(Xe))<=0)throw new Error("Quantity required");lt(!0);try{const pt=Fn("/api/hedge"),Z=await Bn(pt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:ye,position_side:Tt,quantity:Xe,password:(Oe||"").trim()})}),X=await Z.json().catch(()=>({}));if((X==null?void 0:X.ok)===!1)throw new Error((X==null?void 0:X.message)||"Hedge failed");if(!Z.ok)throw new Error((X==null?void 0:X.message)||(X==null?void 0:X.error)||"Hedge failed");return qe.current=null,M(ve=>ve+1),{successMessage:(X==null?void 0:X.message)||"Hedge order placed."}}finally{lt(!1)}},[v,l==null?void 0:l.pair,d.Pair]),or=x.useCallback(async({password:Oe,extraValue:Ye})=>{const ye=Yn.current,Tt=((ye==null?void 0:ye.symbol)||v).toString().trim().toUpperCase(),Xe=((ye==null?void 0:ye.positionSide)||"BOTH").toString().toUpperCase(),pt=((ye==null?void 0:ye.stopPrice)??Ye??tt??"").toString().trim();if(!Tt)throw new Error("Symbol not found");if(!pt)throw new Error("Stop price required");const Z=Fn("/api/stop-price"),X=await Bn(Z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:Tt,position_side:Xe,stop_price:pt,password:(Oe||"").trim()})}),ve=await X.json().catch(()=>({}));if(!X.ok)throw new Error((ve==null?void 0:ve.message)||(ve==null?void 0:ve.error)||"Set stop price failed");if((ve==null?void 0:ve.ok)===!1)throw new Error((ve==null?void 0:ve.message)||"Set stop price failed");return Yn.current=null,M(Nt=>Nt+1),{successMessage:(ve==null?void 0:ve.message)||"Stop price set."}},[v,tt]),Mr=x.useCallback(async({password:Oe})=>{const Ye=he.current,ye=((Ye==null?void 0:Ye.symbol)||v).toString().trim().toUpperCase(),Tt=((Ye==null?void 0:Ye.positionSide)||"LONG").toString().toUpperCase(),Xe=((Ye==null?void 0:Ye.amount)??"").toString().trim();if(!ye)throw new Error("Symbol not found");if(!Xe)throw new Error("Amount required");const pt=Fn("/api/add-investment"),Z=await Bn(pt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:ye,position_side:Tt,amount:Xe,password:(Oe||"").trim()})}),X=await Z.json().catch(()=>({}));if(!Z.ok)throw new Error((X==null?void 0:X.message)||(X==null?void 0:X.error)||"Add investment failed");if((X==null?void 0:X.ok)===!1)throw new Error((X==null?void 0:X.message)||"Add investment failed");return he.current=null,M(ve=>ve+1),{successMessage:(X==null?void 0:X.message)||"Investment added."}},[v]),yn=x.useCallback(async({password:Oe})=>{const ye=(ze.current||v).toString().toUpperCase();if(!ye)throw new Error("Symbol not found");const Tt=Fn("/api/close-order"),Xe=await Bn(Tt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:ye,password:(Oe||"").trim()})}),pt=await Xe.json().catch(()=>({message:Xe.statusText}));if(!Xe.ok)throw new Error(pt.message||pt.error||"Close order failed");if((pt==null?void 0:pt.ok)===!1)throw new Error(pt.message||"Close order failed");return ze.current=null,M(Z=>Z+1),{successMessage:pt.message||"The operation of cancel all open order is done."}},[v,l==null?void 0:l.pair,d.Pair]),ke=(l==null?void 0:l.auto)===!0||(l==null?void 0:l.auto)==="true"||(l==null?void 0:l.auto)===1,nt=x.useCallback(async({password:Oe,extraValue:Ye})=>{const ye=l==null?void 0:l.unique_id,Tt=l==null?void 0:l.machineid,Xe=Ye==="enable",pt=Fn("/api/autopilot"),Z=await Bn(pt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({unique_id:ye,machineid:Tt,password:(Oe||"").trim(),enabled:Xe})}),X=await Z.json().catch(()=>({message:Z.statusText}));if(!Z.ok){const ve=X.message||X.detail||X.error||Z.statusText;throw Z.status===404?new Error(X.message||"API endpoint not found. Is the server running? If using GitHub Pages, set API_BASE_URL and redeploy."):new Error(ve||`API error ${Z.status}`)}if(X&&X.ok===!1)throw new Error(X.message||"Autopilot update failed");try{const ve=await Bn(`/api/trade?unique_id=${encodeURIComponent(ye)}`);if(ve.ok){const Nt=await ve.json(),et=(Nt==null?void 0:Nt.trade)??null;et&&(c(et),s(Uc(et,0)))}}catch{}return X},[l==null?void 0:l.unique_id,l==null?void 0:l.machineid]),yt=x.useCallback(Oe=>{switch(Oe){case"execute":return kr;case"endTrade":return Ar;case"autoPilot":return nt;case"hedge":return fr;case"setStopPrice":return or;case"addInvestment":return Mr;case"clear":return yn;default:return async()=>{}}},[kr,Ar,nt,fr,or,Mr,yn]);return o.jsxs("div",{className:"fixed inset-0 flex flex-col bg-[#f5f6fa] dark:bg-[#0f0f0f] text-[#222] dark:text-white overflow-hidden w-full",children:[o.jsxs("div",{className:"flex-none flex items-center justify-between gap-2 px-3 sm:px-4 py-2 bg-[#181818] text-white border-b border-gray-700 shadow-md flex-wrap",children:[o.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-3 py-1.5 rounded-lg bg-teal-600 hover:bg-teal-700 font-medium transition-colors min-h-[40px] shrink-0",children:" Back"}),o.jsxs("span",{className:"font-semibold text-base sm:text-lg truncate min-w-0",children:["Live Trade  ",id(d.Pair)||"N/A"]}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 flex-wrap justify-end",children:[o.jsx(N$,{}),o.jsx(JN,{className:"px-3 py-1.5 rounded-lg bg-red-600 hover:bg-red-700 text-white text-sm font-semibold shrink-0"}),o.jsxs("button",{type:"button",onClick:()=>L(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-colors min-h-[40px] shrink-0",title:"Section order",children:[o.jsx(oF,{size:20}),"Layout"]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-3 sm:p-4 space-y-3 sm:space-y-4 min-h-0",children:[Y&&typeof window<"u"&&((cn=(tn=window.location)==null?void 0:tn.hostname)==null?void 0:cn.includes("github.io"))&&o.jsxs("div",{className:"rounded-lg bg-amber-100 dark:bg-amber-900/50 border border-amber-400 dark:border-amber-600 px-3 py-2 text-amber-900 dark:text-amber-100 text-sm",children:[o.jsx("strong",{children:"Backend returned 404."})," Data shown is from when you opened this trade. On the cloud server run: ",o.jsx("code",{className:"bg-amber-200/60 dark:bg-amber-800/60 px-1 rounded",children:"sudo systemctl restart lab-trading-dashboard"})," then refresh this page."]}),H.map(Oe=>{var Ye;return Oe==="information"?o.jsxs("section",{className:"rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#181a20] overflow-hidden shadow-lg flex-shrink-0 flex flex-col",style:{minHeight:200},children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-teal-800 to-teal-700 text-white font-semibold flex-shrink-0",children:[o.jsx("span",{className:"text-sm sm:text-base",children:"Information"}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-white/90 text-xs mr-1",children:"Grid zoom:"}),o.jsx(rd,{onDecrease:Pe,onIncrease:He,current:te,label:"Zoom grid",className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 text-white text-xs font-bold disabled:opacity-40"}),o.jsxs("button",{type:"button",onClick:()=>P(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-sm font-medium transition-colors min-h-[36px] sm:min-h-[40px]",children:[o.jsx(bF,{size:18}),"Settings"]}),o.jsxs("button",{type:"button",disabled:J,onClick:()=>{const ye=v.toString().toUpperCase(),Tt=(l==null?void 0:l.investment)!=null&&(l==null?void 0:l.investment)!==""?parseFloat(l.investment):parseFloat(String(d.Investment||"").replace(/[$,]/g,"")),Xe=Number.isFinite(Tt)?Tt:0,pt=(l==null?void 0:l.stop_price)!=null&&(l==null?void 0:l.stop_price)!==""?String(l.stop_price).trim():String(d.Stop_Price||"").replace(/,/g,"").trim();xt({symbol:ye,backInvest:Xe,liveInvest:Xe>0?String(Xe):"",stopPrice:pt})},className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-600 hover:via-green-600 hover:to-teal-600 text-white text-lg font-bold shadow-lg shadow-emerald-500/40 hover:shadow-emerald-500/50 hover:scale-105 active:scale-100 transition-all min-h-[48px] border-2 border-emerald-400/50 disabled:opacity-50 disabled:pointer-events-none disabled:hover:scale-100 disabled:cursor-not-allowed",title:J?"Disabled: position already exists in Binance Data":"Execute Trade in Exchange",children:[o.jsx(vF,{size:24,fill:"currentColor"}),J?"Disabled: position already exists in Binance Data":"Execute Trade in Exchange"]})]})]}),o.jsxs("div",{className:"flex min-h-0 p-3 sm:p-4 gap-0 flex-shrink-0",style:{height:Be},children:[o.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-xl flex flex-col overflow-hidden flex-shrink-0 bg-white dark:bg-[#0d0d0d]",style:{width:`${ct}%`,minHeight:ge,fontSize:`${Pn/100*11}px`},children:[o.jsxs("div",{className:"flex items-center gap-2 p-1.5 border-b border-gray-200 dark:border-gray-700 flex-shrink-0 flex-wrap",children:[o.jsx(rd,{onDecrease:Dn,onIncrease:pn,current:Pn,label:"Zoom",className:"min-w-[28px] min-h-[28px] flex items-center justify-center rounded bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 disabled:opacity-40 text-gray-800 dark:text-white text-xs font-bold"}),o.jsxs("span",{className:"text-xs font-semibold text-gray-600 dark:text-white truncate",children:[(_==null?void 0:_.symbol)||v," signals"]}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[(_==null?void 0:_.ok)&&(_==null?void 0:_.intervals)&&o.jsx("button",{type:"button",onClick:()=>Wn(ye=>ye==="intervalWise"?"rowWise":"intervalWise"),className:"px-2 py-1 rounded text-xs font-medium bg-teal-600 hover:bg-teal-700 text-white whitespace-nowrap",children:"Change view"}),o.jsx("button",{type:"button",onClick:()=>C(!0),className:"px-2 py-1 rounded text-xs font-medium bg-violet-600 hover:bg-violet-700 text-white whitespace-nowrap",children:"Alert settings"})]})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:_!=null&&_.ok&&(_!=null&&_.intervals)?(()=>{const ye=vn==="intervalWise",Tt=ye?ql.flatMap((et,ut)=>Xl.map(Gt=>({iv:et,label:Gt,rowIdx:kw[Gt]??0,groupKey:et,groupIndex:ut}))):Xl.flatMap((et,ut)=>ql.map(Gt=>({iv:Gt,label:et,rowIdx:kw[et]??0,groupKey:et,groupIndex:ut}))),Xe=ye?H$:U$,pt=et=>Xe[et]??"",Z=(et,ut)=>{if(et==null||typeof et!="object")return;if(Object.prototype.hasOwnProperty.call(et,ut)&&et[ut]!==void 0)return et[ut];const Gt=String(ut).toLowerCase(),Ft=Object.entries(et).find(([Ut])=>Ut!=null&&String(Ut).toLowerCase()===Gt);return Ft?Ft[1]:void 0},X=(et,ut)=>{if(!et)return!1;if(et.type==="boolean"){const Ut=ut===!0||ut==="true"||ut===1||ut==="1",Vn=et.boolValue===void 0?!0:!!et.boolValue;return Ut===Vn}if(et.type==="string"||et.type==="buy_sell"||et.type==="inc_dec"||et.type==="bull_bear"||et.type==="red_green"||et.type==="trend_3"){const Ut=(ut==null?"":String(ut)).toLowerCase().trim(),Ln=((et.type==="string"?et.stringValue:et.enumValue)??"").toString().toLowerCase().trim();switch(et.operator||"eq"){case"neq":return Ut!==Ln;case"contains":return Ut.includes(Ln);case"not_contains":return!Ut.includes(Ln);case"starts_with":return Ut.startsWith(Ln);case"ends_with":return Ut.endsWith(Ln);case"eq":default:return Ut===Ln}}const Gt=typeof ut=="number"?ut:parseFloat(ut);if(!Number.isFinite(Gt))return!1;const Ft=Number(et.threshold);switch(et.operator){case">":return Gt>Ft;case">=":return Gt>=Ft;case"<":return Gt<Ft;case"<=":return Gt<=Ft;case"==":return Gt===Ft;case"!=":return Gt!==Ft;default:return!1}},ve={};Da.forEach(({key:et})=>{ve[et]=0}),vt&&vt.length&&(_!=null&&_.intervals)&&Da.forEach(({key:et})=>{Tt.forEach(ut=>{var Kn;const Gt=(Kn=_.intervals[ut.iv])==null?void 0:Kn.summary,Ft=Array.isArray(Gt)?Gt:[],Ut=Z(Ft[ut.rowIdx],et),Vn=vt.filter(Rn=>Rn&&Rn.signalKey===et&&Rn.interval===ut.iv&&Rn.rowLabel===ut.label);if(!Vn.length)return;Vn.some(Rn=>X(Rn,Ut))&&(ve[et]=(ve[et]||0)+1)})});const Nt=[...Da].sort((et,ut)=>(ve[ut.key]||0)-(ve[et.key]||0));return o.jsxs("table",{className:"w-full border-collapse",style:{fontSize:"1em"},children:[o.jsx("thead",{className:"sticky top-0 bg-gray-100 dark:bg-gray-800 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-1 py-0.5 text-left font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap min-w-[80px]",children:"Signal"}),Tt.map((et,ut)=>o.jsxs("th",{className:`border border-gray-300 dark:border-gray-600 px-0.5 py-0.5 text-center font-medium text-gray-600 dark:text-white whitespace-nowrap ${pt(et.groupIndex)}`,children:[et.iv," ",et.label]},`${et.iv}-${et.label}-${ut}`))]})}),o.jsx("tbody",{children:Nt.map(({label:et,key:ut})=>{const Gt=Da.map(Ut=>Ut.label),Ft=Lx(et,Gt);return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[o.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-1 py-0.5 font-medium text-teal-700 dark:text-teal-400 whitespace-nowrap truncate max-w-[100px]",title:et,children:Ft}),Tt.map((Ut,Vn)=>{var hr,as;const Ln=(hr=_.intervals[Ut.iv])==null?void 0:hr.summary,Kn=Array.isArray(Ln)?Ln:[],Rn=Z(Kn[Ut.rowIdx],ut),rn=Rn!=null?typeof Rn=="number"?Number.isInteger(Rn)?String(Rn):((as=Rn.toFixed)==null?void 0:as.call(Rn,4))??String(Rn):String(Rn):"",Xr=pt(Ut.groupIndex),un=!vt||!vt.length?[]:vt.filter(mn=>mn&&mn.signalKey===ut&&mn.interval===Ut.iv&&mn.rowLabel===Ut.label),cs=un.some(mn=>X(mn,Rn)),dn=cs?un.find(mn=>X(mn,Rn)):null,mr=dn!=null&&dn.groupId&&_t?_t.find(mn=>mn.id===dn.groupId):null,ir=dn!=null&&dn.color&&/^#[0-9A-Fa-f]{6}$/.test(dn.color)?dn.color:mr!=null&&mr.color&&/^#[0-9A-Fa-f]{6}$/.test(mr.color)?mr.color:en&&/^#[0-9A-Fa-f]{6}$/.test(en)?en:"#f97316",Or=cs?{"--lab-alert-bg":ir,"--lab-alert-bg-peak":ir,"--lab-alert-shadow":((mn,Dr)=>{const nr=parseInt(mn.slice(1),16),bi=nr>>16&255,Jr=nr>>8&255,Te=nr&255;return`rgba(${bi},${Jr},${Te},${Dr})`})(ir,.9)}:void 0,vr=cs?"lab-alert-cell":"";return o.jsx("td",{className:`border border-gray-200 dark:border-gray-600 px-0.5 py-0.5 text-center text-gray-800 dark:text-white truncate max-w-[60px] ${Xr} ${vr}`,style:Or,title:rn,children:rn},`${Ut.iv}-${Ut.label}-${Vn}`)})]},ut)})})]})})():o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-white text-center p-2",children:"Loading signals"})})]}),o.jsx(q$,{leftPercent:ct,onChange:Wt,min:20,max:80}),o.jsx("div",{className:"min-w-0 flex-1 flex flex-col overflow-hidden",style:{width:`${100-ct}%`},children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3 overflow-y-auto pr-1 flex-1 min-h-0",style:{fontSize:`${te/100*14}px`},children:Re.map(ye=>o.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-gradient-to-br from-gray-50 to-white dark:from-[#1e1e1e] dark:to-[#252525] p-3 shadow-sm hover:shadow-md hover:border-teal-400/50 dark:hover:border-teal-500/50 transition-all",children:[o.jsx("div",{className:"font-semibold uppercase tracking-wide text-teal-700 dark:text-teal-400 mb-1 truncate",style:{fontSize:"1em"},title:ye.replace(/_/g," "),children:ye.replace(/_/g," ")}),o.jsx("div",{className:"font-medium text-[#222] dark:text-white break-words leading-snug max-h-14 overflow-hidden",style:{fontSize:"1em"},title:id(d[ye]),children:id(d[ye])})]},ye))})})]}),o.jsx(Qm,{value:Be,min:Hs.infoGrid.min,max:Hs.infoGrid.max,onChange:R,label:"Drag to resize Information section height"})]},"information"):Oe==="binanceData"?o.jsxs("section",{className:"rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#181a20] overflow-hidden shadow-lg flex-shrink-0 flex flex-col relative",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-teal-800 to-teal-700 text-white font-semibold flex-shrink-0",children:[o.jsx("span",{className:"text-sm sm:text-base",children:"Binance Data"}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-white/90 text-xs mr-1",children:"Zoom:"}),o.jsx(rd,{onDecrease:Ke,onIncrease:st,current:Bt,label:"Zoom Binance table",className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 text-white text-xs font-bold disabled:opacity-40"}),o.jsx("span",{className:"text-white/90 text-xs mr-1 ml-1",children:"Buttons:"}),o.jsx(rd,{onDecrease:j,onIncrease:G,current:it,label:"Binance button size",className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 text-white text-xs font-bold disabled:opacity-40"}),(Ye=k==null?void 0:k.positions)!=null&&Ye.length?o.jsxs("button",{type:"button",onClick:()=>Ee(ye=>!ye),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-xs font-semibold shadow-sm border border-teal-200/60",title:"Reorder / show or hide Binance columns",children:["",o.jsx("span",{children:"Settings"})]}):null]})]}),o.jsx("div",{className:"flex min-h-0 p-3 sm:p-4 flex-shrink-0",style:{height:wt},children:o.jsx("div",{className:"w-full border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-800 dark:text-white bg-gray-50 dark:bg-[#0d0d0d] overflow-hidden flex-shrink-0",style:{minHeight:$t},children:o.jsx("div",{className:"flex flex-col gap-2 mb-2 flex-wrap justify-center p-2 overflow-auto w-full",children:S?(k==null?void 0:k.ok)===!1?o.jsx("span",{className:"text-amber-600 dark:text-amber-400 text-center",children:(k==null?void 0:k.error)||"Failed to fetch"}):J?o.jsxs("div",{className:"relative overflow-auto w-full",children:[oe&&o.jsx(G$,{columns:Ne,setColumns:z,visibility:ee,setVisibility:se,onClose:()=>Ee(!1)}),o.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-teal-100 dark:bg-teal-900/40",children:xe.map((ye,Tt)=>{const Xe=Se[Tt],pt=ye==="__actions__"?Xe:Lx(Xe,Se);return o.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1 text-left font-medium text-teal-800 dark:text-teal-200 whitespace-nowrap max-w-[80px] truncate",title:Xe,children:o.jsxs("div",{className:"flex flex-col leading-tight",style:{fontSize:`${De}px`},children:[o.jsx("span",{className:"truncate",children:pt}),pt!==Xe&&o.jsx("span",{className:"text-[10px] text-teal-700/80 dark:text-teal-200/80 truncate",children:Xe})]})},ye)})})}),o.jsx("tbody",{children:k.positions.map((ye,Tt)=>{const Xe=(Z,X)=>{if(X==null)return"";const ve=parseFloat(X);return!isNaN(ve)&&typeof X!="boolean"?Z.toLowerCase().includes("price")||Z.toLowerCase().includes("notional")||Z.toLowerCase().includes("margin")||Z.toLowerCase().includes("profit")||Number.isInteger(ve)||Z.toLowerCase().includes("amt")||Z.toLowerCase().includes("qty")?ve.toFixed(4):ve.toFixed(2):typeof X=="boolean"?X?"":"":typeof X=="object"?JSON.stringify(X):String(X)},pt=xe;return o.jsx("tr",{className:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] hover:bg-gray-50 dark:hover:bg-[#252525]",children:pt.map(Z=>{var Nt,et,ut;if(Z==="__actions__")return o.jsx("td",{className:"border border-gray-200 dark:border-gray-700 px-2 py-1 whitespace-nowrap",style:{fontSize:`${gt}px`},children:o.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.jsx("button",{type:"button",onClick:()=>Et({open:!0,type:"autoPilot",autoEnable:!ke}),className:"px-2 py-0.5 rounded bg-violet-600 hover:bg-violet-700 text-white font-semibold",title:ke?"Disable Auto-Pilot":"Enable Auto-Pilot",children:ke?"Auto Disable":"Auto Enable"}),o.jsx("button",{type:"button",onClick:()=>{const Gt=(ye.symbol||v).toString().toUpperCase(),Ft=ye.positionSide??"BOTH",Ut=ye.positionAmt!=null?parseFloat(ye.positionAmt):NaN,Vn=!Number.isNaN(Ut)&&Ut!==0?Math.abs(Ut):0;Qn.current={symbol:ye.symbol||v,positionSide:Ft,positionAmt:ye.positionAmt},Mt({symbol:Gt,action:"Close Trade",positionSide:Ft,quantity:Vn})},className:"px-2 py-0.5 rounded bg-red-600 hover:bg-red-700 text-white font-semibold",title:"End Trade",children:"Close Trade"}),o.jsx("button",{type:"button",disabled:((Nt=k==null?void 0:k.positions)==null?void 0:Nt.length)>=2||ln,onClick:()=>{const Gt=(ye.symbol||v).toString().trim().toUpperCase(),Ft=(ye.positionSide||"LONG").toString().toUpperCase(),Ut=ye.positionAmt!=null?parseFloat(ye.positionAmt):NaN,Vn=Number.isFinite(Ut)&&Ut!==0?Math.abs(Ut):0;Yt({symbol:Gt,currentPositionSide:Ft,oppositePositionSide:Ft==="LONG"?"SHORT":"LONG",orderSide:Ft==="LONG"?"SELL":"BUY",quantity:Vn})},className:"px-2 py-0.5 rounded bg-amber-600 hover:bg-amber-700 text-white font-semibold disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",title:ln?"Placing":((et=k==null?void 0:k.positions)==null?void 0:et.length)>=2?"Already hedged (LONG + SHORT)":"Hedge",children:ln?"":((ut=k==null?void 0:k.positions)==null?void 0:ut.length)>=2?"Hedged":"Hedge"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",inputMode:"decimal",step:"any",value:tt,onChange:Gt=>rt(Gt.target.value),placeholder:"Stop",autoComplete:"off",className:"border border-gray-400 dark:border-gray-600 rounded px-1 py-0.5 bg-white dark:bg-[#222] w-25"}),o.jsx("button",{type:"button",onClick:()=>{const Gt=(ye.symbol||v).toString().trim().toUpperCase(),Ft=ye.positionSide??"BOTH";Jt({action:"Set Stop Price",symbol:Gt,positionSide:Ft,stopPrice:tt.trim()})},className:"px-2 py-0.5 rounded bg-red-600 hover:bg-red-700 text-white font-semibold",title:"Set Stop Price",children:"Set Stop Price"})]}),o.jsx("button",{type:"button",onClick:()=>{const Gt=(ye.symbol||v).toString().trim().toUpperCase(),Ft=ye.positionSide??"LONG",Ut=ye.notional!=null?parseFloat(ye.notional):NaN,Vn=ye.entryPrice!=null?parseFloat(ye.entryPrice):NaN,Ln=ye.positionAmt!=null?parseFloat(ye.positionAmt):0,Kn=Math.abs(Ln),Rn=!Number.isNaN(Ut)&&Ut>0?Ut:!Number.isNaN(Vn)&&Vn>0&&Kn>0?Vn*Kn:0;Nn(null),Kt({symbol:Gt,positionSide:Ft,oldInvestment:Rn,oldQuantity:Kn,newAmount:""})},className:"px-2 py-0.5 rounded bg-emerald-600 hover:bg-emerald-700 text-white font-semibold",title:"Add Investment",children:"+Inv"}),o.jsx("button",{type:"button",onClick:()=>{ze.current=(ye.symbol||v).toString().trim().toUpperCase(),Et({open:!0,type:"clear"})},className:"px-2 py-0.5 rounded bg-slate-600 hover:bg-slate-700 text-white font-semibold",title:"Clear open orders (TP/SL) for this symbol  calls main_binance.closeOrder(symbol)",children:"Clear Order"})]})},"__actions__");const X=parseFloat(ye.unRealizedProfit||0),ve=Z==="unRealizedProfit"?X<0?"text-red-600 font-medium":"text-green-600 font-medium":"";return o.jsx("td",{className:`border border-gray-200 dark:border-gray-700 px-2 py-1 ${ve}`,style:{fontSize:`${De}px`},children:Xe(Z,ye[Z])},Z)})},Tt)})})]})]}):S&&(k!=null&&k.ok)?o.jsxs("span",{className:"text-gray-500 dark:text-white text-center",children:["No open position for ",v]}):o.jsx("span",{className:"text-gray-500 dark:text-white text-center",children:"Loading exchange data"}):o.jsx("span",{className:"text-gray-500 dark:text-white text-center",children:"Trade not in exchange  no live data"})})})}),o.jsx(Qm,{value:wt,min:Hs.backData.min,max:Hs.backData.max,onChange:ht,label:"Drag to resize Binance Data section height"})]},"binanceData"):o.jsxs("section",{className:"rounded-xl border border-gray-300 dark:border-gray-700 overflow-hidden shadow-lg flex-1 min-h-[240px] flex flex-col",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-teal-800 to-teal-700 text-white font-semibold flex-shrink-0",children:[o.jsx("span",{className:"text-sm sm:text-base",children:"Chart"}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx("span",{className:"text-white/90 text-xs",children:"Height:"}),o.jsxs("div",{className:"flex items-center gap-1",title:"Chart height",children:[o.jsx("button",{type:"button",onClick:()=>ot(ye=>Math.max(Hs.chart.min,ye-Hs.chart.step)),disabled:bt<=Hs.chart.min,className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 disabled:opacity-40 text-white text-lg font-bold","aria-label":"Decrease chart height",children:""}),o.jsx("button",{type:"button",onClick:()=>ot(ye=>Math.min(Hs.chart.max,ye+Hs.chart.step)),disabled:bt>=Hs.chart.max,className:"min-w-[32px] min-h-[32px] flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 disabled:opacity-40 text-white text-lg font-bold","aria-label":"Increase chart height",children:"+"})]}),o.jsx(rd,{onDecrease:q,onIncrease:V,current:B,label:"Zoom chart labels"})]})]}),o.jsx("div",{className:"p-3 sm:p-4 flex-1 min-h-0 overflow-auto overflow-x-auto",style:{fontSize:`${B/100*14}px`,minHeight:bt},children:o.jsx(X$,{tradePair:p,chartSize:Cn,alertRules:vt,setAlertRules:Je,alertRuleGroups:_t,setAlertRuleGroups:Ht,masterBlinkColor:en,setMasterBlinkColor:hn,showAlertSettings:F,setShowAlertSettings:C})}),o.jsx(Qm,{value:bt,min:Hs.chart.min,max:Hs.chart.max,onChange:ot,label:"Drag to resize Chart section height"})]},"chart")})]}),jt&&o.jsx(V$,{orderedKeys:Le,allKeys:h,visibleKeys:We,setVisibleKeys:ae,setFieldOrder:je,onClose:()=>P(!1)}),ce&&o.jsx(Y$,{sectionOrder:H,setSectionOrder:de,onClose:()=>L(!1)}),bn&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>{Mt(null),Qn.current=null},children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl border border-gray-200 dark:border-gray-700",onClick:Oe=>Oe.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-900 dark:text-white",children:"Confirm close position"}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Action"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:bn.action})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Symbol"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:bn.symbol})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Position side"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:bn.positionSide})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Quantity"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:bn.quantity})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>{Mt(null),Qn.current=null},className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white font-medium hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{Et({open:!0,type:"endTrade",positionSide:bn.positionSide}),Mt(null)},className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:"OK"})]})]})}),Qt&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Yt(null),children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-md w-full shadow-xl border border-gray-200 dark:border-gray-700",onClick:Oe=>Oe.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-900 dark:text-white",children:"Execute opposite trade (Hedge)"}),o.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400 mb-4",children:["You have ",o.jsx("strong",{children:Qt.currentPositionSide}),". We will place ",o.jsx("strong",{children:Qt.oppositePositionSide})," (",Qt.orderSide,") with same quantity."]}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Symbol"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Qt.symbol})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Current position side"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Qt.currentPositionSide})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Opposite position side"}),o.jsxs("span",{className:"font-medium text-emerald-600 dark:text-emerald-400",children:[Qt.oppositePositionSide," (",Qt.orderSide,")"]})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Quantity"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Qt.quantity})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>Yt(null),className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white font-medium hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{qe.current={symbol:Qt.symbol,positionSide:Qt.currentPositionSide,quantity:Qt.quantity},Et({open:!0,type:"hedge",hedgeSummary:`${Qt.symbol} ${Qt.oppositePositionSide} qty ${Qt.quantity}`}),Yt(null)},className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-700 text-white font-medium",children:"OK"})]})]})}),Xt&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>xt(null),children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-md w-full shadow-xl border border-gray-200 dark:border-gray-700",onClick:Oe=>Oe.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-900 dark:text-white",children:"Execute Trade in Exchange"}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Symbol"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Xt.symbol})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Back Invest (USDT)"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(Xt.backInvest||0).toFixed(2)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Live Invest (USDT)"}),o.jsx("input",{type:"number",inputMode:"decimal",step:"any",min:"0",value:Xt.liveInvest,onChange:Oe=>xt(Ye=>Ye?{...Ye,liveInvest:Oe.target.value.trim()}:null),placeholder:"0",autoComplete:"off",className:"flex-1 border border-gray-400 dark:border-gray-600 rounded px-2 py-1.5 bg-white dark:bg-[#333] text-gray-900 dark:text-white"})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Stop price"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Xt.stopPrice||""})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>xt(null),className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white font-medium hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),o.jsx("button",{type:"button",disabled:!Xt.liveInvest||parseFloat(Xt.liveInvest)<=0,onClick:()=>{$e.current={symbol:Xt.symbol,amount:Xt.liveInvest.trim(),stop_price:Xt.stopPrice.trim()},Et({open:!0,type:"execute"}),xt(null)},className:"px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"OK"})]})]})}),on&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>{Kt(null),Nn(null)},children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-md w-full shadow-xl border border-gray-200 dark:border-gray-700",onClick:Oe=>Oe.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-900 dark:text-white",children:"Add Investment"}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Symbol"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:on.symbol})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Position side"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:on.positionSide})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Old investment (USDT)"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(on.oldInvestment||0).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Old quantity"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(on.oldQuantity||0).toFixed(4)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"New investment (USDT)"}),o.jsx("input",{type:"number",inputMode:"decimal",step:"any",min:"0",value:on.newAmount,onChange:Oe=>Kt(Ye=>Ye?{...Ye,newAmount:Oe.target.value.trim()}:null),placeholder:"0",autoComplete:"off",className:"flex-1 border border-gray-400 dark:border-gray-600 rounded px-2 py-1.5 bg-white dark:bg-[#333] text-gray-900 dark:text-white"})]}),on.newAmount&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total investment (USDT)"}),o.jsx("span",{className:"font-medium text-emerald-600 dark:text-emerald-400",children:(parseFloat(on.oldInvestment||0)+parseFloat(on.newAmount||0)).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"New quantity"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ue!=null?Ue.toFixed(4):""})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total quantity"}),o.jsx("span",{className:"font-medium text-emerald-600 dark:text-emerald-400",children:Ue!=null?((on.oldQuantity||0)+Ue).toFixed(4):""})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>{Kt(null),Nn(null)},className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white font-medium hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),o.jsx("button",{type:"button",disabled:!on.newAmount||parseFloat(on.newAmount)<=0,onClick:()=>{he.current={symbol:on.symbol,positionSide:on.positionSide,amount:on.newAmount.trim()},Et({open:!0,type:"addInvestment"}),Kt(null),Nn(null)},className:"px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"OK"})]})]})}),_n&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Jt(null),children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl border border-gray-200 dark:border-gray-700",onClick:Oe=>Oe.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-900 dark:text-white",children:"Confirm set stop price"}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Action"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_n.action})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Symbol"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_n.symbol})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Position side"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_n.positionSide})]}),o.jsxs("div",{className:"flex justify-between gap-4",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Stop price"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_n.stopPrice||""})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>Jt(null),className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-white font-medium hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),o.jsx("button",{type:"button",disabled:!_n.stopPrice,onClick:()=>{Yn.current={symbol:_n.symbol,positionSide:_n.positionSide,stopPrice:_n.stopPrice},Et({open:!0,type:"setStopPrice",stopPrice:_n.stopPrice}),Jt(null)},className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"OK"})]})]})}),o.jsx(W$,{open:Ze.open,onClose:()=>{Ze.type==="endTrade"&&(Qn.current=null),Ze.type==="setStopPrice"&&(Yn.current=null),Ze.type==="addInvestment"&&(he.current=null),Ze.type==="execute"&&($e.current=null),Ze.type==="hedge"&&(qe.current=null),Ze.type==="clear"&&(ze.current=null),Et({open:!1,type:null})},actionType:Ze.type,requireAmount:!1,amountLabel:Ze.type==="execute"?"Amount":"Investment amount",amountPlaceholder:(Ze.type==="execute","0"),extraLabel:Ze.type==="setStopPrice"?"Stop price":Ze.type==="autoPilot"?"Action":Ze.type==="endTrade"?"Position side":Ze.type==="hedge"?"Hedge":void 0,extraValue:Ze.type==="setStopPrice"?Ze.stopPrice??tt:Ze.type==="autoPilot"?Ze.autoEnable?"enable":"disable":Ze.type==="endTrade"?Ze.positionSide||"BOTH":Ze.type==="hedge"?Ze.hedgeSummary:void 0,onConfirm:Ze.type?yt(Ze.type):void 0})]})}const J$=({gridPreview:t,filterBar:e})=>o.jsx("div",{style:{padding:"12px 16px",position:"relative"},children:o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:16,marginBottom:8,width:"100%",minWidth:0},children:[o.jsx("div",{style:{minWidth:220,minHeight:180},children:t}),o.jsx("div",{style:{flex:1,minWidth:0,maxWidth:"100%",overflowX:"auto",background:"rgba(255,255,255,0.04)",borderRadius:16,border:"1.5px solid #333",padding:8,marginLeft:0},children:o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16,width:"100%",minWidth:0},children:e})})]})});function K$(){return new URLSearchParams(Ji().search)}const Tw=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],Nw=["1m","3m","5m","15m","30m","1h","4h","1d"],ad=[{label:"ID",value:"id"},{label:"UID",value:"uid"},{label:"Source",value:"source"},{label:"PL After Comm",value:"Pl_after_comm"},{label:"Plain Message",value:"plain_message"},{label:"JSON Message",value:"json_message"},{label:"Timestamp",value:"timestamp"},{label:"Machine ID",value:"machine_id"}],Z$=[{label:"Machine ID",value:"MachineId"},{label:"Unique IDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",value:"Unique_id"},{label:"Candle Time",value:"Candel_time"},{label:"Fetcher Trade Time",value:"Fetcher_Trade_time"},{label:"Operator Trade Time",value:"Operator_Trade_time"},{label:"Pair",value:"Pair"},{label:"Interval",value:"Interval"},{label:"Action",value:"Action"},{label:"PL After Comm",value:"Pl_after_comm"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Type",value:"Type"},{label:"Operator Close Time",value:"Operator_Close_time"},{label:"Signal From",value:"SignalFrom"},{label:"Profit Journey",value:"Profit_journey"},{label:"Commission Journey",value:"Commision_journey"},{label:"Stop Price",value:"Stop_price"},{label:"Save Price",value:"Save_price"},{label:"Min Comm",value:"Min_comm"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1 Bool",value:"Hedge_1_1_bool"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Min Profit",value:"Min_profit"},{label:"Buy Qty",value:"Buy_qty"},{label:"Buy Price",value:"Buy_price"},{label:"Buy PL",value:"Buy_pl"},{label:"Added Qty",value:"Added_qty"},{label:"Sell Qty",value:"Sell_qty"},{label:"Sell Price",value:"Sell_price"},{label:"Sell PL",value:"Sell_pl"},{label:"Close Price",value:"Close_price"},{label:"Commission",value:"Commission"},{label:"Investment",value:"Investment"},{label:"Swing1",value:"Swing1"},{label:"Swing2",value:"Swing2"},{label:"Swing3",value:"Swing3"},{label:"Swing4",value:"Swing4"},{label:"Swing5",value:"Swing5"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Temp High Point",value:"Temp_High_Point"},{label:"Temp Low Point",value:"Temp_Low_Point"}],Cw="LABEL_ROW";function Q$({item:t,index:e,moveLabel:n,children:r,onHover:s,onDrop:l}){const c=qr.useRef(null),[,d]=ov({accept:Cw,hover(p){p.index!==e&&(n(p.index,e),p.index=e,s&&s())},drop(){l&&l()}}),[{isDragging:h},g]=lv({type:Cw,item:{index:e},collect:p=>({isDragging:p.isDragging()})});return g(d(c)),o.jsx("div",{ref:c,style:{opacity:h?.5:1,cursor:"grab",width:"auto",minWidth:160,maxWidth:340,flex:"1 1 220px",marginBottom:0,background:"inherit",boxSizing:"border-box",display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:r})}function eW({items:t,moveLabel:e,renderRow:n,activeJsonLabels:r,setActiveJsonLabels:s,showUnchecked:l,dragOverIndex:c,setDragOverIndex:d}){return o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12,width:"100%",alignItems:"flex-start",justifyContent:"flex-start",boxSizing:"border-box",minHeight:60,position:"relative"},children:t.map((h,g)=>o.jsxs("div",{style:{position:"relative",minWidth:220,maxWidth:340,flex:"1 1 220px",boxSizing:"border-box",marginBottom:0,display:"flex"},children:[c===g&&o.jsxs("div",{style:{position:"absolute",top:-8,left:0,width:"100%",height:0,zIndex:10,pointerEvents:"none",display:"flex",alignItems:"center"},children:[o.jsx("div",{style:{width:32,height:32,background:"#0ea5e9",color:"#fff",borderRadius:"50%",fontWeight:700,fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",marginLeft:8,marginBottom:2},children:g+1}),o.jsx("div",{style:{flex:1,height:4,background:"#ffe066",borderRadius:2,marginLeft:12,marginRight:8}})]}),o.jsxs(Q$,{item:h,index:g,moveLabel:e,onHover:()=>d(g),onDrop:()=>d(null),children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:22},children:[o.jsxs("span",{style:{fontWeight:700,color:"#0ea5e9",minWidth:22,textAlign:"right"},children:[g+1,"."]}),h&&h.type==="json"&&Array.isArray(h.intervals)&&(()=>{const p=(h.intervals||[]).filter(({exists:E})=>E),v=p.filter(({interval:E})=>{var S;return!!((S=r==null?void 0:r[h.value])!=null&&S[E])}),_=p.length>0&&v.length===p.length,y=()=>{const E=!_;s(S=>{const k={...S};return k[h.value]||(k[h.value]={}),p.forEach(({interval:D})=>{k[h.value][D]=E}),k})};return o.jsxs("button",{onClick:y,style:{padding:"2px 8px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:_?"#22c55e":"#ef4444",color:"#fff",cursor:"pointer",transition:"background 0.2s",boxShadow:_?"0 2px 4px #22c55e44":"0 2px 4px #ef444444",minWidth:36},title:`${_?"Uncheck":"Check"} all intervals for ${(h==null?void 0:h.label)||""}`,children:[v.length,"/",p.length]})})()]}),n&&n(h,g)]})]},h.type+"_"+h.value))})}function tW({stateKeyFromUrl:t}){const[e,n]=x.useState(()=>{try{const r=localStorage.getItem(t);if(r){const s=JSON.parse(r);if(s.formattedRow)return{status:"ok",formattedRow:s.formattedRow,rawTrade:s.rawTrade??null}}}catch{}return{status:"pending"}});if(x.useEffect(()=>{if(e.status!=="pending")return;let r=0;const s=25,l=setInterval(()=>{r++;try{const c=localStorage.getItem(t);if(c){const d=JSON.parse(c);if(d.formattedRow){n({status:"ok",formattedRow:d.formattedRow,rawTrade:d.rawTrade??null});return}}}catch{}r>=s&&n({status:"failed"})},100);return()=>clearInterval(l)},[t,e.status]),e.status==="ok"){try{localStorage.removeItem(t)}catch{}return o.jsx(ZN,{formattedRow:e.formattedRow,rawTrade:e.rawTrade})}return e.status==="failed"?o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 bg-[#0f0f0f] text-white p-4",children:[o.jsx("p",{className:"text-lg",children:"Could not load trade. The link may have expired."}),o.jsx("button",{type:"button",onClick:()=>window.close(),className:"px-4 py-2 rounded-lg bg-teal-600 hover:bg-teal-700",children:"Close tab"})]}):o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#0f0f0f] text-white p-4",children:o.jsx("p",{className:"text-lg",children:"Opening trade"})})}const nW=()=>{var ci,O;const e=Ji().state||{},n=K$(),r=n.get("stateKey");if(e.formattedRow)return o.jsx(ZN,{formattedRow:e.formattedRow,rawTrade:e.rawTrade??null});if(r)return o.jsx(tW,{stateKeyFromUrl:r});const s=n.get("uid")||"",l=n.get("interval")||"15m",c=n.get("type")||"Regular",d=w=>{if(!w)return"";try{const T=new Date(w);if(isNaN(T.getTime()))return w;const I=T.getUTCDate().toString().padStart(2,"0"),ne=(T.getUTCMonth()+1).toString().padStart(2,"0"),ie=T.getUTCFullYear().toString().slice(-2),fe=T.getUTCHours().toString().padStart(2,"0"),Ce=T.getUTCMinutes().toString().padStart(2,"0");return`${I}-${ne}-${ie} ${fe}:${Ce}`}catch{return w}},h=w=>{const T=["Candle_Time","timestamp","created_at","Time","Candel_time","Fetcher_Trade_time","Operator_Trade_time","Operator_Close_time","candle_time","time","date"],I=["processing_time_ms","processing_time"];return T.some(ie=>w.toLowerCase().includes(ie.toLowerCase()))&&!I.some(ie=>w.toLowerCase().includes(ie.toLowerCase()))},g=(w,T=!1)=>{if(w==null)return"";let I=w;if(typeof w=="string")try{I=JSON.parse(w.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null"))}catch{return w}if(typeof I!="object"||Array.isArray(I))return String(w);const ne=Ce=>Ce.replace(/[_]/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b\w/g,ue=>ue.toUpperCase()),ie=Object.entries(I).map(([Ce,ue])=>`${ne(Ce)}: ${ue??""}`);if(T)return ie.join(`
`);const fe=3;return ie.length>fe?`${ie.slice(0,fe).join(" | ")} `:ie.join(" | ")},p=w=>(w||"").replace(/[_]/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b\w/g,T=>T.toUpperCase()),v=w=>w==="json_message"?"":w,_=(w,T,{forTooltip:I=!1}={})=>{if(w==null||w==="")return"";if(T){const ne=T.toLowerCase();if(ne.includes("plain_message")||ne.includes("json_message"))return g(w,I)}return h(T)?d(w):String(w)},[y,E]=x.useState(()=>{const w=localStorage.getItem("pair_stats_theme");if(w)return w==="dark";const T=localStorage.getItem("theme");return T?T==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{y?(document.body.classList.add("dark"),localStorage.setItem("pair_stats_theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pair_stats_theme","light"))},[y]),x.useEffect(()=>{const w=T=>{if(T.key==="theme"||T.key==="pair_stats_theme"){const I=T.newValue==="dark";E(I)}};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[]);const[S,k]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_selected_signals");if(w)return JSON.parse(w);const T={};return Tw.forEach(I=>T[I]=!0),T}),[D,A]=x.useState(()=>localStorage.getItem("liveTradeView_signal_radio_mode")==="true"),[M,Y]=x.useState(()=>localStorage.getItem("liveTradeView_signal_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("liveTradeView_selected_signals",JSON.stringify(S))},[S]);const[Q,K]=x.useState([]),z=w=>{if(w===!0||w==="true"||w===1||w==="1")return!0;if(typeof w=="string"){const T=parseFloat(w);return!isNaN(T)&&T>0}return!1},ee=w=>w==null?"":String(w),se=x.useMemo(()=>Q.map(w=>({MachineId:ee(w.machineid??w.MachineId??w.machine_id??w.machineID??w.id),Active:z(w.active??w.Active??w.is_active??w.status)})).filter(w=>w.MachineId),[Q]);x.useEffect(()=>{(async()=>{try{const I=await(await Bn("/api/machines")).json();K(Array.isArray(I.machines)?I.machines:[])}catch{K([])}})()},[]);const oe=se,[Ee,re]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_selected_machines");if(w)try{return JSON.parse(w)}catch(I){console.error(" Error parsing selectedMachines from localStorage:",I)}const T={};return oe.forEach(I=>T[I.MachineId]=!0),T});x.useEffect(()=>{if(oe.length&&Object.keys(Ee).length===0){const w={};oe.forEach(T=>{w[T.MachineId]=!0}),re(w)}},[oe,Ee]);const[me,je]=x.useState(()=>localStorage.getItem("liveTradeView_machine_radio_mode")==="true"),[We,ae]=x.useState(()=>localStorage.getItem("liveTradeView_machine_toggle_all")==="true");x.useEffect(()=>{localStorage.setItem("liveTradeView_selected_machines",JSON.stringify(Ee))},[Ee]);const[Le,Re]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_selected_actions");return w?JSON.parse(w):{BUY:!0,SELL:!0}}),[jt,P]=x.useState(()=>localStorage.getItem("liveTradeView_action_radio_mode")==="true"),[ce,L]=x.useState(()=>localStorage.getItem("liveTradeView_action_toggle_all")==="true"),[F,C]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_live_filter");if(w)try{return JSON.parse(w)}catch{return{true:!0,false:!0}}return{true:!0,false:!0}});x.useEffect(()=>{localStorage.setItem("liveTradeView_live_filter",JSON.stringify(F))},[F]);const[H,de]=x.useState(()=>localStorage.getItem("liveTradeView_live_radio_mode")==="true");x.useEffect(()=>{localStorage.setItem("liveTradeView_live_radio_mode",H?"true":"false")},[H]),x.useEffect(()=>{localStorage.setItem("liveTradeView_selected_actions",JSON.stringify(Le))},[Le]);const[tt,rt]=x.useState([]);x.useEffect(()=>{Bn("/api/trades").then(w=>w.json()).then(w=>{const T=Array.isArray(w.trades)?w.trades:[],I=s?T.filter(ne=>ne.pair&&String(ne.pair)===s||ne.Pair&&String(ne.Pair)===s||ne.unique_id&&String(ne.unique_id)===s||ne.Unique_ID&&String(ne.Unique_ID)===s):T;rt(I)}).catch(()=>rt([]))},[s]);const Ze=w=>{if(!w)return"";let T=String(w).replace(/<[^>]+>/g,"").replace(/\s+/g,"").replace(/[^A-Z0-9]/gi,"").toUpperCase();return T.startsWith("BINANCE")&&(T=T.slice(7)),T=T.replace(/PERPETUALCONTRACT|PERP|CHART/gi,"").replace(/\d{6,}$/,""),T||""},Et=w=>{if(!w||typeof w!="string")return"";const T=String(w).toUpperCase(),I=T.indexOf("BUY"),ne=T.indexOf("SELL");let ie=-1;return I>=0&&ne>=0?ie=Math.min(I,ne):I>=0?ie=I:ne>=0&&(ie=ne),ie>0&&String(w).slice(0,ie).replace(/[^A-Z0-9]/gi,"").toUpperCase()||""},bn=x.useMemo(()=>{var I,ne;const w=Ze(((I=tt[0])==null?void 0:I.pair)??((ne=tt[0])==null?void 0:ne.Pair)??"");if(w)return w;const T=Et(s);return T||Ze(s)||""},[tt,s]),Mt=5*60*1e3,[_n,Jt]=x.useState(null);x.useEffect(()=>{if(!bn)return;const w=async()=>{try{const I=await Bn(Fn("/api/calculate-signals"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:bn,candle:"regular"})}),ne=await I.json().catch(()=>({}));if(!I.ok){console.warn("[LiveTradeViewPage] CalculateSignals:",(ne==null?void 0:ne.message)||I.statusText);return}ne!=null&&ne.ok&&(ne!=null&&ne.intervals)&&Jt(ne)}catch(I){console.warn("[LiveTradeViewPage] CalculateSignals:",(I==null?void 0:I.message)||I)}};w();const T=setInterval(w,Mt);return()=>clearInterval(T)},[bn]);const[on,Kt]=x.useState([]),[Ue,Nn]=x.useState(1),[Xt,xt]=x.useState(1),[Qt,Yt]=x.useState(0),[ln,lt]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_logs_per_page");return w?parseInt(w):100}),[Qn,Yn]=x.useState(!0),he="liveTradeView_signals_panel_expanded",[$e,qe]=x.useState(()=>localStorage.getItem(he)!=="false"),ze=x.useCallback(()=>{qe(w=>{const T=!w;return localStorage.setItem(he,String(T)),T})},[]),Be="liveTradeView_upper_panel_expanded",[R,ge]=x.useState(()=>localStorage.getItem(Be)!=="false"),Ie=x.useCallback(()=>{ge(w=>{const T=!w;return localStorage.setItem(Be,String(T)),T})},[]),[wt,ht]=x.useState([]),[$t,sn]=x.useState(!1);x.useEffect(()=>{Yn(!0),Nn(1);const w=Fn(s?`/api/bot-event-logs?uid=${encodeURIComponent(s)}&page=1&limit=${ln}`:`/api/bot-event-logs?page=1&limit=${ln}`);Bn(w).then(T=>{if(!T.ok)throw new Error(`HTTP ${T.status}: ${T.statusText}`);return T.json()}).then(T=>{var ne,ie;const I=Array.isArray(T.logs)?T.logs:[];if(Kt(I),Yt(((ne=T.pagination)==null?void 0:ne.total)||I.length),xt(((ie=T.pagination)==null?void 0:ie.totalPages)||1),Yn(!1),Array.isArray(T.logs)&&T.logs.length>0){let fe;try{fe=typeof T.logs[0].json_message=="string"?JSON.parse(T.logs[0].json_message):T.logs[0].json_message}catch(Ce){console.error(" Error parsing JSON message:",Ce);return}}}).catch(T=>{console.error("[LiveTradeViewPage] Error fetching bot event logs:",T),console.error(" Error details:",{message:T.message,stack:T.stack,uid:s,url:w}),Kt([]),Yn(!1)})},[s,ln]);const[bt,ot]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_selected_candle_types");return w?JSON.parse(w):{Regular:!0,Heiken:!1}});x.useEffect(()=>{localStorage.setItem("liveTradeView_selected_candle_types",JSON.stringify(bt))},[bt]),x.useMemo(()=>{const w={Regular:0,Heiken:0,Unknown:0};return on.forEach(T=>{var fe;const I=((fe=T.candle_pattern)==null?void 0:fe.toLowerCase())||"";I==="regular"||I==="normal"||I==="regular_candle"?w.Regular++:I==="heiken"||I==="heikin"||I==="heiken-ashi"||I==="heiken_ashi"||I==="heiken_candle"?w.Heiken++:w.Unknown++}),w},[on]);function ct(w){return w.filter(I=>!(Object.keys(Ee).length&&!Ee[ee(I.machine_id)]))}const Wt=ct(on),vn=Wt,Wn=w=>{if(w<10||w>5e3)return;lt(w),Nn(1),localStorage.setItem("liveTradeView_logs_per_page",w.toString()),Yn(!0);const T=Fn(s?`/api/bot-event-logs?uid=${encodeURIComponent(s)}&page=1&limit=${w}`:`/api/bot-event-logs?page=1&limit=${w}`);Bn(T).then(I=>I.json()).then(I=>{var ie,fe;const ne=Array.isArray(I.logs)?I.logs:[];Kt(ne),Yt(((ie=I.pagination)==null?void 0:ie.total)||ne.length),xt(((fe=I.pagination)==null?void 0:fe.totalPages)||1),Yn(!1)}).catch(I=>{console.error("[LiveTradeViewPage] Error fetching bot event logs:",I),Kt([]),Yn(!1)})},gn=w=>{if(w<1||w>Xt)return;Yn(!0),Nn(w);const T=Fn(s?`/api/bot-event-logs?uid=${encodeURIComponent(s)}&page=${w}&limit=${ln}`:`/api/bot-event-logs?page=${w}&limit=${ln}`);Bn(T).then(I=>I.json()).then(I=>{const ne=Array.isArray(I.logs)?I.logs:[];Kt(ne)}).catch(I=>{console.error("[LiveTradeViewPage] Error fetching bot event logs:",I),Kt([])}).finally(()=>{Yn(!1)})},Pn=o.jsx(Z0,{canonicalSignalKeys:Tw,selectedSignals:S,setSelectedSignals:k,signalRadioMode:D,setSignalRadioMode:A,signalToggleAll:M,setSignalToggleAll:Y,allMachines:oe,selectedMachines:Ee,setSelectedMachines:re,machineRadioMode:me,setMachineRadioMode:je,machineToggleAll:We,setMachineToggleAll:ae,selectedActions:Le,setSelectedActions:Re,actionRadioMode:jt,setActionRadioMode:P,actionToggleAll:ce,setActionToggleAll:L,liveFilter:F,setLiveFilter:C,liveRadioMode:H,setLiveRadioMode:de,trades:tt,darkMode:y});localStorage.getItem("pair_stats_reputation_enabled"),localStorage.getItem("pair_stats_reputation_intensity"),localStorage.getItem("pair_stats_reputation_mode");const Dn=o.jsxs("div",{className:`p-4 rounded-lg border ${y?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-200 text-gray-800"}`,children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Bot Event Log Summary"}),Qn?o.jsx("div",{className:"py-6 text-center text-base font-medium opacity-80",children:"Loading logs..."}):o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-500",children:Wt.length}),o.jsx("div",{className:"text-sm text-gray-500",children:"Total Events"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-500",children:Wt.filter(w=>w.pl_after_comm>0).length}),o.jsx("div",{className:"text-sm text-gray-500",children:"Positive PL"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-500",children:Wt.filter(w=>w.pl_after_comm<0).length}),o.jsx("div",{className:"text-sm text-gray-500",children:"Negative PL"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-500",children:new Set(Wt.map(w=>w.machine_id)).size}),o.jsx("div",{className:"text-sm text-gray-500",children:"Unique Machines"})]})]})]}),pn=x.useMemo(()=>{const w={};return Wt.forEach(T=>{T.uid&&(w[T.uid]=T)}),w},[Wt]),[te,Pe]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_list_font_size");return w?parseFloat(w):1});x.useEffect(()=>{localStorage.setItem("liveTradeView_list_font_size",te)},[te]),x.useEffect(()=>{const w=localStorage.getItem("liveTradeView_selected_json_columns");w&&JSON.parse(w)},[JSON.stringify(wt)]),x.useEffect(()=>{},[]),wt&&wt.length>0,x.useEffect(()=>{localStorage.getItem("liveTradeView_selected_columns")},[]),x.useEffect(()=>{},[]),x.useEffect(()=>{localStorage.getItem("liveTradeView_selected_trade_columns")},[]),x.useEffect(()=>{},[]);const He="liveTradeView_regular_labels",Bt=ad.map(w=>w.value),Ke=()=>{const w=localStorage.getItem(He);return w?JSON.parse(w):Bt},[st,it]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_settings_modal_open");return w?JSON.parse(w):!1}),[j,G]=x.useState(Ke()),B="liveTradeView_json_labels",q=()=>{const w=localStorage.getItem(B);if(w)try{const T=JSON.parse(w);return T&&typeof T=="object"?T:{}}catch{return{}}return{}},[V,J]=x.useState(q());function we(w){const T=new Set,I={};w.forEach((ie,fe)=>{var Qe;console.log(`=== Log ${fe} ===`),console.log("Full log object:",ie);let Ce=null;if(ie.parsed_json_message&&typeof ie.parsed_json_message=="object")Ce=ie.parsed_json_message,console.log("Using parsed_json_message:",Ce);else if(ie.json_message)try{if(typeof ie.json_message=="string"){let It=ie.json_message.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Ce=JSON.parse(It),console.log("Parsed json_message:",Ce)}else Ce=ie.json_message,console.log("Using json_message directly:",Ce)}catch(It){console.error("Error parsing json_message:",It),console.error("Problematic json_message:",ie.json_message)}else if(ie.json_data)try{if(typeof ie.json_data=="string"){let It=ie.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Ce=JSON.parse(It),console.log("Parsed json_data:",Ce)}else Ce=ie.json_data,console.log("Using json_data directly:",Ce)}catch(It){console.error("Error parsing json_data:",It),console.error("Problematic json_data:",ie.json_data);return}if(!Ce)return;let ue;try{ue=(Qe=Ce==null?void 0:Ce.signal_data)==null?void 0:Qe.all_last_rows}catch(It){console.log("[extractJsonLabelsAndIntervals] Error accessing all_last_rows:",It,Ce),ue=void 0}ue&&typeof ue=="object"&&Object.keys(ue).forEach(It=>{if(It==="candle_type")return;T.add(It);const fn=ue[It];fn&&typeof fn=="object"&&Object.keys(fn).forEach(jn=>{I[jn]||(I[jn]=new Set),I[jn].add(It)})}),Object.keys(Ce||{}).forEach(It=>{I[It]||(I[It]=new Set),I[It].add("json_message"),T.add("json_message")})});const ne=Array.from(T).sort((ie,fe)=>{const Ce=["1m","3m","5m","15m","30m","1h","2h","4h","1d"],ue=Ce.indexOf(ie),Qe=Ce.indexOf(fe);return ue===-1&&Qe===-1?ie.localeCompare(fe):ue===-1?1:Qe===-1?-1:ue-Qe});return Object.entries(I).map(([ie,fe])=>({label:p(ie),value:ie,intervals:ne.map(Ce=>({interval:Ce,exists:fe.has(Ce)}))}))}x.useEffect(()=>{if(on.length>0){const w=we(on);ht(w),sn(!0)}},[on,s,j]);function Ne(w,T){const I={};w.forEach(Qe=>{I[Qe.value]=Qe});const ne=Object.keys(T||{}),ie=ne.filter(Qe=>I[Qe]),fe={};w.forEach(Qe=>{!T[Qe.value]&&!fe[Qe.value]&&(fe[Qe.value]=Qe)});const Ce=Object.values(fe),ue=ne.filter(Qe=>!I[Qe]);return{existed:ie,newlyAdded:Ce,deleted:ue}}Ne(wt,V||{});const[xe,Se]=x.useState(!1);$t?wt.filter(w=>V[w.value]).flatMap(w=>(w.intervals||[]).filter(T=>{var I;return(I=V[w.value])==null?void 0:I[T]}).map(T=>({parent:w,interval:T}))):Object.keys(V).flatMap(w=>Object.keys(V[w]||{}).filter(T=>V[w][T]).map(T=>({parent:{label:w,value:w},interval:T})));const De="liveTradeView_unified_labels_order";function gt(){const w=[],T=new Set;ad.forEach(ne=>{T.has(ne.value)||(w.push({type:"regular",value:ne.value,label:ne.label}),T.add(ne.value))});const I=new Set;return wt.forEach(ne=>{I.has(ne.value)||(w.push({type:"json",value:ne.value,label:ne.label||p(ne.value),intervals:ne.intervals}),I.add(ne.value))}),w}function vt(w){const T=localStorage.getItem(De);if(T)try{const I=JSON.parse(T),ne={};w.forEach(ue=>{ne[ue.type+"_"+ue.value]=ue});const ie=I.map(ue=>ne[ue.type+"_"+ue.value]).filter(Boolean),fe=new Set(I.map(ue=>ue.type+"_"+ue.value)),Ce=w.filter(ue=>!fe.has(ue.type+"_"+ue.value));return[...ie,...Ce]}catch{return w}return w}const[Je,_t]=x.useState(()=>vt(gt())),Ht=x.useRef(!1);x.useEffect(()=>{if(Ht.current)return;const w=gt();_t(T=>{const I=new Set(T.map(ue=>ue.type+"_"+ue.value)),ne=new Set(w.map(ue=>ue.type+"_"+ue.value));let ie=T.filter(ue=>ne.has(ue.type+"_"+ue.value));const fe=w.filter(ue=>!I.has(ue.type+"_"+ue.value));return[...ie,...fe]})},[JSON.stringify(wt)]),x.useEffect(()=>{const w=gt();_t(vt(w))},[JSON.stringify(wt)]);const[en,hn]=x.useState(!1),[On,Cn]=x.useState(!1),[kr,Ar]=x.useState({}),[fr,or]=x.useState(!1);x.useEffect(()=>{const w=localStorage.getItem("pair_stats_interval_master_checked");w?Ar(JSON.parse(w)):Nw.forEach(T=>Ar(I=>({...I,[T]:!0})))},[]),x.useEffect(()=>{localStorage.setItem("pair_stats_interval_master_checked",JSON.stringify(kr))},[kr]),x.useEffect(()=>{const w=localStorage.getItem("liveTradeView_all_regular_checked");Cn(w?JSON.parse(w):!1)},[]),x.useEffect(()=>{localStorage.setItem("liveTradeView_all_regular_checked",JSON.stringify(On))},[On]),x.useEffect(()=>{const w=localStorage.getItem("liveTradeView_show_unchecked");hn(w?JSON.parse(w):!1)},[]),x.useEffect(()=>{localStorage.setItem("liveTradeView_show_unchecked",JSON.stringify(en))},[en]);const Mr="liveTradeView_settings_modal_pos",yn="liveTradeView_settings_modal_size",ke=()=>{const w=localStorage.getItem(Mr);let T={x:window.innerWidth/2-400,y:window.innerHeight/2-300};if(w)try{const Qe=JSON.parse(w);typeof Qe.x=="number"&&typeof Qe.y=="number"&&(T=Qe)}catch{}const I=nt(),ne=window.innerWidth,ie=window.innerHeight;let fe=Math.min(I.width,ne);Math.min(I.height,ie);let Ce=Math.max(0,Math.min(ne-fe,T.x)),ue=T.y;return ue<0&&(ue=0),ue>ie-48&&(ue=ie-48),{x:Ce,y:ue}},nt=()=>{const w=localStorage.getItem(yn);let T={width:700,height:500};if(w)try{const ie=JSON.parse(w);typeof ie.width=="number"&&typeof ie.height=="number"&&(T=ie)}catch{}const I=window.innerWidth,ne=window.innerHeight;return{width:Math.min(T.width,I),height:Math.min(T.height,ne)}},[yt,qt]=x.useState(ke),[tn,cn]=x.useState(nt),[Oe,Ye]=x.useState(!1),ye=x.useRef({x:0,y:0});function Tt(w){Ye(!0),ye.current={x:w.clientX-yt.x,y:w.clientY-yt.y},document.body.style.userSelect="none"}x.useEffect(()=>{function w(I){if(!Oe)return;const ne=window.innerWidth,ie=window.innerHeight,fe=document.querySelector('[role="dialog"][aria-label="Settings"]');let Ce=fe?fe.offsetWidth:tn.width;fe?fe.offsetHeight:tn.height;const ue=Math.floor(.05*Ce),Qe=48;let It=Math.max(-Ce+ue,Math.min(ne-ue,I.clientX-ye.current.x)),fn=Math.max(Qe*-.9,Math.min(ie-48,I.clientY-ye.current.y));qt({x:It,y:fn})}function T(){Ye(!1),document.body.style.userSelect=""}return Oe&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",T)),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",T)}},[Oe,yt,tn]);const Xe=x.useRef(null),[pt,Z]=x.useState(!1),X=x.useRef({x:0,y:0,width:0,height:0});function ve(w){w.stopPropagation(),Z(!0);const T=Xe.current;X.current={x:w.clientX,y:w.clientY,width:T?T.offsetWidth:tn.width,height:T?T.offsetHeight:tn.height},document.body.style.userSelect="none"}x.useEffect(()=>{function w(I){if(!pt)return;const ne=window.innerWidth-yt.x,ie=window.innerHeight-yt.y;let fe=Math.max(200,Math.min(ne,X.current.width+(I.clientX-X.current.x))),Ce=Math.max(100,Math.min(ie,X.current.height+(I.clientY-X.current.y)));cn({width:fe,height:Ce});const ue=Xe.current;ue&&(ue.style.width=fe+"px",ue.style.height=Ce+"px")}function T(){Z(!1),document.body.style.userSelect=""}return pt&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",T)),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",T)}},[pt,yt,tn]),x.useEffect(()=>{localStorage.setItem(yn,JSON.stringify(tn))},[tn]),x.useEffect(()=>{function w(){const T=document.querySelector('[role="dialog"][aria-label="Settings"]');if(!T)return;const I=T.getBoundingClientRect();let ne=yt.x,ie=yt.y;I.width,I.height;const fe=window.innerWidth,Ce=window.innerHeight,ue=48,Qe=Math.floor(.05*I.width),It=Math.floor(.05*I.height);I.right>fe-Qe&&(ne=Math.max(0,fe-Qe-I.width)),I.bottom>Ce-It&&(ie=Math.max(ue,Ce-It-I.height)),I.left<-I.width+Qe&&(ne=-I.width+Qe),I.top<-I.height+It&&(ie=-I.height+It),I.width>fe,I.height>Ce,(ne!==yt.x||ie!==yt.y)&&qt({x:ne,y:ie}),T.style&&(T.style.maxWidth=fe+"px",T.style.maxHeight=Ce+"px",I.width>fe&&(T.style.width=fe+"px"),I.height>Ce&&(T.style.height=Ce+"px"))}return window.addEventListener("resize",w),w(),()=>window.removeEventListener("resize",w)},[yt]),x.useEffect(()=>{localStorage.setItem(Mr,JSON.stringify(yt))},[yt]);const[Nt,et]=x.useState(!1),ut="liveTradeView_settings_modal_scale",[Gt,Ft]=x.useState(()=>{const w=localStorage.getItem(ut);return w?parseFloat(w):1});x.useEffect(()=>{localStorage.setItem(ut,Gt)},[Gt]),x.useEffect(()=>{if(st)et(!0);else{const w=setTimeout(()=>et(!1),180);return()=>clearTimeout(w)}},[st]),x.useEffect(()=>{localStorage.setItem("liveTradeView_settings_modal_open",JSON.stringify(st))},[st]),x.useEffect(()=>{function w(T){st&&T.key==="Escape"&&it(!1)}return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[st]);const[Ut,Vn]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_settings_modal_opacity");return w?parseFloat(w):1});x.useEffect(()=>{localStorage.setItem("listview_settings_modal_opacity",Ut)},[Ut]);const[Ln,Kn]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_label_font_size");return w?parseFloat(w):1}),[Rn,rn]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_label_wrap");return w?JSON.parse(w):!1});x.useEffect(()=>{localStorage.setItem("listview_label_font_size",Ln)},[Ln]),x.useEffect(()=>{localStorage.setItem("listview_label_wrap",JSON.stringify(Rn))},[Rn]);const[Xr,un]=x.useState(()=>{const w=localStorage.getItem("liveTradeView_filter_bar_visible");return w?JSON.parse(w):!0});x.useEffect(()=>{localStorage.setItem("liveTradeView_filter_bar_visible",JSON.stringify(Xr))},[Xr]);function cs(){const w=Je.map(ne=>({type:ne.type,value:ne.value}));localStorage.setItem(De,JSON.stringify(w)),localStorage.setItem(He,JSON.stringify(j)),localStorage.setItem(B,JSON.stringify(V));const T=document.createElement("div");T.textContent=" Settings saved successfully!",T.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #22c55e;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      z-index: 10000;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      animation: slideIn 0.3s ease-out;
    `;const I=document.createElement("style");I.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(I),document.body.appendChild(T),setTimeout(()=>{T.parentNode&&T.parentNode.removeChild(T)},3e3)}const[dn,mr]=x.useState(null),[ir,Tr]=x.useState("asc"),Or=(w,T,I=null,ne=null)=>{const ie={type:w,key:T,parentKey:I,interval:ne};dn&&JSON.stringify(dn)===JSON.stringify(ie)?Tr(fe=>fe==="asc"?"desc":"asc"):(mr(ie),Tr("asc"))},vr=(w,T)=>{var Ce,ue,Qe;if(!T)return;const{type:I,key:ne,parentKey:ie,interval:fe}=T;if(I==="regular")return w[ne];if(I==="trade")return(Ce=pn[w.uid])==null?void 0:Ce[ne];if(I==="json"&&ie&&fe){let It={};try{if(typeof w.json_message=="string"){let jn=w.json_message.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");It=JSON.parse(jn)}else It=w.json_message||{}}catch{It={}}return(Qe={...((ue=It==null?void 0:It.signal_data)==null?void 0:ue.all_last_rows)||{},json_message:It&&typeof It=="object"&&!Array.isArray(It)?It:{}}[fe])==null?void 0:Qe[ie]}},hr=w=>dn?[...w].sort((T,I)=>{let ne=vr(T,dn),ie=vr(I,dn);if(typeof ne=="object"&&(ne=JSON.stringify(ne)),typeof ie=="object"&&(ie=JSON.stringify(ie)),dn.type==="regular"&&h(dn.key)){const ue=new Date(ne),Qe=new Date(ie);if(!isNaN(ue.getTime())&&!isNaN(Qe.getTime()))return ue<Qe?ir==="asc"?-1:1:ue>Qe?ir==="asc"?1:-1:0}const fe=parseFloat(ne),Ce=parseFloat(ie);return!isNaN(fe)&&!isNaN(Ce)?ir==="asc"?fe-Ce:Ce-fe:(ne=ne==null?"":String(ne),ie=ie==null?"":String(ie),ne<ie?ir==="asc"?-1:1:ne>ie?ir==="asc"?1:-1:0)}):w,[as,mn]=x.useState(null);function Dr(){const w={width:700,height:500},T=window.innerWidth,I=window.innerHeight,ne=Math.max(0,Math.floor((T-w.width)/2)),ie=Math.max(0,Math.floor((I-w.height)/2));qt({x:ne,y:ie}),cn(w),Ft(1),localStorage.setItem(Mr,JSON.stringify({x:ne,y:ie})),localStorage.setItem(yn,JSON.stringify(w)),localStorage.setItem(ut,"1.0")}const[nr,bi]=x.useState(null),Jr="liveTradeView_filter_table_spacing",[Te,Rt]=x.useState(()=>{const w=localStorage.getItem(Jr);return w?parseInt(w):0});x.useEffect(()=>{localStorage.setItem(Jr,Te.toString())},[Te]);const[Un,us]=x.useState(null);function ks(w,T){w.stopPropagation(),Z(!0),us(T);const I=Xe.current;X.current={x:w.clientX,y:w.clientY,width:I?I.offsetWidth:tn.width,height:I?I.offsetHeight:tn.height,left:I?I.offsetLeft:yt.x,top:I?I.offsetTop:yt.y},document.body.style.userSelect="none"}x.useEffect(()=>{function w(I){if(!pt||!Un)return;let{x:ne,y:ie,width:fe,height:Ce,left:ue,top:Qe}=X.current,It=I.clientX-ne,fn=I.clientY-ie,jn=fe,ur=Ce,Nr=yt.x,dr=yt.y;switch(Un){case"right":jn=Math.max(200,fe+It);break;case"left":jn=Math.max(200,fe-It),Nr=ue+It;break;case"bottom":ur=Math.max(100,Ce+fn);break;case"top":ur=Math.max(100,Ce-fn),dr=Qe+fn;break;case"top-left":jn=Math.max(200,fe-It),Nr=ue+It,ur=Math.max(100,Ce-fn),dr=Qe+fn;break;case"top-right":jn=Math.max(200,fe+It),ur=Math.max(100,Ce-fn),dr=Qe+fn;break;case"bottom-left":jn=Math.max(200,fe-It),Nr=ue+It,ur=Math.max(100,Ce+fn);break;case"bottom-right":jn=Math.max(200,fe+It),ur=Math.max(100,Ce+fn);break}cn({width:jn,height:ur}),qt({x:Nr,y:dr});const _i=Xe.current;_i&&(_i.style.width=jn+"px",_i.style.height=ur+"px",_i.style.left=Nr+"px",_i.style.top=dr+"px")}function T(){Z(!1),us(null),document.body.style.userSelect=""}return pt&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",T)),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",T)}},[pt,yt,tn,Un]);const[Pt,Xs]=x.useState([]),[wn,ya]=x.useState(1),[rr,U]=x.useState(1),[pe,_e]=x.useState(0),[ft,Ct]=x.useState(!1),[Lt,xn]=x.useState("timestamp"),[Ot,kn]=x.useState("desc"),an=x.useMemo(()=>Pt.length>0?Pt:vn,[Pt,vn]),er=x.useMemo(()=>hr(an),[an,dn,ir]);x.useEffect(()=>{if(!Lt&&!Ot)return;Ct(!0);let w=Fn(`/api/bot-event-logs?page=${wn}&limit=${ln}`);w+=`&sortKey=${Lt}&sortDirection=${Ot}`,s&&(w+=`&uid=${encodeURIComponent(s)}`),Bn(w).then(T=>T.json()).then(T=>{var I,ne;Xs(Array.isArray(T.logs)?T.logs:[]),_e(((I=T.pagination)==null?void 0:I.total)||0),U(((ne=T.pagination)==null?void 0:ne.totalPages)||1),Ct(!1)}).catch(()=>{Xs([]),_e(0),U(1),Ct(!1)})},[wn,ln,Lt,Ot,s]);const In=w=>{w<1||w>rr||ya(w)},Tn=(w,T,I=null,ne=null)=>{Lt===T?kn(ie=>ie==="asc"?"desc":"asc"):(xn(T),kn("asc")),mr({type:w,key:T,parentKey:I,interval:ne})},[xr,ys]=x.useState(!1),[yr,ea]=x.useState(!1),ao=()=>{if(Pt.length>0)ys(!0);else{const w=ri(vn);if(w.length===0){alert("No data to export!");return}const T=Rr.json_to_sheet(w),I=Rr.book_new();Rr.book_append_sheet(I,T,"Data"),La(I,"exported_data.xlsx")}},lo=async w=>{if(ys(!1),w==="pagination"){const T=ri(Pt);if(T.length===0){alert("No data to export!");return}const I=Rr.json_to_sheet(T),ne=Rr.book_new();Rr.book_append_sheet(ne,I,"Data"),La(ne,"exported_data.xlsx")}else if(w==="whole"){ea(!0);let T=Fn("/api/bot-event-logs?limit=all");T+=`&sortKey=${Lt}&sortDirection=${Ot}`,s&&(T+=`&uid=${encodeURIComponent(s)}`);try{const ne=await(await Bn(T)).json(),ie=Array.isArray(ne.logs)?ne.logs:[],fe=ri(ie);if(fe.length===0){alert("No data to export!"),ea(!1);return}const Ce=Rr.json_to_sheet(fe),ue=Rr.book_new();Rr.book_append_sheet(ue,Ce,"Data"),La(ue,"exported_data.xlsx")}catch{alert("Failed to fetch all data for export.")}ea(!1)}};function ba(){return Je.filter(w=>w.type==="regular"?j.includes(w.value):w.type==="json"&&Array.isArray(w.intervals)?(w.intervals||[]).some(({interval:T})=>{var I;return(I=V[w.value])==null?void 0:I[T]}):!1)}function Kr(w){if(!w)return"";const T=new Date(w);if(isNaN(T.getTime()))return w;const I=ne=>ne.toString().padStart(2,"0");return`${T.getFullYear()}-${I(T.getMonth()+1)}-${I(T.getDate())} ${I(T.getHours())}:${I(T.getMinutes())}:${I(T.getSeconds())}`}function ri(w){const T=ba();return w.map(I=>{var Ce;let ne={};try{if(typeof I.json_message=="string"){let ue=I.json_message.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");ne=JSON.parse(ue)}else ne=I.json_message||{}}catch{ne={}}const ie=((Ce=ne==null?void 0:ne.signal_data)==null?void 0:Ce.all_last_rows)||{},fe={};return T.forEach(ue=>{let Qe;ue.type==="regular"?(Qe=I[ue.value],h(ue.value)?fe[ue.label]=Kr(Qe):typeof Qe=="number"&&Qe>1e12?fe[ue.label]=Qe.toString():fe[ue.label]=Qe):ue.type==="json"&&Array.isArray(ue.intervals)&&(ue.intervals||[]).forEach(({interval:It})=>{var fn,jn;(fn=V[ue.value])!=null&&fn[It]&&(Qe=(jn=ie[It])==null?void 0:jn[ue.value],fe[`${ue.label} [${It}]`]=Qe)})}),fe})}return o.jsxs("div",{className:y?"dark":"",style:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden",background:y?"#181a20":"#f7f7fa"},children:[xr&&o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{background:y?"#23272f":"#fff",color:y?"#fff":"#222",padding:32,borderRadius:16,fontSize:20,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",minWidth:340,minHeight:120,display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[o.jsx("div",{children:"Export Data"}),o.jsxs("div",{style:{display:"flex",gap:18},children:[o.jsx("button",{onClick:()=>lo("pagination"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#0ea5e9",color:"#fff",boxShadow:"0 2px 8px #0ea5e944",cursor:"pointer",transition:"background 0.2s"},children:"Export Current Page"}),o.jsx("button",{onClick:()=>lo("whole"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:"Export All Filtered Data"})]}),o.jsx("button",{onClick:()=>ys(!1),style:{marginTop:12,background:"none",border:"none",color:y?"#fff":"#222",fontSize:18,cursor:"pointer"},children:"Cancel"})]})}),yr&&o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{style:{background:y?"#23272f":"#fff",color:y?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Exporting data..."})}),o.jsxs("div",{style:{position:"absolute",top:8,right:200,zIndex:100,display:"flex",alignItems:"center",gap:12},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Spacing"}),o.jsx("button",{onClick:()=>Rt(w=>w-4),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:y?"#23272f":"#fff",color:y?"#fff":"#222",cursor:"pointer"},title:"Reduce space between filters and table",children:""}),o.jsx("button",{onClick:()=>Rt(w=>Math.min(100,w+4)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:y?"#23272f":"#fff",color:y?"#fff":"#222",cursor:"pointer"},title:"Increase space between filters and table",children:""}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Te,"px"]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Table Font"}),o.jsx("button",{onClick:()=>Pe(w=>Math.max(.7,w-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:y?"#23272f":"#fff",color:y?"#fff":"#222",cursor:"pointer"},children:"A"}),o.jsx("button",{onClick:()=>Pe(w=>Math.min(2,w+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:y?"#23272f":"#fff",color:y?"#fff":"#222",cursor:"pointer"},children:"A+"}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(te*100),"%"]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Label Font"}),o.jsx("button",{onClick:()=>Kn(w=>Math.max(.7,w-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:y?"#23272f":"#fff",color:y?"#fff":"#222",cursor:"pointer"},children:"A"}),o.jsx("button",{onClick:()=>Kn(w=>Math.min(2,w+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:y?"#23272f":"#fff",color:y?"#fff":"#222",cursor:"pointer"},children:"A+"}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(Ln*100),"%"]})]}),o.jsx("button",{onClick:()=>rn(w=>!w),style:{padding:"3px 10px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:12,background:Rn?y?"#0ea5e9":"#0d9488":y?"#23272f":"#fff",color:Rn||y?"#fff":"#222",cursor:"pointer",boxShadow:Rn?"0 2px 8px #0ea5e944":"0 2px 8px #8882",transition:"background 0.2s"},title:"Wrap label text at word boundaries",children:Rn?"Unwrap Labels":"Wrap Labels"})]}),o.jsx("div",{style:{position:"absolute",top:24,left:24,zIndex:100},children:o.jsx("button",{onClick:()=>window.location.href="/reports",style:{background:"none",border:"none",cursor:"pointer",fontSize:24,color:y?"#fff":"#222",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseEnter:w=>w.target.style.backgroundColor=y?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",onMouseLeave:w=>w.target.style.backgroundColor="transparent","aria-label":"Back to Grid Reports",title:"Back to Grid Reports",children:o.jsx("span",{role:"img","aria-label":"back to grid",children:""})})}),o.jsxs("div",{style:{position:"absolute",top:24,right:80,zIndex:100,display:"flex",gap:8,alignItems:"center"},children:[o.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset the settings screen? Yes / No")&&Dr()},style:{background:"none",border:"none",cursor:"pointer",fontSize:22,color:y?"#fff":"#222",marginRight:2},"aria-label":"Reset Settings",title:"Reset Settings Screen",children:o.jsx("span",{role:"img","aria-label":"reset",children:""})}),o.jsx("button",{onClick:()=>it(w=>!w),style:{background:"none",border:"none",cursor:"pointer",fontSize:28,color:y?"#fff":"#222"},"aria-label":st?"Close Settings":"Open Settings","aria-haspopup":"dialog","aria-expanded":st,children:o.jsx("span",{role:"img","aria-label":"settings",children:""})})]}),Nt&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.10)",zIndex:199,transition:"opacity 0.18s",opacity:st?1:0,pointerEvents:"none"},"aria-hidden":"true"}),o.jsxs("div",{ref:Xe,role:"dialog","aria-modal":"true","aria-label":"Settings",style:{position:"fixed",top:yt.y,left:yt.x,minHeight:100,minWidth:200,zIndex:200,width:tn.width,maxWidth:"100vw",background:y?`rgba(35,39,47,${Ut})`:`rgba(255,255,255,${Ut})`,color:y?"#fff":"#222",borderRadius:18,boxShadow:"0 4px 32px 0 rgba(0,0,0,0.18)",padding:0,display:"flex",flexDirection:"column",overflow:"hidden",height:tn.height,maxHeight:"100vh",margin:"0 auto",boxSizing:"border-box",resize:"none",cursor:Oe?"move":"default",opacity:st?1:0,transform:st?"scale(1)":"scale(0.96)",transition:"opacity 0.18s, transform 0.18s",pointerEvents:st?"auto":"none"},children:[[["top-left",{top:-8,left:-8,cursor:"nwse-resize"}],["top",{top:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["top-right",{top:-8,right:-8,cursor:"nesw-resize"}],["right",{top:"50%",right:-8,transform:"translateY(-50%)",cursor:"ew-resize"}],["bottom-right",{bottom:-8,right:-8,cursor:"nwse-resize"}],["bottom",{bottom:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["bottom-left",{bottom:-8,left:-8,cursor:"nesw-resize"}],["left",{top:"50%",left:-8,transform:"translateY(-50%)",cursor:"ew-resize"}]].map(([w,T])=>o.jsx("div",{onMouseDown:I=>ks(I,w),style:{position:"absolute",width:18,height:18,background:y?"#0ea5e9":"#2563eb",border:"2px solid #fff",borderRadius:6,zIndex:1e3,...T,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",cursor:T.cursor,userSelect:"none"},title:`Resize (${w.replace("-"," ")})`,children:o.jsx("div",{style:{width:8,height:8,borderRadius:4,background:"#fff",opacity:.8}})},w)),o.jsxs("div",{style:{width:"100%",height:"100%",transform:`scale(${Gt})`,transformOrigin:"top left"},children:[o.jsx("div",{onMouseDown:ve,style:{position:"absolute",right:2,bottom:2,width:22,height:22,zIndex:10,cursor:"nwse-resize",background:"transparent",display:"flex",alignItems:"flex-end",justifyContent:"flex-end",userSelect:"none"},title:"Resize",children:o.jsx("svg",{width:"22",height:"22",viewBox:"0 0 22 22",children:o.jsx("polyline",{points:"6,22 22,22 22,6",style:{fill:"none",stroke:y?"#38bdf8":"#0ea5e9",strokeWidth:2}})})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,background:y?"#23272f":"#fff",zIndex:2,padding:12,borderTopLeftRadius:18,borderTopRightRadius:18,cursor:"move",userSelect:"none",gap:8},onMouseDown:Tt,children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13,marginRight:12},children:[o.jsx("span",{style:{opacity:.7},children:"Modal Scale"}),o.jsx("input",{type:"range",min:.7,max:1.5,step:.01,value:Gt,onChange:w=>Ft(parseFloat(w.target.value)),style:{width:70}}),o.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(Gt*100),"%"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Opacity"}),o.jsx("input",{type:"range",min:.3,max:1,step:.01,value:Ut,onChange:w=>Vn(parseFloat(w.target.value)),style:{width:70}}),o.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(Ut*100),"%"]})]}),o.jsx("button",{onClick:()=>or(w=>!w),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:fr?"#0ea5e9":"#334155",color:"#fff",boxShadow:fr?"0 2px 8px #0ea5e944":"0 2px 8px #33415544",cursor:"pointer",transition:"background 0.2s"},children:fr?"Show Regular Labels":"Minimize Regular Labels"}),o.jsx("button",{onClick:()=>hn(w=>!w),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:en?"#22c55e":"#ef4444",color:"#fff",boxShadow:en?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:en?"Show Unchecked":"Hide Unchecked"}),o.jsx("button",{onClick:()=>{G(On?[]:ad.map(w=>w.value)),Cn(w=>!w)},style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:On?"#22c55e":"#ef4444",color:"#fff",boxShadow:On?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:On?"Uncheck All Regular":"Check All Regular"}),o.jsx("button",{onClick:()=>{if(xe)J({}),Se(!1);else{const w={};wt.length>0?wt.forEach(T=>{w[T.value]={},(T.intervals||[]).forEach(I=>{const ne=I.interval||I;w[T.value][ne]=!0})}):Object.keys(V||{}).forEach(T=>{w[T]={},Object.keys(V[T]||{}).forEach(I=>{w[T][I]=!0})}),J(w),Se(!0)}},style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:xe?"#ef4444":"#22c55e",color:"#fff",boxShadow:xe?"0 2px 8px #ef444444":"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:xe?"Uncheck All JSON":"Check All JSON"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap",marginLeft:8,background:"#222",color:"#fff",padding:8,border:"2px solid #fbbf24",borderRadius:8},children:[o.jsx("span",{style:{fontWeight:500,marginRight:4},children:"Intervals:"}),Nw.map(w=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:36},children:[o.jsx("input",{type:"checkbox",checked:kr[w]||!1,onChange:T=>{const I=T.target.checked;Ar({...kr,[w]:I}),J(ne=>{const ie={...ne};return wt.forEach(fe=>{fe.intervals.some(Ce=>Ce.interval===w&&Ce.exists)&&(ie[fe.value]={...ie[fe.value],[w]:I})}),ie})},style:{transform:"scale(1.05)"}}),o.jsx("span",{style:{fontSize:13},children:w})]},w))]}),o.jsx("button",{onClick:cs,style:{padding:"6px 18px",borderRadius:6,border:"none",fontWeight:600,fontSize:15,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s",marginLeft:8},title:"Save label order and checkbox state",children:"Save"})]}),o.jsx("button",{onClick:()=>it(!1),style:{background:"none",border:"none",fontSize:22,color:"inherit",cursor:"pointer",marginLeft:12},"aria-label":"Close",children:""})]}),o.jsx("div",{style:{overflowY:"auto",padding:32,flex:1,minHeight:0,position:"relative"},children:o.jsx(av,{backend:cv,children:o.jsx(eW,{items:Je,moveLabel:(w,T)=>{_t(I=>{const ne=[...I],[ie]=ne.splice(w,1);return ne.splice(T,0,ie),ne})},renderRow:(w,T)=>{let I=!0;return w.type==="regular"&&(fr&&(I=!1),!en&&!j.includes(w.value)&&(I=!1)),w.type==="json"&&Array.isArray(w.intervals)&&(w.intervals.some(({interval:ie})=>{var fe;return!en||!!((fe=V==null?void 0:V[w.value])!=null&&fe[ie])})||(I=!1)),o.jsxs("div",{style:{display:I?void 0:"none",width:"100%"},children:[w.type==="regular"&&o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[o.jsx("input",{type:"checkbox",checked:j.includes(w.value),onChange:ne=>{ne.target.checked?G([...j,w.value]):G(j.filter(ie=>ie!==w.value))}}),w.label]}),w&&w.type==="json"&&Array.isArray(w.intervals)&&(()=>{const ne=(w.intervals||[]).filter(({interval:ie})=>{var fe;return!en||!!((fe=V==null?void 0:V[w.value])!=null&&fe[ie])});return ne.length===0?null:o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"space-between",marginBottom:1,lineHeight:1.2},children:o.jsx("span",{style:{fontWeight:500,fontSize:"0.95em"},children:w.label||p(w.value)})}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:0,alignItems:"flex-start",lineHeight:1},children:ne.map(({interval:ie,exists:fe})=>{var Ce;return o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:40,opacity:fe?1:.5,padding:"1px 0",lineHeight:1},children:[o.jsx("input",{type:"checkbox",checked:!!((Ce=V==null?void 0:V[w.value])!=null&&Ce[ie]),disabled:!fe,onChange:ue=>{J(Qe=>({...Qe,[w.value]:{...Qe[w.value],[ie]:ue.target.checked}}))},style:{transform:"scale(0.9)"}}),o.jsx("span",{style:{fontSize:"0.8em",fontWeight:500,lineHeight:1},children:ie})]},w.value+"_"+ie)})})]})})()]})},activeJsonLabels:V,setActiveJsonLabels:J,showUnchecked:en,dragOverIndex:nr,setDragOverIndex:bi})})})]})]})]}),o.jsx("div",{style:{position:"absolute",top:24,right:130,zIndex:100,display:"flex",gap:4}}),o.jsx("button",{onClick:()=>E(w=>!w),style:{position:"absolute",right:32,top:24,zIndex:100,padding:8,borderRadius:"50%",background:y?"#222":"#fff",color:y?"#fff":"#222",border:"1.5px solid #888",fontSize:22,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},title:y?"Switch to Light Mode":"Switch to Dark Mode",children:y?"":""}),o.jsx("div",{style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"},children:o.jsxs("div",{style:{padding:"0 64px 0 32px",position:"relative",display:"flex",flexDirection:"column",boxSizing:"border-box"},children:[o.jsxs("div",{style:{flex:"0 0 auto",marginBottom:8},children:[o.jsxs("button",{type:"button",onClick:Ie,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",border:y?"1px solid #334155":"1px solid #d1d5db",borderRadius:8,background:y?"#334155":"#e5e7eb",color:y?"#e2e8f0":"#111",fontSize:15,fontWeight:600,cursor:"pointer",textAlign:"left"},title:R?"Collapse summary and filters":"Expand summary and filters",children:[o.jsx("span",{children:"Summary, filters & signals (5m, 15m, 1h, 4h)"}),o.jsx("span",{style:{fontSize:16},children:R?" Collapse":" Expand"})]}),R&&o.jsxs(o.Fragment,{children:[(_n==null?void 0:_n.ok)&&(_n==null?void 0:_n.intervals)&&o.jsxs("div",{style:{marginTop:12,border:y?"1px solid #334155":"1px solid #e2e8f0",borderRadius:8,background:y?"#1e293b":"#f1f5f9",overflow:"hidden"},children:[o.jsxs("button",{type:"button",onClick:ze,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",border:"none",background:y?"#334155":"#e2e8f0",color:y?"#e2e8f0":"#222",fontSize:13,fontWeight:600,cursor:"pointer",textAlign:"left"},children:[o.jsx("span",{children:"Signals (5m, 15m, 1h, 4h)"}),o.jsx("span",{children:$e?" Collapse":" Expand"})]}),$e&&o.jsx("div",{style:{maxHeight:"32vh",overflowY:"auto",padding:12},children:o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12,padding:12,background:y?"#0f172a":"#fff",borderRadius:6,border:y?"1px solid #475569":"1px solid #e2e8f0"},children:["5m","15m","1h","4h"].map(w=>{const T=_n.intervals[w],I=T!=null&&T.ok?T.summary:null,ne=(T==null?void 0:T.error)||null;return o.jsxs("div",{style:{flex:"1 1 180px",minWidth:160,padding:12,background:y?"#0f172a":"#fff",borderRadius:6,border:y?"1px solid #475569":"1px solid #e2e8f0",color:y?"#e2e8f0":"#222",fontSize:12},children:[o.jsxs("div",{style:{fontWeight:700,marginBottom:8,color:y?"#38bdf8":"#0ea5e9"},children:[_n.symbol,"  ",w]}),ne&&o.jsx("div",{style:{color:"#ef4444"},children:ne}),I&&Array.isArray(I)&&I.length>0&&o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:I.map((ie,fe)=>o.jsxs("div",{style:{borderBottom:fe<I.length-1?y?"1px solid #334155":"1px solid #e2e8f0":"none",paddingBottom:8},children:[o.jsxs("div",{style:{fontWeight:600,marginBottom:4,fontSize:11,opacity:.9},children:["Row ",I.length-fe," (last ",I.length,")"]}),typeof ie=="object"&&ie!==null&&o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:2},children:Object.entries(ie).filter(([Ce,ue])=>ue!=null&&Ce!=="time").slice(0,14).map(([Ce,ue])=>{var Qe;return o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:6,fontSize:11},children:[o.jsx("span",{style:{opacity:.8},children:Ce}),o.jsx("span",{style:{fontWeight:500},children:typeof ue=="number"?Number.isInteger(ue)?ue:((Qe=ue==null?void 0:ue.toFixed)==null?void 0:Qe.call(ue,4))??ue:String(ue)})]},Ce)})})]},fe))}),(!I||Array.isArray(I)&&I.length===0)&&!ne&&o.jsx("div",{style:{opacity:.7},children:"No data"})]},w)})})})]}),o.jsx(J$,{uid:s,interval:l,candleType:c,onBack:()=>window.close(),gridPreview:Dn,filterBar:Pn,trades:Wt,darkMode:y})]})]}),o.jsx("div",{style:{margin:`${Te}px 0 0 0`,flex:"0 0 auto",display:"flex",flexDirection:"column"},children:o.jsxs("div",{style:{color:y?"#fff":"#222",margin:"4px 0 6px 0",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["Rows: ",Pt.length>0?Pt.length:vn.length," of ",Pt.length>0?pe:Qt]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Page: ",Pt.length>0?wn:Ue," of ",Pt.length>0?rr:Xt]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Columns: ",ad.length+wt.reduce((w,T)=>{var I;return w+(((I=T.intervals)==null?void 0:I.length)||0)},0)+Z$.length]}),o.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:o.jsxs("span",{style:{fontSize:12,opacity:.7,color:Wt.length===0?"#ef4444":"#22c55e",fontWeight:600},children:["(",Wt.length," events shown)"]})}),vn.length>0&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[o.jsx("span",{style:{opacity:.7},children:"Time Range:"}),o.jsx("span",{style:{fontWeight:600,color:y?"#0ea5e9":"#0d9488"},children:(ci=vn[0])!=null&&ci.candle_time?d(vn[0].candle_time):"N/A"}),o.jsx("span",{children:"to"}),o.jsx("span",{style:{fontWeight:600,color:y?"#0ea5e9":"#0d9488"},children:(O=vn[vn.length-1])!=null&&O.candle_time?d(vn[vn.length-1].candle_time):"N/A"}),o.jsx("button",{onClick:ao,style:{marginLeft:16,padding:"6px 12px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:"#22c55e",color:"#fff",boxShadow:"0 2px 4px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:"Export to Excel"})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:y?"#1e293b":"#f1f5f9",borderRadius:6,border:y?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("span",{style:{fontWeight:600,color:y?"#fff":"#222",fontSize:12},children:"Rows:"}),o.jsx("input",{type:"number",min:"10",max:"5000",value:ln,onChange:w=>{const T=parseInt(w.target.value);!isNaN(T)&&T>=10&&T<=5e3&&lt(T)},onKeyPress:w=>{w.key==="Enter"&&Wn(ln)},onBlur:()=>Wn(ln),style:{width:50,padding:"2px 4px",borderRadius:3,border:"1px solid #888",background:y?"#23272f":"#fff",color:y?"#fff":"#222",fontSize:12,textAlign:"center"}})]}),(Pt.length>0?rr:Xt)>1&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:y?"#1e293b":"#f1f5f9",borderRadius:6,border:y?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("button",{onClick:()=>gn(1),disabled:Ue===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:Ue===1?y?"#334155":"#e5e7eb":y?"#0ea5e9":"#0d9488",color:Ue===1?y?"#6b7280":"#9ca3af":"#fff",cursor:Ue===1?"not-allowed":"pointer",opacity:Ue===1?.5:1},children:"First"}),o.jsx("button",{onClick:()=>Pt.length>0?In(wn-1):gn(Ue-1),disabled:(Pt.length>0?wn:Ue)===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Pt.length>0?wn:Ue)===1?y?"#334155":"#e5e7eb":y?"#0ea5e9":"#0d9488",color:(Pt.length>0?wn:Ue)===1?y?"#6b7280":"#9ca3af":"#fff",cursor:(Pt.length>0?wn:Ue)===1?"not-allowed":"pointer",opacity:(Pt.length>0?wn:Ue)===1?.5:1},children:""}),o.jsxs("span",{style:{fontWeight:600,color:y?"#fff":"#222",fontSize:12},children:[Pt.length>0?wn:Ue,"/",Pt.length>0?rr:Xt]}),o.jsx("button",{onClick:()=>Pt.length>0?In(wn+1):gn(Ue+1),disabled:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?y?"#334155":"#e5e7eb":y?"#0ea5e9":"#0d9488",color:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?y?"#6b7280":"#9ca3af":"#fff",cursor:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?"not-allowed":"pointer",opacity:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?.5:1},children:""}),o.jsx("button",{onClick:()=>Pt.length>0?In(rr):gn(Xt),disabled:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?y?"#334155":"#e5e7eb":y?"#0ea5e9":"#0d9488",color:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?y?"#6b7280":"#9ca3af":"#fff",cursor:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?"not-allowed":"pointer",opacity:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?.5:1},children:"Last"})]})]})]})}),o.jsx("div",{className:"overflow-auto border border-gray-300 rounded-lg",style:{background:y?"#181a20":"#f5ecd7",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:y?"1px solid #334155":"1px solid #d1d5db",fontSize:`${te}em`,position:"relative",minHeight:420},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"6px 0 4px 0",paddingLeft:8,paddingRight:8},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:18}}),o.jsxs("table",{className:"w-full border-collapse",style:{fontSize:"inherit",color:y?"#fff":"#222"},children:[o.jsxs("thead",{className:"sticky top-0 z-30",style:{background:y?"#0f766e":"#0d9488",color:"white",fontSize:"inherit",zIndex:30},children:[o.jsx("tr",{style:{position:"sticky",top:0,zIndex:31,background:y?"#0f766e":"#0d9488"},children:Je.map((w,T)=>{const I=w.type==="json"&&Array.isArray(w.intervals);if(w.type==="regular"&&j.includes(w.value)){const ne=T===0||T===1,ie=y?"#5eead4":"#e0fcf7";return o.jsx("th",{rowSpan:2,className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${Ln}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:ie,minWidth:120,overflow:"visible",whiteSpace:Rn?"normal":"nowrap",wordBreak:Rn?"break-word":"normal",position:ne?"sticky":void 0,left:ne?T===0?0:120:void 0,zIndex:ne?40:void 0},title:w.label,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>Tn("regular",w.value),style:{marginRight:4,background:"none",border:"none",color:Lt===w.value?Ot==="asc"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none"},title:`Sort by ${w.label} (whole data)`,children:["w",Lt===w.value?Ot==="asc"?"":"":""]}),o.jsx("span",{children:w.label}),o.jsxs("button",{onClick:()=>Or("regular",w.value),style:{marginLeft:4,background:"none",border:"none",color:dn&&dn.type==="regular"&&dn.key===w.value?ir==="asc"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none"},title:`Sort by ${w.label} (table only)`,children:["t",dn&&dn.type==="regular"&&dn.key===w.value?ir==="asc"?"":"":""]})]})},w.value)}if(I){const ne=w.intervals.filter(({interval:fe})=>{var Ce;return!!((Ce=V[w.value])!=null&&Ce[fe])});if(ne.length===0)return null;const ie=T%2===0?y?"#fbbf24":"#ffe082":y?"#fb923c":"#ffd6a5";return o.jsx("th",{colSpan:ne.length,className:"relative px-4 py-3 text-left whitespace-nowrap",style:{fontSize:`${Ln}em`,fontWeight:"bold",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:ie,minWidth:120,overflow:"visible",whiteSpace:Rn?"normal":"nowrap",wordBreak:Rn?"break-word":"normal"},title:w.label,children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("span",{children:w.label})})},w.value)}return null})}),o.jsx("tr",{children:Je.map((w,T)=>{if(w.type==="json"&&Array.isArray(w.intervals)){const I=w.intervals.filter(({interval:ie})=>{var fe;return!!((fe=V[w.value])!=null&&fe[ie])}),ne=T%2===0?y?"#1e293b":"#e0e7ef":y?"#334155":"#f1f5f9";return I.map(({interval:ie})=>o.jsx("th",{className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${Ln}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:y?"#fff":"#222",background:ne,minWidth:90,overflow:"visible",whiteSpace:Rn?"normal":"nowrap",wordBreak:Rn?"break-word":"normal"},title:ie,onClick:()=>Or("json",ie,w.value,ie),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:v(ie)}),o.jsx("span",{className:"ml-1 opacity-60",children:dn&&dn.type==="json"&&dn.parentKey===w.value&&dn.interval===ie?ir==="asc"?"":"":""})]})},w.value+"_"+ie))}return null})})]}),o.jsx("tbody",{children:er.map((w,T)=>{var Ce;let I=null;if(w.parsed_json_message&&typeof w.parsed_json_message=="object")I=w.parsed_json_message;else if(w.json_message)try{if(typeof w.json_message=="string"){let ue=w.json_message.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");I=JSON.parse(ue)}else I=w.json_message}catch{I={}}else if(w.json_data)try{if(typeof w.json_data=="string"){let ue=w.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");I=JSON.parse(ue)}else I=w.json_data}catch{I={}}const ne={...((Ce=I==null?void 0:I.signal_data)==null?void 0:Ce.all_last_rows)||{},json_message:I&&typeof I=="object"&&!Array.isArray(I)?I:{}},ie=w.unique_id!=null?w.unique_id:T,fe=as===ie;return o.jsx("tr",{className:"cursor-pointer",style:{fontSize:"inherit",borderBottom:y?"1px solid #334155":"1px solid #e5e7eb",transition:"all 0.15s ease-in-out",color:y?"#fff":"#222",background:fe?"#ffe066":void 0},onClick:()=>mn(fe?null:ie),onMouseEnter:ue=>{fe||(ue.currentTarget.style.background=y?"#3d4451":"#f0f9ff",ue.currentTarget.style.color=y?"#fff":"#222")},onMouseLeave:ue=>{fe||(ue.currentTarget.style.background="",ue.currentTarget.style.color="")},children:Je.map((ue,Qe)=>{if(ue.type==="regular"&&j.includes(ue.value)){if(!ad.find(Nr=>Nr.value===ue.value))return null;const fn=Qe===0||Qe===1,jn=fe?"#ffe066":fn?y?"#5eead4":"#e0fcf7":void 0,ur=fe||fn?"#111":y?"#fff":"#222";return o.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:{fontSize:"inherit",color:fe?"#111":ur,background:jn,minWidth:120,overflow:"visible",whiteSpace:"nowrap",position:fn?"sticky":void 0,left:fn?Qe===0?0:120:void 0,zIndex:fn?30:void 0,padding:"1px 6px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"},title:w[ue.value]!=null?_(w[ue.value],ue.value,{forTooltip:!0}):"",children:w[ue.value]!=null?_(w[ue.value],ue.value):""},ue.value)}if(ue.type==="json"&&Array.isArray(ue.intervals)){const It=ue.intervals.filter(({interval:ur})=>{var Nr;return!!((Nr=V[ue.value])!=null&&Nr[ur])}),fn=fe?"#ffe066":Qe%2===0?y?"#1e293b":"#e0e7ef":y?"#334155":"#f1f5f9",jn=fe?"#111":y?"#fff":"#222";return It.map(({interval:ur})=>{let Nr=ne[ur]?ne[ur][ue.value]:void 0;return o.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:{fontSize:"inherit",color:jn,background:fn,minWidth:90,overflow:"visible",whiteSpace:"nowrap",padding:"1px 4px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"},title:Nr!==void 0?_(Nr,ue.value,{forTooltip:!0}):"",children:Nr!==void 0?_(Nr,ue.value):"-"},ue.value+"_"+ur)})}return null})},T)})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"12px 0 8px 0",padding:"8px 12px",background:y?"#1e293b":"#f1f5f9",borderRadius:6,border:y?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("span",{style:{fontWeight:600,color:y?"#fff":"#222",fontSize:14},children:"Rows per page:"}),o.jsx("input",{type:"number",min:"10",max:"5000",value:ln,onChange:w=>{const T=parseInt(w.target.value);!isNaN(T)&&T>=10&&T<=5e3&&lt(T)},onKeyPress:w=>{w.key==="Enter"&&Wn(ln)},onBlur:()=>Wn(ln),style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #888",background:y?"#23272f":"#fff",color:y?"#fff":"#222",fontSize:14,textAlign:"center"}}),o.jsx("span",{style:{fontSize:12,opacity:.7,color:y?"#9ca3af":"#6b7280"},children:"(10-5000)"})]}),(Pt.length>0?rr:Xt)>1&&o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"16px 0 8px 0",padding:"12px",background:y?"#23272f":"#f8f9fa",borderRadius:8,border:y?"1px solid #334155":"1px solid #e5e7eb"},children:[o.jsx("button",{onClick:()=>Pt.length>0?In(1):gn(1),disabled:(Pt.length>0?wn:Ue)===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:(Pt.length>0?wn:Ue)===1?y?"#334155":"#e5e7eb":y?"#0ea5e9":"#0d9488",color:(Pt.length>0?wn:Ue)===1?y?"#6b7280":"#9ca3af":"#fff",cursor:(Pt.length>0?wn:Ue)===1?"not-allowed":"pointer",opacity:(Pt.length>0?wn:Ue)===1?.5:1},children:"First"}),o.jsx("button",{onClick:()=>Pt.length>0?In(wn-1):gn(Ue-1),disabled:(Pt.length>0?wn:Ue)===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:(Pt.length>0?wn:Ue)===1?y?"#334155":"#e5e7eb":y?"#0ea5e9":"#0d9488",color:(Pt.length>0?wn:Ue)===1?y?"#6b7280":"#9ca3af":"#fff",cursor:(Pt.length>0?wn:Ue)===1?"not-allowed":"pointer",opacity:(Pt.length>0?wn:Ue)===1?.5:1},children:"Previous"}),o.jsxs("span",{style:{fontWeight:600,color:y?"#fff":"#222"},children:["Page ",Pt.length>0?wn:Ue," of ",Pt.length>0?rr:Xt]}),o.jsx("button",{onClick:()=>Pt.length>0?In(wn+1):gn(Ue+1),disabled:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt),style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?y?"#334155":"#e5e7eb":y?"#0ea5e9":"#0d9488",color:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?y?"#6b7280":"#9ca3af":"#fff",cursor:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?"not-allowed":"pointer",opacity:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?.5:1},children:"Next"}),o.jsx("button",{onClick:()=>Pt.length>0?In(rr):gn(Xt),disabled:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt),style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?y?"#334155":"#e5e7eb":y?"#0ea5e9":"#0d9488",color:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?y?"#6b7280":"#9ca3af":"#fff",cursor:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?"not-allowed":"pointer",opacity:(Pt.length>0?wn:Ue)===(Pt.length>0?rr:Xt)?.5:1},children:"Last"})]})]})})]})})]})};function rW(t=""){const e=typeof import.meta<"u"?"/lab_live/".replace(/\/$/,""):"",n=e?`${e}/live-trade-view`:"/live-trade-view";return`${window.location.origin}${n}${t?`?${t}`:""}`}const sW="demo123";function jw(t){if(t==null)return"";const e=String(t);if(typeof document>"u")return e.replace(/<[^>]+>/g,"").trim();const n=document.createElement("div");return n.innerHTML=e,(n.textContent||"").trim()}function iW(){var P,ce,L,F;const t=Ji(),e=Xc(),[n,r]=x.useState(()=>{var C;return((C=t.state)==null?void 0:C.trades)??[]}),[s,l]=x.useState(()=>{var H,de;const C=t.state;return(H=C==null?void 0:C.formattedRows)!=null&&H.length?C.formattedRows:(de=C==null?void 0:C.trades)!=null&&de.length?C.trades.map((tt,rt)=>Uc(tt,rt)):[]}),[c,d]=x.useState(!((ce=(P=t.state)==null?void 0:P.trades)!=null&&ce.length)),[h,g]=x.useState(new Set),[p,v]=x.useState({}),[_,y]=x.useState(""),[E,S]=x.useState(""),[k,D]=x.useState(""),[A,M]=x.useState({open:!1,action:null}),[Y,Q]=x.useState(""),[K,z]=x.useState({open:!1,action:null,rows:[]}),[ee,se]=x.useState(""),oe=s,Ee=oe.length?Object.keys(oe[0]).filter(C=>C!==""):[];x.useEffect(()=>{var H,de;if((de=(H=t.state)==null?void 0:H.trades)!=null&&de.length)return;let C=!1;return(async()=>{try{const tt=await Bn("/api/trades");if(C||!tt.ok)return;const rt=await tt.json();if(C||!Array.isArray(rt))return;const Ze=rt.filter(Et=>Et.type==="running"||Et.type==="hedge_hold");r(Ze),l(Ze.map((Et,bn)=>Uc(Et,bn)))}catch{}d(!1)})(),()=>{C=!0}},[(F=(L=t.state)==null?void 0:L.trades)==null?void 0:F.length]);const re=x.useCallback(C=>{g(H=>{const de=new Set(H);return de.has(C)?de.delete(C):de.add(C),de})},[]),me=x.useCallback(()=>{h.size>=oe.length?g(new Set):g(new Set(oe.map((C,H)=>H)))},[oe.length,h.size]),je=(C,H)=>p[`${C}_${H}`]??"",We=(C,H,de)=>{v(tt=>({...tt,[`${C}_${H}`]:de}))},ae=C=>{if([...h].length===0){se("Select at least one trade.");return}M({open:!0,action:C}),Q("")},Le=()=>{const C=(Y||"").trim();if(!C||C!==sW)return;M(tt=>({...tt,open:!1}));const de=[...h].map(tt=>({index:tt,raw:n[tt],formatted:oe[tt],execAmount:je(tt,"exec")||_,invAmount:je(tt,"inv")||E,stopPrice:je(tt,"stop")||k}));z({open:!0,action:A.action,rows:de})},Re=x.useCallback(async()=>{z(C=>({...C,open:!1})),await new Promise(C=>setTimeout(C,400)),se("Success!"),setTimeout(()=>se(""),2e3)},[]),jt=(C,H)=>{const de=`liveTradeViewState_${Date.now()}`;try{localStorage.setItem(de,JSON.stringify({formattedRow:C,rawTrade:H}))}catch{}const tt=rW(`stateKey=${encodeURIComponent(de)}`);window.open(tt,"_blank","noopener,noreferrer")};return c&&oe.length===0?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0f0f] text-white",children:o.jsx("p",{children:"Loading running trades"})}):o.jsxs("div",{className:"min-h-screen bg-[#f5f6fa] dark:bg-[#0f0f0f] text-[#222] dark:text-gray-200 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-3 py-1.5 rounded-lg bg-teal-600 hover:bg-teal-700 text-white font-medium",children:" Back"}),o.jsx(JN,{className:"px-3 py-1.5 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium"})]}),o.jsx("h1",{className:"text-xl font-semibold",children:"Live  All running trades"})]}),ee&&o.jsx("div",{className:"mb-4 p-3 rounded-lg bg-green-600 text-white text-center font-medium",children:ee}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#181a20] text-sm",children:[o.jsxs("thead",{children:[o.jsxs("tr",{className:"bg-teal-800 text-white",children:[o.jsx("th",{className:"border p-1 w-10",children:"Select"}),o.jsx("th",{className:"border p-1",children:"Execute"}),o.jsx("th",{className:"border p-1",children:"End Trade"}),o.jsx("th",{className:"border p-1",children:"Hedge"}),o.jsx("th",{className:"border p-1",children:"Add Inv"}),o.jsx("th",{className:"border p-1 min-w-[80px]",children:"Inv amt"}),o.jsx("th",{className:"border p-1 min-w-[80px]",children:"Exec amt"}),o.jsx("th",{className:"border p-1 min-w-[90px]",children:"Stop price"}),o.jsx("th",{className:"border p-1",children:"Set stop"}),o.jsx("th",{className:"border p-1",children:"Live"}),Ee.map(C=>o.jsx("th",{className:"border p-1 whitespace-nowrap",children:C.replace(/_/g," ")},C))]}),o.jsxs("tr",{className:"bg-teal-700/80 text-white",children:[o.jsx("td",{className:"border p-1 text-center",children:o.jsx("input",{type:"checkbox",checked:oe.length>0&&h.size===oe.length,onChange:me,title:"Select all"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>ae("execute"),className:"px-2 py-1 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-semibold",children:"Execute"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>ae("endTrade"),className:"px-2 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-xs font-semibold",children:"End Trade"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>ae("hedge"),className:"px-2 py-1 rounded bg-amber-600 hover:bg-amber-700 text-white text-xs font-semibold",children:"Hedge"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>ae("addInvestment"),className:"px-2 py-1 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-semibold",children:"Add Inv"})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",placeholder:"Inv",value:E,onChange:C=>S(C.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs"})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",placeholder:"Exec",value:_,onChange:C=>y(C.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs"})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",placeholder:"Stop",value:k,onChange:C=>D(C.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>ae("setStopPrice"),className:"px-2 py-1 rounded bg-gray-600 hover:bg-gray-700 text-white text-xs font-semibold",children:"Set stop"})}),o.jsx("td",{className:"border p-1"}),o.jsx("td",{className:"border p-1"}),Ee.map(C=>o.jsx("td",{className:"border p-1 opacity-70 text-xs",children:""},C))]})]}),o.jsx("tbody",{children:oe.map((C,H)=>o.jsxs("tr",{className:h.has(H)?"bg-teal-100 dark:bg-teal-900/30":"",children:[o.jsx("td",{className:"border p-1 text-center",children:o.jsx("input",{type:"checkbox",checked:h.has(H),onChange:()=>re(H)})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>{g(new Set([H])),ae("execute")},className:"px-2 py-0.5 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs",children:"Execute"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>{g(new Set([H])),ae("endTrade")},className:"px-2 py-0.5 rounded bg-red-600 hover:bg-red-700 text-white text-xs",children:"End"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>{g(new Set([H])),ae("hedge")},className:"px-2 py-0.5 rounded bg-amber-600 hover:bg-amber-700 text-white text-xs",children:"Hedge"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>{g(new Set([H])),ae("addInvestment")},className:"px-2 py-0.5 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs",children:"Add Inv"})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",placeholder:"0",value:je(H,"inv"),onChange:de=>We(H,"inv",de.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs max-w-[70px]"})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",placeholder:"0",value:je(H,"exec"),onChange:de=>We(H,"exec",de.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs max-w-[70px]"})}),o.jsx("td",{className:"border p-1",children:o.jsx("input",{type:"text",placeholder:"",value:je(H,"stop"),onChange:de=>We(H,"stop",de.target.value),className:"w-full border rounded px-1 py-0.5 bg-white dark:bg-[#222] text-[#222] dark:text-gray-200 text-xs max-w-[80px]"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>{g(new Set([H])),ae("setStopPrice")},className:"px-2 py-0.5 rounded bg-gray-600 hover:bg-gray-700 text-white text-xs",children:"Set"})}),o.jsx("td",{className:"border p-1",children:o.jsx("button",{type:"button",onClick:()=>jt(C,n[H]),className:"px-2 py-0.5 rounded bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-semibold",children:"Live"})}),Ee.map(de=>o.jsx("td",{className:"border p-1 align-top",children:de==="Pair"?o.jsx("span",{dangerouslySetInnerHTML:{__html:C[de]??""}}):jw(String(C[de]??""))},de))]},H))})]})}),A.open&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>M(C=>({...C,open:!1})),children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl",onClick:C=>C.stopPropagation(),children:[o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Password"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"Enter password to confirm."}),o.jsx("input",{type:"password",value:Y,onChange:C=>Q(C.target.value),onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),Le())},placeholder:"Password",className:"w-full border-2 rounded-lg px-3 py-2 mb-4 bg-white dark:bg-[#333] text-[#222] dark:text-gray-200"}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>M(C=>({...C,open:!1})),className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700",children:"Cancel"}),o.jsx("button",{type:"button",onClick:Le,className:"px-4 py-1.5 rounded-lg bg-teal-600 text-white",children:"Confirm"})]})]})}),K.open&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>z(C=>({...C,open:!1})),children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-auto shadow-xl",onClick:C=>C.stopPropagation(),children:[o.jsxs("h3",{className:"font-semibold text-lg mb-2",children:["Confirm  ",K.action]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Review and edit amounts if needed, then confirm."}),o.jsx("ul",{className:"space-y-2 mb-4",children:K.rows.map((C,H)=>{var de;return o.jsxs("li",{className:"flex flex-wrap items-center gap-2 p-2 rounded border border-gray-200 dark:border-gray-700",children:[o.jsx("span",{className:"font-medium",children:jw(C.formatted.Pair)||((de=C.raw)==null?void 0:de.pair)||""}),(K.action==="execute"||K.action==="addInvestment")&&o.jsx("input",{type:"text",placeholder:"Amount",defaultValue:C.execAmount||C.invAmount,className:"border rounded px-2 py-1 w-24 text-sm bg-white dark:bg-[#333]"}),K.action==="setStopPrice"&&o.jsx("input",{type:"text",placeholder:"Stop price",defaultValue:C.stopPrice,className:"border rounded px-2 py-1 w-24 text-sm bg-white dark:bg-[#333]"})]},H)})}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>z(C=>({...C,open:!1})),className:"px-3 py-1.5 rounded-lg bg-gray-200 dark:bg-gray-700",children:"Cancel"}),o.jsx("button",{type:"button",onClick:Re,className:"px-4 py-1.5 rounded-lg bg-teal-600 text-white",children:"Execute"})]})]})}),oe.length===0&&!c&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No running trades."})]})}function aW({onLogin:t}){const[e,n]=x.useState(""),[r,s]=x.useState(""),[l,c]=x.useState(""),[d,h]=x.useState(!1),g=async p=>{p.preventDefault(),c(""),h(!0);try{await C$(e,r),t()}catch(v){c((v==null?void 0:v.message)||"Login failed")}finally{h(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-[#06060a] p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#050508] via-[#0a0c14] to-[#060810]"}),o.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(ellipse 80% 50% at 50% -20%, rgba(20, 184, 166, 0.25), transparent), radial-gradient(ellipse 60% 40% at 100% 100%, rgba(6, 182, 212, 0.2), transparent), radial-gradient(ellipse 50% 50% at 0% 80%, rgba(20, 184, 166, 0.15), transparent)",animation:"login-graphics-pulse 12s ease-in-out infinite"}}),o.jsx("div",{className:"absolute inset-0 opacity-[0.06]",style:{backgroundImage:`linear-gradient(rgba(255,255,255,.2) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255,255,255,.2) 1px, transparent 1px)`,backgroundSize:"48px 48px",animation:"login-grid-flow 20s linear infinite"}}),o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] rounded-full pointer-events-none bg-teal-400/30",style:{filter:"blur(120px)",animation:"login-glow-pulse 8s cubic-bezier(0.45, 0, 0.55, 1) infinite",willChange:"transform, opacity"}}),o.jsx("div",{className:"absolute bottom-1/3 right-0 w-[500px] h-[400px] rounded-full pointer-events-none bg-cyan-400/25",style:{filter:"blur(130px)",animation:"login-orb-drift 14s cubic-bezier(0.45, 0, 0.55, 1) infinite",willChange:"transform"}}),o.jsx("div",{className:"absolute top-1/3 left-0 w-[400px] h-[450px] rounded-full pointer-events-none bg-teal-500/20",style:{filter:"blur(110px)",animation:"login-float-3d 20s cubic-bezier(0.45, 0, 0.55, 1) infinite",willChange:"transform"}}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] overflow-hidden pointer-events-none",style:{filter:"blur(80px)",animation:"login-morph 15s ease-in-out infinite",willChange:"border-radius, opacity"},children:o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-teal-500/22 to-cyan-500/18"})}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] overflow-hidden pointer-events-none",style:{filter:"blur(60px)",animation:"login-morph 18s ease-in-out infinite 2s",willChange:"border-radius, opacity"},children:o.jsx("div",{className:"w-full h-full bg-gradient-to-tr from-cyan-500/15 to-teal-500/12",style:{borderRadius:"inherit"}})}),o.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden","aria-hidden":!0,children:[[...Array(14)].map((p,v)=>o.jsx("div",{className:"absolute rounded-full bg-teal-400/90",style:{width:2+v%3,height:2+v%3,left:`${8+v*6.5%84}%`,top:`${12+v*7%76}%`,animation:`login-particle-float ${4+v%5}s ease-in-out infinite`,animationDelay:`${v*.15}s`,willChange:"transform, opacity"}},v)),[...Array(10)].map((p,v)=>o.jsx("div",{className:"absolute rounded-full bg-cyan-400/80",style:{width:1.5+v%2,height:1.5+v%2,left:`${3+v*10%94}%`,top:`${18+v*8%68}%`,animation:`login-particle-float ${5+v%4}s ease-in-out infinite`,animationDelay:`${v*.25+.3}s`,willChange:"transform, opacity"}},`c-${v}`)),[...Array(6)].map((p,v)=>o.jsx("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-white/60",style:{left:`${15+v*14%70}%`,top:`${25+v*12%55}%`,animation:`login-twinkle ${2.5+v%2}s ease-in-out infinite`,animationDelay:`${v*.4}s`}},`t-${v}`))]}),o.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden","aria-hidden":!0,children:[...Array(5)].map((p,v)=>o.jsx("div",{className:"absolute rounded-full bg-gradient-to-b from-transparent to-teal-400/40",style:{width:3,height:20+v*4,left:`${20+v*18}%`,bottom:"-30px",animation:`login-particle-rise ${8+v%3}s linear infinite`,animationDelay:`${v*1.6}s`,willChange:"transform, opacity"}},`r-${v}`))}),o.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden","aria-hidden":!0,children:[...Array(24)].map((p,v)=>{const _=v%2===0?"0":"1",y=v*4.2%100,E=12+v%5,S=v*.8%14,k=v%3===0?"login-binary-rise-alt":"login-binary-rise";return o.jsx("div",{className:"absolute bottom-0 flex items-center justify-center rounded-full border border-teal-400/30 bg-teal-500/10 font-mono font-bold text-teal-400/70 backdrop-blur-sm",style:{width:28+v%3*6,height:28+v%3*6,left:`${y}%`,fontSize:14+v%2*4,animation:`${k} ${E}s ease-in-out infinite`,animationDelay:`${S}s`,willChange:"transform, opacity"},children:_},`bin-${v}`)})}),o.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden","aria-hidden":!0,children:["{","}","</",">","(",")","[","]"].map((p,v)=>o.jsx("span",{className:"absolute font-mono text-cyan-400/25 text-lg font-bold",style:{left:`${12+v*11%78}%`,top:`${15+v*9%72}%`,animation:"login-code-float 8s ease-in-out infinite",animationDelay:`${v*.5}s`},children:p},`sym-${v}`))}),o.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:o.jsx("div",{className:"absolute left-0 w-full h-px bg-gradient-to-r from-transparent via-teal-400/25 to-transparent",style:{top:0,animation:"login-scanline 10s linear infinite"}})}),o.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden","aria-hidden":!0,children:[o.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-[0.22]",viewBox:"0 0 1200 800",fill:"none",children:[o.jsx("circle",{cx:"150",cy:"120",r:"180",stroke:"url(#login-grad1)",strokeWidth:"1.2",strokeDasharray:"8 4",fill:"none",style:{animation:"login-graphics-pulse 6s ease-in-out infinite, login-ring-rotate 40s linear infinite"}}),o.jsx("circle",{cx:"1050",cy:"680",r:"220",stroke:"url(#login-grad2)",strokeWidth:"1",strokeDasharray:"6 6",fill:"none",style:{animation:"login-graphics-pulse 8s ease-in-out infinite 1s, login-ring-rotate 50s linear infinite reverse"}}),o.jsx("circle",{cx:"600",cy:"400",r:"140",stroke:"rgba(20, 184, 166, 0.2)",strokeWidth:"0.8",strokeDasharray:"880",strokeDashoffset:"880",fill:"none",style:{animation:"login-stroke-draw 5s ease-out 0.5s forwards, login-scale-pulse 8s ease-in-out infinite 4s"}}),o.jsx("circle",{cx:"900",cy:"150",r:"120",stroke:"rgba(20, 184, 166, 0.4)",strokeWidth:"0.8",fill:"none",style:{animation:"login-scale-breathe 10s ease-in-out infinite"}}),o.jsx("circle",{cx:"200",cy:"550",r:"100",stroke:"rgba(6, 182, 212, 0.35)",strokeWidth:"0.8",fill:"none",style:{animation:"login-scale-breathe 12s ease-in-out infinite 0.5s"}}),o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"login-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#0d9488"}),o.jsx("stop",{offset:"50%",stopColor:"#06b6d4"}),o.jsx("stop",{offset:"100%",stopColor:"#0d9488"})]}),o.jsxs("linearGradient",{id:"login-grad2",x1:"100%",y1:"100%",x2:"0%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),o.jsx("stop",{offset:"50%",stopColor:"#0d9488"}),o.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})]})]}),o.jsxs("svg",{className:"absolute top-0 right-0 w-[550px] h-[550px] opacity-40",viewBox:"0 0 200 200",style:{animation:"login-graphics-spin-slow 45s linear infinite"},children:[o.jsx("path",{d:"M100 20 L180 100 L100 180 L20 100 Z",stroke:"rgba(20, 184, 166, 0.25)",strokeWidth:"0.6",fill:"none"}),o.jsx("path",{d:"M100 40 L160 100 L100 160 L40 100 Z",stroke:"rgba(6, 182, 212, 0.2)",strokeWidth:"0.5",fill:"none"}),o.jsx("path",{d:"M100 60 L140 100 L100 140 L60 100 Z",stroke:"rgba(20, 184, 166, 0.15)",strokeWidth:"0.4",fill:"none"})]}),o.jsxs("svg",{className:"absolute bottom-0 left-0 w-[450px] h-[450px] opacity-40",viewBox:"0 0 200 200",style:{animation:"login-graphics-spin-slow 55s linear infinite reverse"},children:[o.jsx("path",{d:"M100 20 L180 100 L100 180 L20 100 Z",stroke:"rgba(6, 182, 212, 0.2)",strokeWidth:"0.6",fill:"none"}),o.jsx("path",{d:"M100 50 L150 100 L100 150 L50 100 Z",stroke:"rgba(20, 184, 166, 0.15)",strokeWidth:"0.4",fill:"none"})]}),o.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-[0.18]",viewBox:"0 0 1200 800",fill:"none",children:[o.jsx("path",{d:"M0 400 Q300 180 600 400 T1200 400",stroke:"rgba(20, 184, 166, 0.5)",strokeWidth:"1",fill:"none",style:{animation:"login-float-smooth 10s ease-in-out infinite"}}),o.jsx("path",{d:"M0 500 Q400 280 800 500 T1200 500",stroke:"rgba(6, 182, 212, 0.45)",strokeWidth:"0.8",fill:"none",style:{animation:"login-float-smooth 13s ease-in-out infinite 0.5s"}}),o.jsx("path",{d:"M0 300 Q500 450 1200 300",stroke:"rgba(20, 184, 166, 0.28)",strokeWidth:"0.6",fill:"none",style:{animation:"login-float-smooth 11s ease-in-out infinite 1s"}}),o.jsx("line",{x1:"0",y1:"200",x2:"1200",y2:"200",stroke:"rgba(255,255,255,0.06)",strokeWidth:"0.5",style:{animation:"login-line-fade 5s ease-in-out infinite"}}),o.jsx("line",{x1:"0",y1:"600",x2:"1200",y2:"600",stroke:"rgba(255,255,255,0.06)",strokeWidth:"0.5",style:{animation:"login-line-fade 5s ease-in-out infinite 1s"}})]}),o.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 border border-teal-400/20 rounded-full",style:{animation:"login-float-3d 14s cubic-bezier(0.45, 0, 0.55, 1) infinite"}}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 border border-cyan-400/20 rounded-full",style:{animation:"login-float-3d 18s cubic-bezier(0.45, 0, 0.55, 1) infinite 1s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] border border-teal-500/15 rounded-full",style:{animation:"login-ring-rotate 30s linear infinite"}}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[180px] h-[180px] border border-cyan-500/10 rounded-full",style:{animation:"login-ring-rotate 25s linear infinite reverse"}})]}),o.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E")`}}),o.jsx("div",{className:"relative w-full max-w-[420px]",style:{animation:"login-card-enter 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards"},children:o.jsxs("div",{className:"rounded-2xl border border-white/10 bg-[#0e1015]/95 backdrop-blur-xl overflow-hidden",style:{animation:"login-card-glow 4s ease-in-out infinite"},children:[o.jsx("div",{className:"h-1 rounded-t-2xl",style:{background:"linear-gradient(90deg, #0d9488, #22d3ee, #14b8a6, #06b6d4, #0d9488)",backgroundSize:"200% 100%",animation:"login-bar-shine 4s linear infinite"}}),o.jsxs("div",{className:"p-8 sm:p-10 bg-gradient-to-b from-[#12141a]/98 to-[#0e1118]/98",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-600 shadow-lg shadow-teal-500/25",children:o.jsx(SF,{className:"w-6 h-6 text-white",strokeWidth:2.5})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"LAB"}),o.jsx("p",{className:"text-xs font-medium text-gray-500 tracking-widest uppercase",children:"Dashboard"})]})]}),o.jsx("p",{className:"text-center text-gray-400 text-sm mb-6",children:"Sign in with your credentials"}),o.jsxs("form",{onSubmit:g,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"login-email",className:"block text-sm font-semibold text-gray-300 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(gF,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 pointer-events-none"}),o.jsx("input",{id:"login-email",type:"email",value:e,onChange:p=>{n(p.target.value),c("")},placeholder:"name@company.com",autoComplete:"email",autoFocus:!0,disabled:d,className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-white/10 bg-[#0a0c12] text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500/60 focus:border-teal-500/50 disabled:opacity-60 transition-all duration-200"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"login-password",className:"block text-sm font-semibold text-gray-300 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(fF,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 pointer-events-none"}),o.jsx("input",{id:"login-password",type:"password",value:r,onChange:p=>{s(p.target.value),c("")},placeholder:"",autoComplete:"current-password",disabled:d,className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-white/10 bg-[#0a0c12] text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500/60 focus:border-teal-500/50 disabled:opacity-60 transition-all duration-200"})]})]}),l&&o.jsx("div",{className:"rounded-xl bg-red-500/10 border border-red-500/20 px-4 py-3",children:o.jsx("p",{className:"text-sm text-red-400 font-medium",children:l})}),o.jsx("button",{type:"submit",disabled:d,className:"w-full py-3.5 rounded-xl bg-gradient-to-r from-teal-500 to-cyan-600 hover:from-teal-400 hover:to-cyan-500 disabled:from-teal-700 disabled:to-cyan-800 disabled:cursor-not-allowed text-white font-semibold shadow-lg shadow-teal-500/25 hover:shadow-teal-500/40 transition-all duration-200 flex items-center justify-center gap-2",children:d?o.jsxs(o.Fragment,{children:[o.jsx(uF,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Signing in"})]}):"Sign in"})]}),o.jsx("p",{className:"mt-6 text-center text-xs text-gray-500",children:"Enter your credentials to continue"})]})]})})]})}function lW(){return new URLSearchParams(Ji().search)}const Aw=["2POLE_IN5LOOP","IMACD","2POLE_Direct_Signal","HIGHEST SWING HIGH","LOWEST SWING LOW","NORMAL SWING HIGH","NORMAL SWING LOW","ProGap","CrossOver","Spike","Kicker"],Ow=["1m","3m","5m","15m","30m","1h","4h","1d"],ld=[{label:"Symbol",value:"symbol"},{label:"Interval",value:"interval"},{label:"Signal Type",value:"signal_type"},{label:"Signal Source",value:"signal_source"},{label:"Candle Pattern",value:"candle_pattern"},{label:"Price",value:"price"},{label:"Squeeze Status",value:"squeeze_status"},{label:"Active Squeeze",value:"active_squeeze"},{label:"Machine ID",value:"machine_id"},{label:"Timestamp",value:"timestamp"},{label:"Processing Time",value:"processing_time_ms"},{label:"Created At",value:"created_at"},{label:"Unique ID",value:"Unique_id"},{label:"PL",value:"PL"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1",value:"Hedge_1_1"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Active Squeeze Trend",value:"signal_data_active_squeeze_trend"},{label:"Overall Trend RC",value:"signal_data_overall_trend_RC"},{label:"Overall Trend Percentage RC",value:"signal_data_overall_trend_percentage_RC"},{label:"Overall Trend HC",value:"signal_data_overall_trend_HC"},{label:"Overall Trend Percentage HC",value:"signal_data_overall_trend_percentage_HC"},{label:"Overall Trend 4h",value:"signal_data_overall_trend_4h"},{label:"Overall Trend Percentage 4h",value:"signal_data_overall_trend_percentage_4h"},{label:"Overall Trend 1h",value:"signal_data_overall_trend_1h"},{label:"Overall Trend Percentage 1h",value:"signal_data_overall_trend_percentage_1h"},{label:"Volume 1h",value:"signal_data_volume_1h"}],oW=[{label:"Machine ID",value:"MachineId"},{label:"Unique ID",value:"Unique_id"},{label:"Candle Time",value:"Candel_time"},{label:"Fetcher Trade Time",value:"Fetcher_Trade_time"},{label:"Operator Trade Time",value:"Operator_Trade_time"},{label:"Pair",value:"Pair"},{label:"Interval",value:"Interval"},{label:"Action",value:"Action"},{label:"PL After Comm",value:"Pl_after_comm"},{label:"Hedge Buy PL",value:"Hedge_Buy_pl"},{label:"Hedge Sell PL",value:"Hedge_Sell_pl"},{label:"Type",value:"Type"},{label:"Operator Close Time",value:"Operator_Close_time"},{label:"Signal From",value:"SignalFrom"},{label:"Profit Journey",value:"Profit_journey"},{label:"Commission Journey",value:"Commision_journey"},{label:"Stop Price",value:"Stop_price"},{label:"Save Price",value:"Save_price"},{label:"Min Comm",value:"Min_comm"},{label:"Hedge",value:"Hedge"},{label:"Hedge 1-1 Bool",value:"Hedge_1_1_bool"},{label:"Hedge Order Size",value:"Hedge_order_size"},{label:"Min Comm After Hedge",value:"Min_comm_after_hedge"},{label:"Min Profit",value:"Min_profit"},{label:"Buy Qty",value:"Buy_qty"},{label:"Buy Price",value:"Buy_price"},{label:"Buy PL",value:"Buy_pl"},{label:"Added Qty",value:"Added_qty"},{label:"Sell Qty",value:"Sell_qty"},{label:"Sell Price",value:"Sell_price"},{label:"Sell PL",value:"Sell_pl"},{label:"Close Price",value:"Close_price"},{label:"Commission",value:"Commission"},{label:"Investment",value:"Investment"},{label:"Swing1",value:"Swing1"},{label:"Swing2",value:"Swing2"},{label:"Swing3",value:"Swing3"},{label:"Swing4",value:"Swing4"},{label:"Swing5",value:"Swing5"},{label:"Hedge Swing High Point",value:"Hedge_Swing_High_Point"},{label:"Hedge Swing Low Point",value:"Hedge_Swing_Low_Point"},{label:"Temp High Point",value:"Temp_High_Point"},{label:"Temp Low Point",value:"Temp_Low_Point"}],Dw="LABEL_ROW";function cW({item:t,index:e,moveLabel:n,children:r,onHover:s,onDrop:l}){const c=qr.useRef(null),[,d]=ov({accept:Dw,hover(p){p.index!==e&&(n(p.index,e),p.index=e,s&&s())},drop(){l&&l()}}),[{isDragging:h},g]=lv({type:Dw,item:{index:e},collect:p=>({isDragging:p.isDragging()})});return g(d(c)),o.jsx("div",{ref:c,style:{opacity:h?.5:1,cursor:"grab",width:"auto",minWidth:160,maxWidth:340,flex:"1 1 220px",marginBottom:0,background:"inherit",boxSizing:"border-box",display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:r})}function uW({items:t,moveLabel:e,renderRow:n,activeJsonLabels:r,setActiveJsonLabels:s,showUnchecked:l,dragOverIndex:c,setDragOverIndex:d}){return o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12,width:"100%",alignItems:"flex-start",justifyContent:"flex-start",boxSizing:"border-box",minHeight:60,position:"relative"},children:t.map((h,g)=>o.jsxs("div",{style:{position:"relative",minWidth:220,maxWidth:340,flex:"1 1 220px",boxSizing:"border-box",marginBottom:0,display:"flex"},children:[c===g&&o.jsxs("div",{style:{position:"absolute",top:-8,left:0,width:"100%",height:0,zIndex:10,pointerEvents:"none",display:"flex",alignItems:"center"},children:[o.jsx("div",{style:{width:32,height:32,background:"#0ea5e9",color:"#fff",borderRadius:"50%",fontWeight:700,fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",marginLeft:8,marginBottom:2},children:g+1}),o.jsx("div",{style:{flex:1,height:4,background:"#ffe066",borderRadius:2,marginLeft:12,marginRight:8}})]}),o.jsxs(cW,{item:h,index:g,moveLabel:e,onHover:()=>d(g),onDrop:()=>d(null),children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:22},children:[o.jsxs("span",{style:{fontWeight:700,color:"#0ea5e9",minWidth:22,textAlign:"right"},children:[g+1,"."]}),h&&h.type==="json"&&Array.isArray(h.intervals)&&(()=>{const p=(h.intervals||[]).filter(({exists:E})=>E),v=p.filter(({interval:E})=>{var S;return!!((S=r==null?void 0:r[h.value])!=null&&S[E])}),_=p.length>0&&v.length===p.length,y=()=>{const E=!_;s(S=>{const k={...S};return k[h.value]||(k[h.value]={}),p.forEach(({interval:D})=>{k[h.value][D]=E}),k})};return o.jsxs("button",{onClick:y,style:{padding:"2px 8px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:_?"#22c55e":"#ef4444",color:"#fff",cursor:"pointer",transition:"background 0.2s",boxShadow:_?"0 2px 4px #22c55e44":"0 2px 4px #ef444444",minWidth:36},title:`${_?"Uncheck":"Check"} all intervals for ${(h==null?void 0:h.label)||""}`,children:[v.length,"/",p.length]})})()]}),n&&n(h,g)]})]},h.type+"_"+h.value))})}const dW=()=>{var Kr,ri,ci;const t=lW(),e=((Kr=t.get("symbols"))==null?void 0:Kr.split(","))||[];t.get("interval"),t.get("type");const n=O=>{if(!O)return"";try{const w=new Date(O);if(isNaN(w.getTime()))return O;const T=w.getUTCDate().toString().padStart(2,"0"),I=(w.getUTCMonth()+1).toString().padStart(2,"0"),ne=w.getUTCFullYear().toString().slice(-2),ie=w.getUTCHours().toString().padStart(2,"0"),fe=w.getUTCMinutes().toString().padStart(2,"0");return`${T}-${I}-${ne} ${ie}:${fe}`}catch{return O}},r=O=>{const w=["Candle_Time","timestamp","created_at","Time","Candel_time","Fetcher_Trade_time","Operator_Trade_time","Operator_Close_time","candle_time","time","date"],T=["processing_time_ms","processing_time"];return w.some(ne=>O.toLowerCase().includes(ne.toLowerCase()))&&!T.some(ne=>O.toLowerCase().includes(ne.toLowerCase()))},s=(O,w)=>{if(O==null||O==="")return"";if(r(w))return n(O);if(w==="PL"){const T=parseFloat(O);if(!isNaN(T))return T.toFixed(2)}return String(O)},[l,c]=x.useState(()=>{const O=localStorage.getItem("groupview_theme");if(O)return O==="dark";const w=localStorage.getItem("theme");return w?w==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{l?(document.body.classList.add("dark"),localStorage.setItem("groupview_theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("groupview_theme","light"))},[l]),x.useEffect(()=>{const O=w=>{if(w.key==="theme"||w.key==="groupview_theme"){const T=w.newValue==="dark";c(T)}};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]);const[d,h]=x.useState(()=>{const O=localStorage.getItem("groupview_selected_signals");if(O)return JSON.parse(O);const w={};return Aw.forEach(T=>w[T]=!0),w}),[g,p]=x.useState(()=>localStorage.getItem("groupview_signal_radio_mode")==="true"),[v,_]=x.useState(()=>localStorage.getItem("groupview_signal_toggle_all")==="true"),[y,E]=x.useState([]);x.useEffect(()=>{(async()=>{try{const T=await(await Bn("/api/machines")).json(),I=Array.isArray(T.machines)?T.machines.map(ne=>({MachineId:ne.machineid,Active:ne.active})):[];console.log(" [GroupViewPage] Fetched machines:",I),E(I)}catch(w){console.error(" [GroupViewPage] Error fetching machines:",w),E([])}})()},[]);const S=y,[k,D]=x.useState(()=>{const O=localStorage.getItem("groupview_selected_machines");if(O)return JSON.parse(O);const w={};return S.forEach(T=>w[T.MachineId]=!0),w}),[A,M]=x.useState(()=>localStorage.getItem("groupview_machine_radio_mode")==="true"),[Y,Q]=x.useState(()=>localStorage.getItem("groupview_machine_toggle_all")==="true"),[K,z]=x.useState([]),[ee,se]=x.useState(()=>{const O=localStorage.getItem("groupview_selected_actions");return O?JSON.parse(O):{BUY:!0,SELL:!0}});x.useEffect(()=>{if(K.length>0){const O=[...new Set(K.flatMap(w=>[w.Action,w.action,w.SignalType,w.signal_type].filter(Boolean)))];O.length>0&&se(w=>{const T={...w};return O.forEach(I=>{I in T||(T[I]=!0)}),T})}},[K]);const[oe,Ee]=x.useState(()=>localStorage.getItem("groupview_action_radio_mode")==="true"),[re,me]=x.useState(()=>localStorage.getItem("groupview_action_toggle_all")==="true"),[je,We]=x.useState(()=>{const O=localStorage.getItem("groupview_live_filter");if(O)try{return JSON.parse(O)}catch{return{true:!0,false:!0}}return{true:!0,false:!0}});x.useEffect(()=>{localStorage.setItem("groupview_live_filter",JSON.stringify(je))},[je]);const[ae,Le]=x.useState(()=>localStorage.getItem("groupview_live_radio_mode")==="true");x.useEffect(()=>{localStorage.setItem("groupview_live_radio_mode",ae?"true":"false")},[ae]),x.useEffect(()=>{Bn("/api/trades").then(O=>O.json()).then(O=>{const w=Array.isArray(O.trades)?O.trades:[],T=e.length>0?w.filter(I=>e.includes(I.pair)):w;console.log(" [GroupViewPage] Fetched trades:",{totalTrades:w.length,filteredTrades:T.length,symbols:e,sampleTrade:w[0],uniqueActions:[...new Set(w.map(I=>I.Action).filter(Boolean))]}),z(T)}).catch(O=>{console.error(" [GroupViewPage] Error fetching trades:",O),z([])})},[JSON.stringify(e)]);const[Re,jt]=x.useState([]),[P,ce]=x.useState(1),[L,F]=x.useState(0),[C,H]=x.useState(()=>{const O=localStorage.getItem("groupview_logs_per_page");return O?parseInt(O):100}),[de,tt]=x.useState(!0),[rt,Ze]=x.useState([]),[Et,bn]=x.useState(!1),[Mt,_n]=x.useState([]),[Jt,on]=x.useState(1),[Kt,Ue]=x.useState(1),[Nn,Xt]=x.useState(0),[xt,Qt]=x.useState(!1),[Yt,ln]=x.useState("Candle_Time"),[lt,Qn]=x.useState("DESC"),[Yn,he]=x.useState(!1),[$e,qe]=x.useState(!1);x.useEffect(()=>{tt(!0),ce(1);const O=e.length>0?`${Fn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(e.join(","))}&page=1&limit=${C}`:`${Fn("/api/SignalProcessingLogsWithUniqueId")}?page=1&limit=${C}`;console.log(" [GroupViewPage] Fetching logs from URL:",O),console.log(" [GroupViewPage] Symbols:",e),console.log(" [GroupViewPage] Symbols length:",e.length),Bn(O).then(w=>{if(console.log(" [GroupViewPage] API response status:",w.status),console.log(" [GroupViewPage] API response headers:",w.headers),!w.ok)throw new Error(`HTTP error! status: ${w.status}`);return w.json()}).then(w=>{var I,ne;console.log(" [GroupViewPage] API response:",w),console.log(" [GroupViewPage] API response type:",typeof w),console.log(" [GroupViewPage] API response keys:",Object.keys(w||{}));const T=Array.isArray(w.logs)?w.logs:[];if(console.log(" [GroupViewPage] Logs array length:",T.length),T.length>0)console.log(" [GroupViewPage] First log sample:",T[0]),console.log(" [GroupViewPage] Sample log unique_id:",T[0].unique_id),console.log(" [GroupViewPage] Sample log symbol:",T[0].symbol);else{console.log(" [GroupViewPage] No logs returned from API"),console.log(" [GroupViewPage] Full API response for debugging:",w),console.log(" [GroupViewPage] Trying fallback API...");const ie=e.length>0?`${Fn("/api/SignalProcessingLogs")}?symbol=${encodeURIComponent(e.join(","))}&page=1&limit=${C}`:`${Fn("/api/SignalProcessingLogs")}?page=1&limit=${C}`;Bn(ie).then(fe=>fe.json()).then(fe=>{var ue,Qe;console.log(" [GroupViewPage] Fallback API response:",fe);const Ce=Array.isArray(fe.logs)?fe.logs:[];console.log(" [GroupViewPage] Fallback logs array length:",Ce.length),jt(Ce),F(((ue=fe.pagination)==null?void 0:ue.total)||Ce.length),xr(((Qe=fe.pagination)==null?void 0:Qe.totalPages)||1),tt(!1)}).catch(fe=>{console.error(" [GroupViewPage] Fallback API error:",fe),jt([]),tt(!1)});return}if(jt(T),F(((I=w.pagination)==null?void 0:I.total)||T.length),xr(((ne=w.pagination)==null?void 0:ne.totalPages)||1),tt(!1),Array.isArray(w.logs)&&w.logs.length>0){let ie;try{ie=typeof w.logs[0].json_data=="string"?JSON.parse(w.logs[0].json_data):w.logs[0].json_data}catch(fe){console.log(" [GroupViewPage] JSON parse error:",fe);return}}}).catch(w=>{console.error(" [GroupViewPage] Error fetching logs:",w),console.error(" [GroupViewPage] Error details:",w.message),console.error(" [GroupViewPage] Error stack:",w.stack),jt([]),tt(!1)})},[JSON.stringify(e),C]),x.useEffect(()=>{var T;if(!Yt)return;Qt(!0);const O=((T=t.get("symbols"))==null?void 0:T.split(","))||[],w=O.length>0?`${Fn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(O.join(","))}&page=${Jt}&limit=${C}&sortKey=${Yt}&sortDirection=${lt}`:`${Fn("/api/SignalProcessingLogsWithUniqueId")}?page=${Jt}&limit=${C}&sortKey=${Yt}&sortDirection=${lt}`;Bn(w).then(I=>I.json()).then(I=>{var ne,ie;_n(Array.isArray(I.logs)?I.logs:[]),Xt(((ne=I.pagination)==null?void 0:ne.total)||0),Ue(((ie=I.pagination)==null?void 0:ie.totalPages)||1),Qt(!1)}).catch(()=>{_n([]),Xt(0),Ue(1),Qt(!1)})},[Jt,C,Yt,lt]);const[ze,Be]=x.useState(()=>{const O=localStorage.getItem("groupview_selected_candle_types");return O?JSON.parse(O):{Regular:!0,Heiken:!0}});x.useEffect(()=>{localStorage.setItem("groupview_selected_candle_types",JSON.stringify(ze))},[ze]);const R=x.useMemo(()=>{const O={Regular:0,Heiken:0,Unknown:0};return Re.forEach(w=>{var ie;const T=((ie=w.candle_pattern)==null?void 0:ie.toLowerCase())||"";T==="regular"||T==="normal"||T==="regular_candle"?O.Regular++:T==="heiken"||T==="heikin"||T==="heiken-ashi"||T==="heiken_ashi"||T==="heiken_candle"?O.Heiken++:O.Unknown++}),O},[Re]),ge=Re.filter(O=>{var ne;const w=((ne=O.candle_pattern)==null?void 0:ne.toLowerCase())||"",T=w==="regular"||w==="normal"||w==="regular_candle",I=w==="heiken"||w==="heikin"||w==="heiken-ashi"||w==="heiken_ashi"||w==="heiken_candle";return ze.Regular&&T||ze.Heiken&&I?!0:!ze.Regular&&!ze.Heiken?!1:(w===""?console.log(" [GroupViewPage] Log with empty candle pattern:",O):console.log(" [GroupViewPage] Log with unknown candle pattern:",w,O),!0)});x.useEffect(()=>{console.log(" [GroupViewPage] Filtered logs summary:",{totalLogs:Re.length,filteredLogs:ge.length,selectedCandleTypes:ze,candleTypeCounts:R})},[Re,ge,ze,R]);function Ie(O){return O.filter(w=>{const T=w.exist_in_exchange??w.Exist_in_exchange,I=T===!0||T==="true"||T===1||T==="1";if(!(je.true&&je.false)){if(je.true&&!I)return!1;if(je.false&&I)return!1;if(!je.true&&!je.false)return!1}if(Object.keys(d).length&&!d[w.SignalFrom]||Object.keys(k).length&&!k[w.MachineId])return!1;if(Object.keys(ee).length){const ne=w.Action||w.action||w.SignalType||w.signal_type;if(!ee[ne])return!1}return!0})}const wt=Ie(K),ht=O=>{if(O<10||O>5e3)return;H(O),ce(1),localStorage.setItem("groupview_logs_per_page",O.toString()),tt(!0);const w=e.length>0?`${Fn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(e.join(","))}&page=1&limit=${O}`:`${Fn("/api/SignalProcessingLogsWithUniqueId")}?page=1&limit=${O}`;Bn(w).then(T=>T.json()).then(T=>{var ne,ie;const I=Array.isArray(T.logs)?T.logs:[];jt(I),F(((ne=T.pagination)==null?void 0:ne.total)||I.length),xr(((ie=T.pagination)==null?void 0:ie.totalPages)||1),tt(!1),console.log(`[GroupViewPage] Changed to ${O} rows per page, fetched ${I.length} logs`)}).catch(T=>{console.error("[GroupViewPage] Error fetching logs:",T),jt([]),tt(!1)})},$t=O=>{if(O<1||O>Tn)return;tt(!0),ce(O);const w=e.length>0?`${Fn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(e.join(","))}&page=${O}&limit=${C}`:`${Fn("/api/SignalProcessingLogsWithUniqueId")}?page=${O}&limit=${C}`;Bn(w).then(T=>T.json()).then(T=>{var ne;const I=Array.isArray(T.logs)?T.logs:[];jt(I),console.log(`[GroupViewPage] Fetched ${I.length} logs for symbols: ${e.join(", ")||"all"} (Page ${O} of ${((ne=T.pagination)==null?void 0:ne.totalPages)||1})`)}).catch(T=>{console.error("[GroupViewPage] Error fetching logs:",T),jt([])}).finally(()=>{tt(!1)})},sn=o.jsx(Z0,{canonicalSignalKeys:Aw,selectedSignals:d,setSelectedSignals:h,signalRadioMode:g,setSignalRadioMode:p,signalToggleAll:v,setSignalToggleAll:_,allMachines:S,selectedMachines:k,setSelectedMachines:D,machineRadioMode:A,setMachineRadioMode:M,machineToggleAll:Y,setMachineToggleAll:Q,selectedActions:ee,setSelectedActions:se,actionRadioMode:oe,setActionRadioMode:Ee,actionToggleAll:re,setActionToggleAll:me,liveFilter:je,setLiveFilter:We,liveRadioMode:ae,setLiveRadioMode:Le,trades:K,darkMode:l});localStorage.getItem("groupview_reputation_enabled"),localStorage.getItem("groupview_reputation_intensity"),localStorage.getItem("groupview_reputation_mode"),K.filter(O=>{const w=O.exist_in_exchange??O.Exist_in_exchange,T=w===!0||w==="true"||w===1||w==="1";if(!(je.true&&je.false)){if(je.true&&!T)return!1;if(je.false&&T)return!1;if(!je.true&&!je.false)return!1}return!(Object.keys(d).length&&!d[O.SignalFrom]||Object.keys(k).length&&!k[O.MachineId]||Object.keys(ee).length&&!ee[O.action])});const bt=x.useMemo(()=>{const O={};return wt.forEach(w=>{w.unique_id&&(O[w.unique_id]=w)}),console.log("GroupViewPage tradesByUniqueId created:",{totalTrades:wt.length,tradesWithUniqueId:Object.keys(O).length,sampleKeys:Object.keys(O).slice(0,5),sampleTrades:Object.values(O).slice(0,3)}),O},[wt]),[ot,ct]=x.useState(()=>{const O=localStorage.getItem("groupview_font_size");return O?parseFloat(O):1});x.useEffect(()=>{localStorage.setItem("groupview_font_size",ot)},[ot]),x.useEffect(()=>{const O=localStorage.getItem("groupview_selected_json_columns");O&&JSON.parse(O)},[JSON.stringify(rt)]),x.useEffect(()=>{},[]),rt&&rt.length>0,x.useEffect(()=>{localStorage.getItem("groupview_selected_columns")},[]),x.useEffect(()=>{},[]),x.useEffect(()=>{localStorage.getItem("groupview_selected_trade_columns")},[]),x.useEffect(()=>{},[]);const Wt="groupview_regular_labels",vn=ld.map(O=>O.value),Wn=()=>{const O=localStorage.getItem(Wt);return O?JSON.parse(O):vn},[gn,Pn]=x.useState(()=>{const O=localStorage.getItem("groupview_settings_modal_open");return O?JSON.parse(O):!1}),[Dn,pn]=x.useState(Wn()),te="groupview_json_labels",Pe=()=>{const O=localStorage.getItem(te);if(O)try{const w=JSON.parse(O);return w&&typeof w=="object"?w:{}}catch{return{}}return{}},[He,Bt]=x.useState(Pe());function Ke(O){const w=new Set,T={};console.log(" [extractJsonLabelsAndIntervals] Starting extraction with",O.length,"logs"),O.forEach((ne,ie)=>{if(!ne.json_data){ie<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ie}: No json_data`);return}let fe;try{if(typeof ne.json_data=="string"){let Qe=ne.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");fe=JSON.parse(Qe)}else fe=ne.json_data}catch(Qe){ie<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ie}: JSON parse error:`,Qe);return}ie<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ie} JSON keys:`,Object.keys(fe||{}));const Ce=(fe==null?void 0:fe.signal_data)||(fe==null?void 0:fe.signaldata)||(fe==null?void 0:fe.signalData);ie<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ie} signalData:`,Ce?Object.keys(Ce):"undefined");const ue=Ce==null?void 0:Ce.all_last_rows;ie<3&&console.log(` [extractJsonLabelsAndIntervals] Log ${ie} allRows:`,ue?Object.keys(ue):"undefined"),ue&&typeof ue=="object"&&Object.keys(ue).forEach(Qe=>{if(Qe==="candle_type")return;w.add(Qe);const It=ue[Qe];It&&typeof It=="object"&&Object.keys(It).forEach(fn=>{T[fn]||(T[fn]=new Set),T[fn].add(Qe)})})}),console.log(" [extractJsonLabelsAndIntervals] Final intervalSet:",Array.from(w)),console.log(" [extractJsonLabelsAndIntervals] Final labelMap keys:",Object.keys(T));const I=Array.from(w).sort((ne,ie)=>{const fe=["1m","3m","5m","15m","30m","1h","2h","4h","1d"];return fe.indexOf(ne)-fe.indexOf(ie)});return Object.entries(T).map(([ne,ie])=>({label:ne,value:ne,intervals:I.map(fe=>({interval:fe,exists:ie.has(fe)}))}))}x.useEffect(()=>{var O,w,T,I,ne;if(Re.length>0){const ie=Ke(Re);if(console.log(" [GroupViewPage] Extracted JSON labels:",ie),console.log(" [GroupViewPage] First log json_data sample:",(O=Re[0])==null?void 0:O.json_data),console.log(" [GroupViewPage] First log json_data keys:",Object.keys(((w=Re[0])==null?void 0:w.json_data)||{})),(T=Re[0])!=null&&T.json_data){let fe;try{if(typeof Re[0].json_data=="string"){let ue=Re[0].json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");fe=JSON.parse(ue)}else fe=Re[0].json_data;console.log(" [GroupViewPage] Parsed JSON keys:",Object.keys(fe||{})),console.log(" [GroupViewPage] Full JSON structure:",fe),console.log(" [GroupViewPage] Looking for signal_data:",fe==null?void 0:fe.signal_data),console.log(" [GroupViewPage] Looking for signaldata:",fe==null?void 0:fe.signaldata),console.log(" [GroupViewPage] Looking for all_last_rows in signal_data:",(I=fe==null?void 0:fe.signal_data)==null?void 0:I.all_last_rows),console.log(" [GroupViewPage] Looking for all_last_rows in signaldata:",(ne=fe==null?void 0:fe.signaldata)==null?void 0:ne.all_last_rows),["signal_data","signaldata","signalData","Signal_data","Signal_Data"].forEach(ue=>{fe[ue]&&(console.log(` [GroupViewPage] Found field: ${ue}`,fe[ue]),fe[ue].all_last_rows&&console.log(` [GroupViewPage] Found all_last_rows in ${ue}:`,Object.keys(fe[ue].all_last_rows)))})}catch(Ce){console.log(" [GroupViewPage] JSON parse error:",Ce)}}ie.length>0&&console.log(" [GroupViewPage] First label intervals:",ie[0].intervals),Ze(ie),bn(!0)}},[Re]);function st(O,w){const T={};O.forEach(ue=>{T[ue.value]=ue});const I=Object.keys(w||{}),ne=I.filter(ue=>T[ue]),ie={};O.forEach(ue=>{!w[ue.value]&&!ie[ue.value]&&(ie[ue.value]=ue)});const fe=Object.values(ie),Ce=I.filter(ue=>!T[ue]);return{existed:ne,newlyAdded:fe,deleted:Ce}}st(rt,He||{}),Et?rt.filter(O=>He[O.value]).flatMap(O=>(O.intervals||[]).filter(w=>{var T;return(T=He[O.value])==null?void 0:T[w]}).map(w=>({parent:O,interval:w}))):Object.keys(He).flatMap(O=>Object.keys(He[O]||{}).filter(w=>He[O][w]).map(w=>({parent:{label:O,value:O},interval:w})));const it="groupview_unified_labels_order";function j(){const O=[],w=new Set;ld.forEach(I=>{w.has(I.value)||(O.push({type:"regular",value:I.value,label:I.label}),w.add(I.value))});const T=new Set;return rt.forEach(I=>{T.has(I.value)||(O.push({type:"json",value:I.value,label:I.label,intervals:I.intervals}),T.add(I.value))}),O}function G(O){const w=localStorage.getItem(it);if(w)try{const T=JSON.parse(w),I={};O.forEach(Ce=>{I[Ce.type+"_"+Ce.value]=Ce});const ne=T.map(Ce=>I[Ce.type+"_"+Ce.value]).filter(Boolean),ie=new Set(T.map(Ce=>Ce.type+"_"+Ce.value)),fe=O.filter(Ce=>!ie.has(Ce.type+"_"+Ce.value));return[...ne,...fe]}catch{return O}return O}const[B,q]=x.useState(()=>G(j())),V=x.useRef(!1);x.useEffect(()=>{if(V.current)return;const O=j();q(w=>{const T=new Set(w.map(Ce=>Ce.type+"_"+Ce.value)),I=new Set(O.map(Ce=>Ce.type+"_"+Ce.value));let ne=w.filter(Ce=>I.has(Ce.type+"_"+Ce.value));const ie=O.filter(Ce=>!T.has(Ce.type+"_"+Ce.value));return[...ne,...ie]})},[JSON.stringify(rt)]),x.useEffect(()=>{const O=j();q(G(O))},[JSON.stringify(rt)]);const[J,we]=x.useState(!1),[Ne,xe]=x.useState(!1),[Se,De]=x.useState({}),[gt,vt]=x.useState(!1);x.useEffect(()=>{const O=localStorage.getItem("groupview_interval_master_checked");O?De(JSON.parse(O)):Ow.forEach(w=>De(T=>({...T,[w]:!0})))},[]),x.useEffect(()=>{localStorage.setItem("groupview_interval_master_checked",JSON.stringify(Se))},[Se]),x.useEffect(()=>{const O=localStorage.getItem("groupview_all_regular_checked");xe(O?JSON.parse(O):!1)},[]),x.useEffect(()=>{localStorage.setItem("groupview_all_regular_checked",JSON.stringify(Ne))},[Ne]),x.useEffect(()=>{const O=localStorage.getItem("groupview_show_unchecked");we(O?JSON.parse(O):!1)},[]),x.useEffect(()=>{localStorage.setItem("groupview_show_unchecked",JSON.stringify(J))},[J]);const Je="groupview_settings_modal_pos",_t="groupview_settings_modal_size",Ht=()=>{const O=localStorage.getItem(Je);let w={x:window.innerWidth/2-400,y:window.innerHeight/2-300};if(O)try{const ue=JSON.parse(O);typeof ue.x=="number"&&typeof ue.y=="number"&&(w=ue)}catch{}const T=en(),I=window.innerWidth,ne=window.innerHeight;let ie=Math.min(T.width,I);Math.min(T.height,ne);let fe=Math.max(0,Math.min(I-ie,w.x)),Ce=w.y;return Ce<0&&(Ce=0),Ce>ne-48&&(Ce=ne-48),{x:fe,y:Ce}},en=()=>{const O=localStorage.getItem(_t);let w={width:700,height:500};if(O)try{const ne=JSON.parse(O);typeof ne.width=="number"&&typeof ne.height=="number"&&(w=ne)}catch{}const T=window.innerWidth,I=window.innerHeight;return{width:Math.min(w.width,T),height:Math.min(w.height,I)}},[hn,On]=x.useState(Ht),[Cn,kr]=x.useState(en),[Ar,fr]=x.useState(!1),or=x.useRef({x:0,y:0});function Mr(O){fr(!0),or.current={x:O.clientX-hn.x,y:O.clientY-hn.y},document.body.style.userSelect="none"}x.useEffect(()=>{function O(T){if(!Ar)return;const I=window.innerWidth,ne=window.innerHeight,ie=document.querySelector('[role="dialog"][aria-label="Settings"]');let fe=ie?ie.offsetWidth:Cn.width;ie?ie.offsetHeight:Cn.height;const Ce=Math.floor(.05*fe),ue=48;let Qe=Math.max(-fe+Ce,Math.min(I-Ce,T.clientX-or.current.x)),It=Math.max(ue*-.9,Math.min(ne-48,T.clientY-or.current.y));On({x:Qe,y:It})}function w(){fr(!1),document.body.style.userSelect=""}return Ar&&(window.addEventListener("mousemove",O),window.addEventListener("mouseup",w)),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",w)}},[Ar,hn,Cn]);const yn=x.useRef(null),[ke,nt]=x.useState(!1),yt=x.useRef({x:0,y:0,width:0,height:0}),[qt,tn]=x.useState(null);function cn(O,w){O.stopPropagation(),nt(!0),tn(w);const T=yn.current;yt.current={x:O.clientX,y:O.clientY,width:T?T.offsetWidth:Cn.width,height:T?T.offsetHeight:Cn.height,left:T?T.offsetLeft:hn.x,top:T?T.offsetTop:hn.y},document.body.style.userSelect="none"}x.useEffect(()=>{function O(T){if(!ke||!qt)return;let{x:I,y:ne,width:ie,height:fe,left:Ce,top:ue}=yt.current,Qe=T.clientX-I,It=T.clientY-ne,fn=ie,jn=fe,ur=hn.x,Nr=hn.y;switch(qt){case"right":fn=Math.max(200,ie+Qe);break;case"left":fn=Math.max(200,ie-Qe),ur=Ce+Qe;break;case"bottom":jn=Math.max(100,fe+It);break;case"top":jn=Math.max(100,fe-It),Nr=ue+It;break;case"top-left":fn=Math.max(200,ie-Qe),ur=Ce+Qe,jn=Math.max(100,fe-It),Nr=ue+It;break;case"top-right":fn=Math.max(200,ie+Qe),jn=Math.max(100,fe-It),Nr=ue+It;break;case"bottom-left":fn=Math.max(200,ie-Qe),ur=Ce+Qe,jn=Math.max(100,fe+It);break;case"bottom-right":fn=Math.max(200,ie+Qe),jn=Math.max(100,fe+It);break}kr({width:fn,height:jn}),On({x:ur,y:Nr});const dr=yn.current;dr&&(dr.style.width=fn+"px",dr.style.height=jn+"px",dr.style.left=ur+"px",dr.style.top=Nr+"px")}function w(){nt(!1),tn(null),document.body.style.userSelect=""}return ke&&(window.addEventListener("mousemove",O),window.addEventListener("mouseup",w)),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",w)}},[ke,hn,Cn,qt]),x.useEffect(()=>{localStorage.setItem(_t,JSON.stringify(Cn))},[Cn]),x.useEffect(()=>{function O(){const w=document.querySelector('[role="dialog"][aria-label="Settings"]');if(!w)return;const T=w.getBoundingClientRect();let I=hn.x,ne=hn.y;T.width,T.height;const ie=window.innerWidth,fe=window.innerHeight,Ce=48,ue=Math.floor(.05*T.width),Qe=Math.floor(.05*T.height);T.right>ie-ue&&(I=Math.max(0,ie-ue-T.width)),T.bottom>fe-Qe&&(ne=Math.max(Ce,fe-Qe-T.height)),T.left<-T.width+ue&&(I=-T.width+ue),T.top<-T.height+Qe&&(ne=-T.height+Qe),T.width>ie,T.height>fe,(I!==hn.x||ne!==hn.y)&&On({x:I,y:ne}),w.style&&(w.style.maxWidth=ie+"px",w.style.maxHeight=fe+"px",T.width>ie&&(w.style.width=ie+"px"),T.height>fe&&(w.style.height=fe+"px"))}return window.addEventListener("resize",O),O(),()=>window.removeEventListener("resize",O)},[hn]),x.useEffect(()=>{localStorage.setItem(Je,JSON.stringify(hn))},[hn]);const[Oe,Ye]=x.useState(!1),ye="groupview_settings_modal_scale",[Tt,Xe]=x.useState(()=>{const O=localStorage.getItem(ye);return O?parseFloat(O):1});x.useEffect(()=>{localStorage.setItem(ye,Tt)},[Tt]),x.useEffect(()=>{if(gn)Ye(!0);else{const O=setTimeout(()=>Ye(!1),180);return()=>clearTimeout(O)}},[gn]),x.useEffect(()=>{localStorage.setItem("groupview_settings_modal_open",JSON.stringify(gn))},[gn]),x.useEffect(()=>{function O(w){gn&&w.key==="Escape"&&Pn(!1)}return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[gn]);const[pt,Z]=x.useState(()=>{const O=localStorage.getItem("groupview_settings_modal_opacity");return O?parseFloat(O):1});x.useEffect(()=>{localStorage.setItem("groupview_settings_modal_opacity",pt)},[pt]);const[X,ve]=x.useState(()=>{const O=localStorage.getItem("groupview_label_font_size");return O?parseFloat(O):1}),[Nt,et]=x.useState(()=>{const O=localStorage.getItem("groupview_label_wrap");return O?JSON.parse(O):!1});x.useEffect(()=>{localStorage.setItem("groupview_label_font_size",X)},[X]),x.useEffect(()=>{localStorage.setItem("groupview_label_wrap",JSON.stringify(Nt))},[Nt]);const[ut,Gt]=x.useState(()=>{const O=localStorage.getItem("groupview_filter_bar_visible");return O?JSON.parse(O):!0});x.useEffect(()=>{localStorage.setItem("groupview_filter_bar_visible",JSON.stringify(ut))},[ut]);function Ft(){const O=B.map(I=>({type:I.type,value:I.value}));localStorage.setItem(it,JSON.stringify(O)),localStorage.setItem(Wt,JSON.stringify(Dn)),localStorage.setItem(te,JSON.stringify(He));const w=document.createElement("div");w.textContent=" Settings saved successfully!",w.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #22c55e;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      z-index: 10000;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      animation: slideIn 0.3s ease-out;
    `;const T=document.createElement("style");T.textContent=`
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(T),document.body.appendChild(w),setTimeout(()=>{w.parentNode&&w.parentNode.removeChild(w)},3e3)}const[Ut,Vn]=x.useState(null),[Ln,Kn]=x.useState("asc"),Rn=(O,w,T=null,I=null)=>{console.log("T button clicked:",{type:O,key:w,parentKey:T,interval:I});const ne={type:O,key:w,parentKey:T,interval:I};Ut&&Ut.type===O&&Ut.key===w&&Ut.parentKey===T&&Ut.interval===I?Kn(ie=>ie==="asc"?"desc":"asc"):(Vn(ne),Kn("asc"))},rn=(O,w)=>{var fe,Ce;if(!w)return;const{type:T,key:I,parentKey:ne,interval:ie}=w;if(T==="regular"){const ue=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],Qe=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(ue.includes(I)){const It=bt[O.unique_id];if(It&&It.unique_id){const jn={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[I];if(jn)return It[jn]}return}else if(Qe.includes(I)){let It={};try{if(typeof O.json_data=="string"){let jn=O.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");It=JSON.parse(jn)}else It=O.json_data||{}}catch{It={}}const fn=(It==null?void 0:It.signal_data)||(It==null?void 0:It.signaldata)||(It==null?void 0:It.signalData);if(fn&&typeof fn=="object"){const jn=I.replace("signal_data_","");return fn[jn]}return}return O[I]}if(T==="trade")return(fe=bt[O.unique_id])==null?void 0:fe[I];if(T==="json"&&ne&&ie){let ue={};try{if(typeof O.json_data=="string"){let fn=O.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");ue=JSON.parse(fn)}else ue=O.json_data||{}}catch{ue={}}const Qe=(ue==null?void 0:ue.signal_data)||(ue==null?void 0:ue.signaldata)||(ue==null?void 0:ue.signalData);return(Ce=((Qe==null?void 0:Qe.all_last_rows)||{})[ie])==null?void 0:Ce[ne]}},Xr=O=>Ut?[...O].sort((w,T)=>{let I=rn(w,Ut),ne=rn(T,Ut);if(Ut.type==="regular"&&r(Ut.key)){const Ce=new Date(I),ue=new Date(ne);if(!isNaN(Ce.getTime())&&!isNaN(ue.getTime()))return Ce<ue?Ln==="asc"?-1:1:Ce>ue?Ln==="asc"?1:-1:0}const ie=parseFloat(I),fe=parseFloat(ne);return!isNaN(ie)&&!isNaN(fe)?Ln==="asc"?ie-fe:fe-ie:(I=I==null?"":String(I),ne=ne==null?"":String(ne),I<ne?Ln==="asc"?-1:1:I>ne?Ln==="asc"?1:-1:0)}):O,[un,cs]=x.useState(null);function dn(){const O={width:700,height:500},w=window.innerWidth,T=window.innerHeight,I=Math.max(0,Math.floor((w-O.width)/2)),ne=Math.max(0,Math.floor((T-O.height)/2));On({x:I,y:ne}),kr(O),Xe(1),localStorage.setItem(Je,JSON.stringify({x:I,y:ne})),localStorage.setItem(_t,JSON.stringify(O)),localStorage.setItem(ye,"1.0")}const[mr,ir]=x.useState(null),Tr="groupview_filter_table_spacing",[Or,vr]=x.useState(()=>{const O=localStorage.getItem(Tr);return O?parseInt(O):0});x.useEffect(()=>{localStorage.setItem(Tr,Or.toString())},[Or]);const[hr,as]=x.useState(!1),[mn,Dr]=x.useState(()=>e.slice());x.useEffect(()=>{if(!hr)return;function O(w){yn.current&&!yn.current.contains(w.target)&&as(!1)}return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[hr]);const nr=O=>{Dr(w=>w.includes(O)?w.filter(T=>T!==O):[...w,O])},bi=()=>Dr(e.slice()),Jr=()=>Dr([]),[Te,Rt]=x.useState([]),[Un,us]=x.useState(!1),[ks,Pt]=x.useState(1),[Xs,wn]=x.useState(1),[ya,rr]=x.useState(0),[U,pe]=x.useState(100);x.useEffect(()=>{!hr&&mn.length&&mn.length!==e.length&&(us(!0),es.get(Fn("/api/SignalProcessingLogsWithUniqueId"),{withCredentials:!0,params:{symbols:mn.join(","),page:ks,limit:U}}).then(O=>{O.data.logs&&Array.isArray(O.data.logs)?O.data.logs.slice(0,10).forEach((w,T)=>{console.log(`[API LOG ${T}] Unique_id:`,w.unique_id)}):console.log("API /api/SignalProcessingLogsWithUniqueId response:",O.data.logs),Rt(O.data.logs||[]),wn(O.data.totalPages||1),rr(O.data.total||0)}).catch(()=>{Rt([]),wn(1),rr(0)}).finally(()=>us(!1)))},[mn,ks,U,hr]);const _e=mn.length&&mn.length!==e.length?Te:Re;mn.length&&(mn.length,e.length),mn.length&&(mn.length,e.length),mn.length&&(mn.length,e.length),mn.length&&(mn.length,e.length),mn.length&&(mn.length,e.length);const ft=O=>{O<1||O>Kt||on(O)},Ct=(O,w)=>{console.log("W button clicked:",{type:O,key:w}),Yt===w?Qn(T=>T==="ASC"?"DESC":"ASC"):(ln(w),Qn("ASC")),Vn(null),on(1)},Lt=async()=>{if(Mt.length>0)he(!0);else{const O=an(ge);if(O.length===0){alert("No data to export!");return}const w=Rr.json_to_sheet(O),T=Rr.book_new();Rr.book_append_sheet(T,w,"Data"),La(T,"exported_data.xlsx")}},xn=async O=>{if(he(!1),O==="pagination"){const w=an(Mt);if(console.log("Export pagination - wholeData length:",Mt.length),console.log("Export pagination - exportRows length:",w.length),w.length===0){alert("No data to export!");return}const T=Rr.json_to_sheet(w),I=Rr.book_new();Rr.book_append_sheet(I,T,"Data"),La(I,"exported_data.xlsx")}else if(O==="whole"){qe(!0);const w=e.length>0?`${Fn("/api/SignalProcessingLogsWithUniqueId")}?symbols=${encodeURIComponent(e.join(","))}&limit=1000000&sortKey=${Yt}&sortDirection=${lt}`:`${Fn("/api/SignalProcessingLogsWithUniqueId")}?limit=1000000&sortKey=${Yt}&sortDirection=${lt}`;console.log("Export whole - API URL:",w);try{const I=await(await Bn(w)).json();console.log("Export whole - API response:",I);const ne=Array.isArray(I.logs)?I.logs:[];console.log("Export whole - allRows length:",ne.length);const ie=an(ne);if(console.log("Export whole - exportRows length:",ie.length),ie.length===0){alert("No data to export!"),qe(!1);return}const fe=Rr.json_to_sheet(ie),Ce=Rr.book_new();Rr.book_append_sheet(Ce,fe,"Data"),La(Ce,"exported_data.xlsx")}catch(T){console.error("Export whole - error:",T),alert("Failed to fetch all data for export.")}qe(!1)}};function Ot(){const O=B.filter(w=>w.type==="regular"?Dn.includes(w.value):w.type==="json"&&Array.isArray(w.intervals)?(w.intervals||[]).some(({interval:T})=>{var I;return(I=He[w.value])==null?void 0:I[T]}):!1);return console.log("getVisibleColumns - workingLabelList length:",B==null?void 0:B.length),console.log("getVisibleColumns - activeRegularLabels:",Dn),console.log("getVisibleColumns - visibleCols length:",O.length),O}function kn(O){if(!O)return"";const w=new Date(O);if(isNaN(w.getTime()))return O;const T=I=>I.toString().padStart(2,"0");return`${w.getFullYear()}-${T(w.getMonth()+1)}-${T(w.getDate())} ${T(w.getHours())}:${T(w.getMinutes())}:${T(w.getSeconds())}`}function an(O){const w=Ot();return O.map(T=>{let I={};try{if(typeof T.json_data=="string"){let Ce=T.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");I=JSON.parse(Ce)}else I=T.json_data||{}}catch{I={}}const ne=(I==null?void 0:I.signal_data)||(I==null?void 0:I.signaldata)||(I==null?void 0:I.signalData),ie=(ne==null?void 0:ne.all_last_rows)||{},fe={};return w.forEach(Ce=>{let ue;if(Ce.type==="regular"){const Qe=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],It=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(Qe.includes(Ce.value)){const fn=bt[T.unique_id];if(fn&&fn.unique_id){const ur={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[Ce.value];ur&&(ue=fn[ur])}}else if(It.includes(Ce.value)){let fn={};try{if(typeof T.json_data=="string"){let ur=T.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");fn=JSON.parse(ur)}else fn=T.json_data||{}}catch{fn={}}const jn=(fn==null?void 0:fn.signal_data)||(fn==null?void 0:fn.signaldata)||(fn==null?void 0:fn.signalData);if(jn&&typeof jn=="object"){const ur=Ce.value.replace("signal_data_","");ue=jn[ur]}}else ue=T[Ce.value];r(Ce.value)?fe[Ce.label]=kn(ue):typeof ue=="number"&&ue>1e12?fe[Ce.label]=ue.toString():fe[Ce.label]=ue}else Ce.type==="json"&&Array.isArray(Ce.intervals)&&(Ce.intervals||[]).forEach(({interval:Qe})=>{var It,fn;(It=He[Ce.value])!=null&&It[Qe]&&(ue=(fn=ie[Qe])==null?void 0:fn[Ce.value],typeof ue=="number"&&ue>1e12?fe[`${Ce.label} [${Qe}]`]=ue.toString():fe[`${Ce.label} [${Qe}]`]=ue)})}),fe})}const[er,In]=x.useState(!1),[Tn,xr]=x.useState(1),[ys,yr]=x.useState(1),[ea,ao]=x.useState(0),[lo,ba]=x.useState(100);return x.useEffect(()=>{e&&e.length&&es.get(Fn("/api/SignalProcessingLogsWithUniqueId"),{withCredentials:!0,params:{symbols:e.join(","),page:1,limit:10}}).then(O=>{console.log("Initial API /api/SignalProcessingLogsWithUniqueId response:",O.data.logs)}).catch(O=>{console.error("Initial API /api/SignalProcessingLogsWithUniqueId error:",O)})},[]),x.useEffect(()=>{const O=["1000RATSUSDTBUY2025-07-18 06:00:00+00:00Kickerheiken"];O.length&&es.get(Fn("/api/SignalProcessingLogsByUIDs"),{withCredentials:!0,params:{uids:O.join(",")}}).then(w=>{console.log("API /api/SignalProcessingLogsByUIDs response:",w.data.logs)}).catch(w=>{console.error("API /api/SignalProcessingLogsByUIDs error:",w)})},[]),x.useEffect(()=>{if(_e&&_e.length){const O=_e.map(w=>w.unique_id).filter(Boolean);O.length&&es.get(Fn("/api/SignalProcessingLogsByUIDs"),{withCredentials:!0,params:{uids:O.join(",")}}).then(w=>{console.log("API /api/SignalProcessingLogsByUIDs response:",w.data.logs)}).catch(w=>{console.error("API /api/SignalProcessingLogsByUIDs error:",w)})}},[_e]),o.jsxs("div",{className:l?"dark":"",style:{minHeight:"100vh",background:l?"#181a20":"#f7f7fa"},children:[o.jsxs("div",{style:{position:"absolute",top:8,right:200,zIndex:100,display:"flex",alignItems:"center",gap:12},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Spacing"}),o.jsx("button",{onClick:()=>vr(O=>O-4),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},title:"Reduce space between filters and table",children:""}),o.jsx("button",{onClick:()=>vr(O=>Math.min(100,O+4)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},title:"Increase space between filters and table",children:""}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Or,"px"]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Table Font"}),o.jsx("button",{onClick:()=>ct(O=>Math.max(.7,O-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},children:"A"}),o.jsx("button",{onClick:()=>ct(O=>Math.min(2,O+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},children:"A+"}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(ot*100),"%"]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Label Font"}),o.jsx("button",{onClick:()=>ve(O=>Math.max(.7,O-.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},children:"A"}),o.jsx("button",{onClick:()=>ve(O=>Math.min(2,O+.1)),style:{padding:"2px 6px",fontSize:12,borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",cursor:"pointer"},children:"A+"}),o.jsxs("span",{style:{width:28,textAlign:"right",opacity:.7,fontSize:12},children:[Math.round(X*100),"%"]})]}),o.jsx("button",{onClick:()=>et(O=>!O),style:{padding:"3px 10px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:12,background:Nt?l?"#0ea5e9":"#0d9488":l?"#23272f":"#fff",color:Nt||l?"#fff":"#222",cursor:"pointer",boxShadow:Nt?"0 2px 8px #0ea5e944":"0 2px 8px #8882",transition:"background 0.2s"},title:"Wrap label text at word boundaries",children:Nt?"Unwrap Labels":"Wrap Labels"})]}),o.jsx("div",{style:{position:"absolute",top:24,left:24,zIndex:100}}),o.jsxs("div",{style:{position:"absolute",top:24,right:80,zIndex:100,display:"flex",gap:8,alignItems:"center"},children:[o.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset the settings screen? Yes / No")&&dn()},style:{background:"none",border:"none",cursor:"pointer",fontSize:22,color:l?"#fff":"#222",marginRight:2},"aria-label":"Reset Settings",title:"Reset Settings Screen",children:o.jsx("span",{role:"img","aria-label":"reset",children:""})}),o.jsx("button",{onClick:()=>Pn(O=>!O),style:{background:"none",border:"none",cursor:"pointer",fontSize:28,color:l?"#fff":"#222"},"aria-label":gn?"Close Settings":"Open Settings","aria-haspopup":"dialog","aria-expanded":gn,children:o.jsx("span",{role:"img","aria-label":"settings",children:""})})]}),Oe&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.10)",zIndex:199,transition:"opacity 0.18s",opacity:gn?1:0,pointerEvents:"none"},"aria-hidden":"true"}),o.jsxs("div",{ref:yn,role:"dialog","aria-modal":"true","aria-label":"Settings",style:{position:"fixed",top:hn.y,left:hn.x,minHeight:100,minWidth:200,zIndex:200,width:Cn.width,maxWidth:"100vw",background:l?`rgba(35,39,47,${pt})`:`rgba(255,255,255,${pt})`,color:l?"#fff":"#222",borderRadius:18,boxShadow:"0 4px 32px 0 rgba(0,0,0,0.18)",padding:0,display:"flex",flexDirection:"column",overflow:"hidden",height:Cn.height,maxHeight:"100vh",margin:"0 auto",boxSizing:"border-box",resize:"none",cursor:Ar?"move":"default",opacity:gn?1:0,transform:gn?"scale(1)":"scale(0.96)",transition:"opacity 0.18s, transform 0.18s",pointerEvents:gn?"auto":"none"},children:[[["top-left",{top:-8,left:-8,cursor:"nwse-resize"}],["top",{top:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["top-right",{top:-8,right:-8,cursor:"nesw-resize"}],["right",{top:"50%",right:-8,transform:"translateY(-50%)",cursor:"ew-resize"}],["bottom-right",{bottom:-8,right:-8,cursor:"nwse-resize"}],["bottom",{bottom:-8,left:"50%",transform:"translateX(-50%)",cursor:"ns-resize"}],["bottom-left",{bottom:-8,left:-8,cursor:"nesw-resize"}],["left",{top:"50%",left:-8,transform:"translateY(-50%)",cursor:"ew-resize"}]].map(([O,w])=>o.jsx("div",{onMouseDown:T=>cn(T,O),style:{position:"absolute",width:18,height:18,background:l?"#0ea5e9":"#2563eb",border:"2px solid #fff",borderRadius:6,zIndex:1e3,...w,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",cursor:w.cursor,userSelect:"none"},title:`Resize (${O.replace("-"," ")})`,children:o.jsx("div",{style:{width:8,height:8,borderRadius:4,background:"#fff",opacity:.8}})},O)),o.jsxs("div",{style:{width:"100%",height:"100%",transform:`scale(${Tt})`,transformOrigin:"top left"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,background:l?"#23272f":"#fff",zIndex:2,padding:12,borderTopLeftRadius:18,borderTopRightRadius:18,userSelect:"none",gap:8,minHeight:0},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:24,minWidth:56,marginRight:12,cursor:"grab",userSelect:"none",background:"transparent"},onMouseDown:Mr,children:o.jsx("div",{style:{width:48,height:16,background:l?"#334155":"#e0e7ef",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px #0ea5e944",gap:2},children:[0,1,2,3].map(O=>o.jsx("div",{style:{width:6,height:6,borderRadius:3,background:l?"#fff":"#222",opacity:.7,margin:2}},O))})}),o.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:8},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13,marginRight:12},children:[o.jsx("span",{style:{opacity:.7},children:"Modal Scale"}),o.jsx("input",{type:"range",min:.7,max:1.5,step:.01,value:Tt,onChange:O=>Xe(parseFloat(O.target.value)),style:{width:70}}),o.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(Tt*100),"%"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:13},children:[o.jsx("span",{style:{opacity:.7},children:"Opacity"}),o.jsx("input",{type:"range",min:.3,max:1,step:.01,value:pt,onChange:O=>Z(parseFloat(O.target.value)),style:{width:70}}),o.jsxs("span",{style:{width:32,textAlign:"right",opacity:.7},children:[Math.round(pt*100),"%"]})]}),o.jsx("button",{onClick:()=>vt(O=>!O),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:gt?"#0ea5e9":"#334155",color:"#fff",boxShadow:gt?"0 2px 8px #0ea5e944":"0 2px 8px #33415544",cursor:"pointer",transition:"background 0.2s"},children:gt?"Show Regular Labels":"Minimize Regular Labels"}),o.jsx("button",{onClick:()=>we(O=>!O),style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:J?"#22c55e":"#ef4444",color:"#fff",boxShadow:J?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:J?"Show Unchecked":"Hide Unchecked"}),o.jsx("button",{onClick:()=>{pn(Ne?[]:ld.map(O=>O.value)),xe(O=>!O)},style:{padding:"6px 12px",borderRadius:6,border:"none",fontWeight:600,fontSize:14,background:Ne?"#22c55e":"#ef4444",color:"#fff",boxShadow:Ne?"0 2px 8px #22c55e44":"0 2px 8px #ef444444",cursor:"pointer",transition:"background 0.2s"},children:Ne?"Uncheck All Regular":"Check All Regular"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap",marginLeft:8},children:[o.jsx("span",{style:{fontWeight:500,marginRight:4},children:"Intervals:"}),Ow.map(O=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:36},children:[o.jsx("input",{type:"checkbox",checked:Se[O]||!1,onChange:w=>{const T=w.target.checked;De({...Se,[O]:T}),Bt(I=>{const ne={...I};return rt.forEach(ie=>{ie.intervals.some(fe=>fe.interval===O&&fe.exists)&&(ne[ie.value]={...ne[ie.value],[O]:T})}),ne})},style:{transform:"scale(1.05)"}}),o.jsx("span",{style:{fontSize:13},children:O})]},O))]})]}),o.jsx("button",{onClick:Ft,style:{padding:"6px 18px",borderRadius:6,border:"none",fontWeight:600,fontSize:15,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s",marginLeft:8},title:"Save label order and checkbox state",children:"Save"}),o.jsx("button",{onClick:()=>Pn(!1),style:{background:"none",border:"none",fontSize:22,color:"inherit",cursor:"pointer",marginLeft:12},"aria-label":"Close",children:""})]})]}),o.jsx("div",{style:{overflowY:"auto",padding:32,flex:1,minHeight:0,position:"relative"},children:o.jsx(av,{backend:cv,children:o.jsx(uW,{items:B,moveLabel:(O,w)=>{q(T=>{const I=[...T],[ne]=I.splice(O,1);return I.splice(w,0,ne),I})},renderRow:(O,w)=>{let T=!0;return O.type==="regular"&&(gt&&(T=!1),!J&&!Dn.includes(O.value)&&(T=!1)),O.type==="json"&&Array.isArray(O.intervals)&&(O.intervals.some(({interval:ne})=>{var ie;return!J||!!((ie=He==null?void 0:He[O.value])!=null&&ie[ne])})||(T=!1)),o.jsxs("div",{style:{display:T?void 0:"none",width:"100%"},children:[O.type==="regular"&&o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[o.jsx("input",{type:"checkbox",checked:Dn.includes(O.value),onChange:I=>{I.target.checked?pn([...Dn,O.value]):pn(Dn.filter(ne=>ne!==O.value))}}),O.label]}),O&&O.type==="json"&&Array.isArray(O.intervals)&&(()=>{var ne;const I=(O.intervals||[]).filter(({interval:ie})=>{var fe;return!J||!!((fe=He==null?void 0:He[O.value])!=null&&fe[ie])});return(O.value==="overall_trend_RC"||O.value==="Overall_Trend_RC")&&console.log(" [Settings Modal] Interval Debug for",O.value,{itemIntervals:O.intervals,showUnchecked:J,activeJsonLabels:He==null?void 0:He[O.value],visibleIntervals:I,filterCondition:(ne=O.intervals)==null?void 0:ne.map(({interval:ie})=>{var fe,Ce;return{interval:ie,showUnchecked:J,notShowUnchecked:!J,hasActiveLabel:!!((fe=He==null?void 0:He[O.value])!=null&&fe[ie]),result:!J||!!((Ce=He==null?void 0:He[O.value])!=null&&Ce[ie])}})}),I.length===0?null:o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"space-between",marginBottom:1,lineHeight:1.2},children:o.jsx("span",{style:{fontWeight:500,fontSize:"0.95em"},children:O.label})}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:0,alignItems:"flex-start",lineHeight:1},children:I.map(({interval:ie,exists:fe})=>{var Ce;return o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:2,minWidth:40,opacity:fe?1:.5,padding:"1px 0",lineHeight:1},children:[o.jsx("input",{type:"checkbox",checked:!!((Ce=He==null?void 0:He[O.value])!=null&&Ce[ie]),disabled:!fe,onChange:ue=>{Bt(Qe=>({...Qe,[O.value]:{...Qe[O.value],[ie]:ue.target.checked}}))},style:{transform:"scale(0.9)"}}),o.jsx("span",{style:{fontSize:"0.8em",fontWeight:500,lineHeight:1},children:ie})]},O.value+"_"+ie)})})]})})()]})},activeJsonLabels:He,setActiveJsonLabels:Bt,showUnchecked:J,dragOverIndex:mr,setDragOverIndex:ir})})})]})]})]}),de&&o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{style:{background:l?"#23272f":"#fff",color:l?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Loading logs..."})}),o.jsx("div",{style:{position:"absolute",top:24,right:130,zIndex:100,display:"flex",gap:4}}),o.jsx("button",{onClick:()=>c(O=>!O),style:{position:"absolute",right:32,top:24,zIndex:100,padding:8,borderRadius:"50%",background:l?"#222":"#fff",color:l?"#fff":"#222",border:"1.5px solid #888",fontSize:22,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},title:l?"Switch to Light Mode":"Switch to Dark Mode",children:l?"":""}),o.jsxs("div",{style:{padding:"0 64px 0 32px",position:"relative",display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[o.jsx("div",{style:{margin:"24px 0 12px 0",zIndex:10},children:sn}),o.jsxs("div",{style:{margin:`${Or}px 0 0 0`},children:[" ",o.jsxs("div",{style:{color:l?"#fff":"#222",margin:"8px 0 16px 0",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["Rows: ",ge.length," of ",L]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Page: ",P," of ",Tn]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Columns: ",ld.length+rt.reduce((O,w)=>{var T;return O+(((T=w.intervals)==null?void 0:T.length)||0)},0)+oW.length]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[o.jsx("input",{type:"checkbox",checked:ze.Regular,onChange:O=>Be(w=>({...w,Regular:O.target.checked})),style:{transform:"scale(1.1)"}}),o.jsx("span",{children:"Regular"}),o.jsxs("span",{style:{fontSize:11,opacity:.7,color:ze.Regular?"#22c55e":"#6b7280",fontWeight:600},children:["(",R.Regular,")"]})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[o.jsx("input",{type:"checkbox",checked:ze.Heiken,onChange:O=>Be(w=>({...w,Heiken:O.target.checked})),style:{transform:"scale(1.1)"}}),o.jsx("span",{children:"Heiken"}),o.jsxs("span",{style:{fontSize:11,opacity:.7,color:ze.Heiken?"#22c55e":"#6b7280",fontWeight:600},children:["(",R.Heiken,")"]})]}),o.jsxs("span",{style:{fontSize:12,opacity:.7,color:ge.length===0?"#ef4444":"#22c55e",fontWeight:600},children:["(",ge.length," shown)"]}),R.Unknown>0&&o.jsxs("span",{style:{fontSize:11,opacity:.5,color:"#f59e0b",fontWeight:600},children:["(",R.Unknown," unknown)"]})]}),ge.length>0&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:8},children:[o.jsx("span",{style:{opacity:.7},children:"Time Range:"}),o.jsx("span",{style:{fontWeight:600,color:l?"#0ea5e9":"#0d9488"},children:(ri=ge[0])!=null&&ri.candle_time?n(ge[0].candle_time):"N/A"}),o.jsx("span",{children:"to"}),o.jsx("span",{style:{fontWeight:600,color:l?"#0ea5e9":"#0d9488"},children:(ci=ge[ge.length-1])!=null&&ci.candle_time?n(ge[ge.length-1].candle_time):"N/A"}),o.jsx("button",{onClick:Lt,style:{marginLeft:16,padding:"6px 12px",borderRadius:4,border:"none",fontWeight:600,fontSize:12,background:"#fbbf24",color:"#222",boxShadow:"0 2px 4px #fbbf2444",cursor:"pointer",transition:"background 0.2s"},children:"Export to Excel"})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:l?"#1e293b":"#f1f5f9",borderRadius:6,border:l?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("span",{style:{fontWeight:600,color:l?"#fff":"#222",fontSize:12},children:"Rows:"}),o.jsx("input",{type:"number",min:"1",value:C,onChange:O=>{const w=parseInt(O.target.value);!isNaN(w)&&w>=1&&H(w)},onKeyPress:O=>{O.key==="Enter"&&ht(C)},onBlur:()=>ht(C),style:{width:50,padding:"2px 4px",borderRadius:3,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",fontSize:12,textAlign:"center"}})]}),Tn>1&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 8px",background:l?"#1e293b":"#f1f5f9",borderRadius:6,border:l?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("button",{onClick:()=>Mt.length>0?ft(1):$t(1),disabled:Mt.length>0?Jt===1:P===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:P===1?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:P===1?l?"#6b7280":"#9ca3af":"#fff",cursor:P===1?"not-allowed":"pointer",opacity:P===1?.5:1},children:"First"}),o.jsx("button",{onClick:()=>Mt.length>0?ft(Jt-1):$t(P-1),disabled:Mt.length>0?Jt===1:P===1,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Mt.length>0?Jt===1:P===1)?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:(Mt.length>0?Jt===1:P===1)?l?"#6b7280":"#9ca3af":"#fff",cursor:(Mt.length>0?Jt===1:P===1)?"not-allowed":"pointer",opacity:(Mt.length>0?Jt===1:P===1)?.5:1},children:""}),o.jsxs("span",{style:{fontWeight:600,color:l?"#fff":"#222",fontSize:12},children:[Mt.length>0?Jt:P,"/",Mt.length>0?Kt:Tn]}),o.jsx("button",{onClick:()=>Mt.length>0?ft(Jt+1):$t(P+1),disabled:Mt.length>0?Jt===Kt:P===Tn,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Mt.length>0?Jt===Kt:P===Tn)?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:(Mt.length>0?Jt===Kt:P===Tn)?l?"#6b7280":"#9ca3af":"#fff",cursor:(Mt.length>0?Jt===Kt:P===Tn)?"not-allowed":"pointer",opacity:(Mt.length>0?Jt===Kt:P===Tn)?.5:1},children:""}),o.jsx("button",{onClick:()=>Mt.length>0?ft(Kt):$t(Tn),disabled:Mt.length>0?Jt===Kt:P===Tn,style:{padding:"4px 8px",borderRadius:4,border:"1px solid #888",fontWeight:600,fontSize:11,background:(Mt.length>0?Jt===Kt:P===Tn)?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:(Mt.length>0?Jt===Kt:P===Tn)?l?"#6b7280":"#9ca3af":"#fff",cursor:(Mt.length>0?Jt===Kt:P===Tn)?"not-allowed":"pointer",opacity:(Mt.length>0?Jt===Kt:P===Tn)?.5:1},children:"Last"})]})]})]})]}),o.jsx("div",{className:"overflow-auto border border-gray-300 rounded-lg",style:{background:l?"#181a20":"#f5ecd7",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:l?"1px solid #334155":"1px solid #d1d5db",fontSize:`${ot}em`,position:"relative",flex:1,minHeight:0},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"16px 0 8px 0",paddingLeft:8,paddingRight:8},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:18}}),o.jsxs("table",{className:"w-full border-collapse",style:{fontSize:"inherit",color:l?"#fff":"#222"},children:[o.jsxs("thead",{className:"sticky top-0 z-30",style:{background:l?"#0f766e":"#0d9488",color:"white",fontSize:"inherit",zIndex:30},children:[o.jsx("tr",{style:{position:"sticky",top:0,zIndex:31,background:l?"#0f766e":"#0d9488"},children:B.map((O,w)=>{const T=O.type==="json"&&Array.isArray(O.intervals);if(O.type==="regular"&&Dn.includes(O.value)){const I=w===0||w===1,ne=l?"#5eead4":"#e0fcf7";return o.jsx("th",{rowSpan:2,className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${X}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:ne,minWidth:120,overflow:"visible",whiteSpace:Nt?"normal":"nowrap",wordBreak:Nt?"break-word":"normal",position:I?"sticky":void 0,left:I?w===0?0:120:void 0,zIndex:I?40:void 0},title:O.label,onClick:()=>Rn("regular",O.value),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:ie=>{ie.stopPropagation(),Ct("regular",O.value)},style:{marginRight:4,background:"none",border:"none",color:Yt===O.value?lt==="ASC"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none",width:"20px",textAlign:"center",position:"relative",zIndex:10},title:`Sort by ${O.label} (whole data)`,children:["w",Yt===O.value?lt==="ASC"?"":"":""]}),o.jsx("span",{children:O.label}),o.jsxs("button",{onClick:ie=>{ie.stopPropagation(),Rn("regular",O.value)},style:{marginLeft:4,background:"none",border:"none",color:Ut&&Ut.type==="regular"&&Ut.key===O.value?Ln==="asc"?"#22c55e":"#ef4444":"#888",fontWeight:700,fontSize:14,cursor:"pointer",padding:"0 2px",borderRadius:3,outline:"none",width:"20px",textAlign:"center",position:"relative",zIndex:10},title:`Sort by ${O.label} (table only)`,children:["t",Ut&&Ut.type==="regular"&&Ut.key===O.value?Ln==="asc"?"":"":""]})]})},O.value)}if(T){const I=O.intervals.filter(({interval:ie})=>{var fe;return!!((fe=He[O.value])!=null&&fe[ie])});if(I.length===0)return null;const ne=w%2===0?l?"#fbbf24":"#ffe082":l?"#fb923c":"#ffd6a5";return o.jsx("th",{colSpan:I.length,className:"relative px-4 py-3 text-left whitespace-nowrap",style:{fontSize:`${X}em`,fontWeight:"bold",borderBottom:"2px solid rgba(255,255,255,0.2)",color:"#111",background:ne,minWidth:120,overflow:"visible",whiteSpace:Nt?"normal":"nowrap",wordBreak:Nt?"break-word":"normal"},title:O.label,children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("span",{children:O.label})})},O.value)}return null})}),o.jsx("tr",{children:B.map((O,w)=>{if(O.type==="json"&&Array.isArray(O.intervals)){const T=O.intervals.filter(({interval:ne})=>{var ie;return!!((ie=He[O.value])!=null&&ie[ne])}),I=w%2===0?l?"#1e293b":"#e0e7ef":l?"#334155":"#f1f5f9";return T.map(({interval:ne})=>o.jsx("th",{className:"relative px-4 py-3 text-left cursor-pointer whitespace-nowrap",style:{fontSize:`${X}em`,fontWeight:"600",borderBottom:"2px solid rgba(255,255,255,0.2)",color:l?"#fff":"#222",background:I,minWidth:90,overflow:"visible",whiteSpace:Nt?"normal":"nowrap",wordBreak:Nt?"break-word":"normal"},title:ne,onClick:()=>Rn("json",ne,O.value,ne),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:ne}),o.jsx("span",{className:"ml-1 opacity-60",children:Ut&&Ut.type==="json"&&Ut.parentKey===O.value&&Ut.interval===ne?Ln==="asc"?"":"":""})]})},O.value+"_"+ne))}return null})})]}),o.jsx("tbody",{children:(()=>{if(xt)return o.jsx("tr",{children:o.jsx("td",{colSpan:B?B.length:1,style:{textAlign:"center",color:l?"#fff":"#222",fontSize:"1.1em",padding:"32px 0"},children:"Loading sorted data from database..."})});const O=Mt.length>0?Mt:ge,w=Xr(O);return w.length?w.map((T,I)=>{let ne={};try{if(typeof T.json_data=="string"){let Qe=T.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");ne=JSON.parse(Qe)}else ne=T.json_data||{}}catch{ne={}}const ie=(ne==null?void 0:ne.signal_data)||(ne==null?void 0:ne.signaldata)||(ne==null?void 0:ne.signalData),fe=(ie==null?void 0:ie.all_last_rows)||{},Ce=T.unique_id!=null?T.unique_id:I,ue=un===Ce;return o.jsx("tr",{className:"cursor-pointer",style:{fontSize:"inherit",borderBottom:l?"1px solid #334155":"1px solid #e5e7eb",transition:"all 0.15s ease-in-out",color:l?"#fff":"#222",background:ue?"#ffe066":void 0},onClick:()=>cs(ue?null:Ce),onMouseEnter:Qe=>{ue||(Qe.currentTarget.style.background=l?"#3d4451":"#f0f9ff",Qe.currentTarget.style.color=l?"#fff":"#222")},onMouseLeave:Qe=>{ue||(Qe.currentTarget.style.background="",Qe.currentTarget.style.color="")},children:B.map((Qe,It)=>{if(Qe.type==="regular"&&Dn.includes(Qe.value)){if(!ld.find(Yr=>Yr.value===Qe.value))return null;const jn=It===0||It===1,ur=ue?"#ffe066":jn?l?"#5eead4":"#e0fcf7":void 0,Nr=ue||jn?"#111":l?"#fff":"#222";let dr=null,_i="";const lf=["PL","Hedge","Hedge_1_1","Hedge_Buy_pl","Hedge_Sell_pl","Hedge_order_size","Min_comm_after_hedge","Hedge_Swing_High_Point","Hedge_Swing_Low_Point"],oo=["signal_data_active_squeeze_trend","signal_data_overall_trend_RC","signal_data_overall_trend_percentage_RC","signal_data_overall_trend_HC","signal_data_overall_trend_percentage_HC","signal_data_overall_trend_4h","signal_data_overall_trend_percentage_4h","signal_data_overall_trend_1h","signal_data_overall_trend_percentage_1h","signal_data_volume_1h"];if(lf.includes(Qe.value)){const Yr=bt[T.unique_id];if((Qe.value==="PL"||Qe.value==="Hedge")&&console.log("GroupViewPage Debug hedge field lookup:",{field:Qe.value,rowUniqueId:T.unique_id,tradeData:Yr,tradesByUniqueIdKeys:Object.keys(bt).slice(0,5),totalTradesByUniqueId:Object.keys(bt).length,sampleLogUniqueIds:ge.slice(0,3).map(na=>na.unique_id)}),Yr&&Yr.unique_id){const Ua={PL:"Pl_after_comm",Hedge:"Hedge",Hedge_1_1:"Hedge_1_1_bool",Hedge_Buy_pl:"Hedge_Buy_pl",Hedge_Sell_pl:"Hedge_Sell_pl",Hedge_order_size:"Hedge_order_size",Min_comm_after_hedge:"Min_comm_after_hedge",Hedge_Swing_High_Point:"Hedge_Swing_High_Point",Hedge_Swing_Low_Point:"Hedge_Swing_Low_Point"}[Qe.value];Ua&&(dr=Yr[Ua],_i=dr!=null?s(dr,Qe.value):"")}}else if(oo.includes(Qe.value)){let Yr={};try{if(typeof T.json_data=="string"){let Ua=T.json_data.replace(/\bNaN\b|\bInfinity\b|\b-Infinity\b/g,"null");Yr=JSON.parse(Ua)}else Yr=T.json_data||{}}catch{Yr={}}const na=(Yr==null?void 0:Yr.signal_data)||(Yr==null?void 0:Yr.signaldata)||(Yr==null?void 0:Yr.signalData);if(na&&typeof na=="object"){const Ua=Qe.value.replace("signal_data_","");dr=na[Ua],_i=dr!=null?s(dr,Qe.value):""}}else dr=T[Qe.value],_i=dr!=null?s(dr,Qe.value):"";let ta={fontSize:"inherit",color:ue?"#111":Nr,background:ur,minWidth:120,overflow:"visible",whiteSpace:"nowrap",position:jn?"sticky":void 0,left:jn?It===0?0:120:void 0,zIndex:jn?30:void 0,padding:"1px 6px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"};if(Qe.value==="PL"&&dr!=null){const Yr=parseFloat(dr);isNaN(Yr)||(ue?Yr<0?ta.color="#000000":Yr>0&&(ta.color="#166534"):Yr<0?ta.color="#ef4444":Yr>0&&(ta.color="#22c55e"))}return o.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:ta,title:_i,children:dr!=null?s(dr,Qe.value):""},Qe.value)}if(Qe.type==="json"&&Array.isArray(Qe.intervals)){const fn=Qe.intervals.filter(({interval:Nr})=>{var dr;return!!((dr=He[Qe.value])!=null&&dr[Nr])}),jn=ue?"#ffe066":It%2===0?l?"#1e293b":"#e0e7ef":l?"#334155":"#f1f5f9",ur=ue?"#111":l?"#fff":"#222";return fn.map(({interval:Nr})=>{let dr=fe[Nr]?fe[Nr][Qe.value]:void 0;return o.jsx("td",{className:"whitespace-nowrap align-top text-sm select-text",style:{fontSize:"inherit",color:ur,background:jn,minWidth:90,overflow:"visible",whiteSpace:"nowrap",padding:"1px 4px !important",lineHeight:"1 !important",height:"20px !important",verticalAlign:"middle !important"},title:dr!==void 0?s(dr,Qe.value):"",children:dr!==void 0?s(dr,Qe.value):"-"},Qe.value+"_"+Nr)})}return null})},I)}):o.jsx("tr",{children:o.jsx("td",{colSpan:B?B.length:1,style:{textAlign:"center",color:l?"#fff":"#222",fontSize:"1.1em",padding:"32px 0"},children:"No data available for the selected symbols and filters."})})})()})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"12px 0 8px 0",padding:"8px 12px",background:l?"#1e293b":"#f1f5f9",borderRadius:6,border:l?"1px solid #334155":"1px solid #e2e8f0"},children:[o.jsx("span",{style:{fontWeight:600,color:l?"#fff":"#222",fontSize:14},children:"Rows per page:"}),o.jsx("input",{type:"number",min:"1",value:C,onChange:O=>{const w=parseInt(O.target.value);!isNaN(w)&&w>=1&&H(w)},onKeyPress:O=>{O.key==="Enter"&&ht(C)},onBlur:()=>ht(C),style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #888",background:l?"#23272f":"#fff",color:l?"#fff":"#222",fontSize:14,textAlign:"center"}})]}),Tn>1&&o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,margin:"16px 0 8px 0",padding:"12px",background:l?"#23272f":"#f8f9fa",borderRadius:8,border:l?"1px solid #334155":"1px solid #e5e7eb"},children:[o.jsx("button",{onClick:()=>$t(1),disabled:P===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:P===1?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:P===1?l?"#6b7280":"#9ca3af":"#fff",cursor:P===1?"not-allowed":"pointer",opacity:P===1?.5:1},children:"First"}),o.jsx("button",{onClick:()=>$t(P-1),disabled:P===1,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:P===1?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:P===1?l?"#6b7280":"#9ca3af":"#fff",cursor:P===1?"not-allowed":"pointer",opacity:P===1?.5:1},children:"Previous"}),o.jsxs("span",{style:{fontWeight:600,color:l?"#fff":"#222"},children:["Page ",P," of ",Tn]}),o.jsx("button",{onClick:()=>$t(P+1),disabled:P===Tn,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:P===Tn?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:P===Tn?l?"#6b7280":"#9ca3af":"#fff",cursor:P===Tn?"not-allowed":"pointer",opacity:P===Tn?.5:1},children:"Next"}),o.jsx("button",{onClick:()=>$t(Tn),disabled:P===Tn,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #888",fontWeight:600,fontSize:14,background:P===Tn?l?"#334155":"#e5e7eb":l?"#0ea5e9":"#0d9488",color:P===Tn?l?"#6b7280":"#9ca3af":"#fff",cursor:P===Tn?"not-allowed":"pointer",opacity:P===Tn?.5:1},children:"Last"})]})]})})]}),o.jsxs("div",{style:{position:"fixed",top:20,left:20,zIndex:200,display:"flex",flexDirection:"row",alignItems:"center",gap:8},children:[o.jsx("button",{onClick:()=>window.history.back(),style:{padding:"6px 10px",borderRadius:8,background:l?"#23272f":"#e5e7eb",color:l?"#fff":"#222",fontWeight:700,fontSize:16,border:"none",cursor:"pointer",boxShadow:"0 1px 4px rgba(0,0,0,0.08)"},title:"Back",children:""}),o.jsx("button",{onClick:()=>as(!0),style:{padding:"7px 12px",borderRadius:10,background:"#0ea5e9",color:"#fff",fontWeight:700,fontSize:15,boxShadow:"0 2px 8px #0ea5e944",border:"none",cursor:"pointer",minWidth:32,textAlign:"center"},title:"Select symbols to show",children:mn.length}),hr&&o.jsxs("div",{ref:yn,style:{position:"absolute",top:40,left:0,minWidth:220,maxWidth:320,background:l?"#23272f":"#fff",color:l?"#fff":"#222",border:"2px solid #0ea5e9",borderRadius:14,boxShadow:"0 8px 32px rgba(0,0,0,0.18)",padding:18,zIndex:9999,display:"flex",flexDirection:"column",gap:10},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[o.jsx("span",{style:{fontWeight:700,fontSize:16},children:"Select Symbols"}),o.jsx("button",{onClick:()=>as(!1),style:{fontSize:18,background:"none",border:"none",color:l?"#fff":"#222",cursor:"pointer"},title:"Close",children:""})]}),o.jsxs("div",{style:{display:"flex",gap:6,marginBottom:6},children:[o.jsx("button",{onClick:bi,style:{padding:"3px 8px",borderRadius:5,background:"#22c55e",color:"#fff",border:"none",fontWeight:600,cursor:"pointer",fontSize:13},children:"Select All"}),o.jsx("button",{onClick:Jr,style:{padding:"3px 8px",borderRadius:5,background:"#ef4444",color:"#fff",border:"none",fontWeight:600,cursor:"pointer",fontSize:13},children:"Clear All"})]}),o.jsx("div",{style:{maxHeight:240,overflowY:"auto",display:"flex",flexDirection:"column",gap:4},children:e.map(O=>o.jsx("button",{onClick:()=>nr(O),style:{padding:"6px 10px",borderRadius:7,background:mn.includes(O)?"#0ea5e9":"#e5e7eb",color:mn.includes(O)?"#fff":"#222",border:"none",fontWeight:600,fontSize:13,cursor:"pointer",outline:mn.includes(O)?"2px solid #38bdf8":"none",transition:"background 0.18s, color 0.18s, outline 0.18s"},children:O},O))})]})]}),Yn&&o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{background:l?"#23272f":"#fff",color:l?"#fff":"#222",padding:32,borderRadius:16,fontSize:20,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)",minWidth:340,minHeight:120,display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[o.jsx("div",{children:"Export Data"}),o.jsxs("div",{style:{display:"flex",gap:18},children:[o.jsx("button",{onClick:()=>xn("pagination"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#0ea5e9",color:"#fff",boxShadow:"0 2px 8px #0ea5e944",cursor:"pointer",transition:"background 0.2s"},children:"Export Current Page"}),o.jsx("button",{onClick:()=>xn("whole"),style:{padding:"8px 24px",borderRadius:6,border:"none",fontWeight:600,fontSize:16,background:"#22c55e",color:"#fff",boxShadow:"0 2px 8px #22c55e44",cursor:"pointer",transition:"background 0.2s"},children:"Export All Filtered Data"})]}),o.jsx("button",{onClick:()=>he(!1),style:{marginTop:12,background:"none",border:"none",color:l?"#fff":"#222",fontSize:18,cursor:"pointer"},children:"Cancel"})]})}),$e&&o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{style:{background:l?"#23272f":"#fff",color:l?"#fff":"#222",padding:32,borderRadius:16,fontSize:22,fontWeight:600,boxShadow:"0 4px 32px rgba(0,0,0,0.18)"},children:"Exporting data..."})}),o.jsx("div",{style:{marginTop:60}})]})};function fW(t,e){const n=new Date(t).getTime();let r=Math.floor((e-n)/1e3);if(r<0&&(r=0),r<60)return`${r}s ago`;if(r<3600){const h=Math.floor(r/60),g=r%60;return`${h}m ${g}s ago`}if(r<86400){const h=Math.floor(r/3600),g=Math.floor(r%3600/60),p=r%60;return`${h}h ${g}m ${p}s ago`}const s=Math.floor(r/86400),l=Math.floor(r%86400/3600),c=Math.floor(r%3600/60),d=r%60;return`${s}d ${l}h ${c}m ${d}s ago`}function hW({data:t=[]}){const[e,n]=x.useState(Date.now());x.useEffect(()=>{const l=setInterval(()=>n(Date.now()),1e3);return()=>clearInterval(l)},[]);const[r,s]=x.useState(()=>document.documentElement.classList.contains("dark"));return x.useEffect(()=>{const l=new MutationObserver(()=>{s(document.documentElement.classList.contains("dark"))});return l.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>l.disconnect()},[]),o.jsxs("div",{className:"flex flex-row items-center gap-3 ml-4",children:[t.length===0&&o.jsx("span",{className:"text-gray-400 text-xs",children:"No SuperTrend signals"}),t.map((l,c)=>{const d=new Date(l.timestamp).getTime(),g=Math.floor((e-d)/1e3)<2700,p=r?"text-white":"text-black",v=l.trend&&l.trend.toUpperCase()==="BUY"?"text-green-500":l.trend&&l.trend.toUpperCase()==="SELL"?"text-red-500":"";return o.jsxs("span",{className:`px-2 py-1 rounded border ${g?"border-yellow-400 animate-pulse":"border-gray-500"} flex flex-row items-center gap-1 bg-transparent`,style:{background:"none"},children:[o.jsx("span",{className:`font-mono text-blue-400 ${p}`,children:l.source}),o.jsx("span",{className:`font-bold ${v}`,children:l.trend}),o.jsx("span",{className:g?"text-orange-400 font-bold":p,children:fW(l.timestamp,e)})]},c)})]})}const Ai=t=>{const e=parseFloat(t);return Number.isFinite(e)?e:null},Rh=t=>{const e=((t==null?void 0:t.action)||"").toUpperCase();return Ai(e==="BUY"?(t==null?void 0:t.buy_price)??(t==null?void 0:t.Buy_Price)??(t==null?void 0:t.buyPrice):e==="SELL"?(t==null?void 0:t.sell_price)??(t==null?void 0:t.Sell_Price)??(t==null?void 0:t.sellPrice):(t==null?void 0:t.close_price)??(t==null?void 0:t.Close_Price)??(t==null?void 0:t.price))},Mh=t=>Ai((t==null?void 0:t.close_price)??(t==null?void 0:t.Close_Price)??(t==null?void 0:t.price)),Rw=t=>((t==null?void 0:t.interval)??(t==null?void 0:t.Interval)??"").toString(),QN=t=>{const e=(t||"").toString().trim();return e?e==="60"?"1h":e==="240"?"4h":e==="D"||e==="1d"||e==="1D"?"1d":/^(\\d+)[mhd]$/i.test(e)?e.toLowerCase():`${e}m`:"15m"},gW=(t,e)=>{const n=t.replace("/","").toUpperCase();if(!n)return null;const r=e?`?interval=${QN(e)}`:"";return`https://www.binance.com/en/futures/${n}${r}`},Lh=t=>(t==null?void 0:t.fetcher_trade_time)||(t==null?void 0:t.fetcher_time)||(t==null?void 0:t.Fetcher_time),ud=t=>(t==null?void 0:t.operator_close_time)||(t==null?void 0:t.close_time)||(t==null?void 0:t.Operator_close_time)||(t==null?void 0:t["Operator_"])||(t==null?void 0:t.operatorCloseTime),Mw=(t,e)=>{const n=Dt(t),r=Dt(e);return!n.isValid()||!r.isValid()?null:Math.abs(n.diff(r,"minutes",!0))},Lw=(t,e)=>{if(t===null||e===null)return null;const n=Math.max(Math.abs(t),Math.abs(e),1e-9);return Math.abs((e-t)/n)*100},ex=t=>((t==null?void 0:t.type)||(t==null?void 0:t.Type)||"").toString().toLowerCase().includes("back_close")||ud(t)?"closed":"running",tx=t=>t==null?"":t>=25?"bg-red-800 text-white":t>=20?"bg-red-600 text-white":t>=15?"bg-red-500 text-white":t>=10?"bg-orange-400 text-white":"",pW=({title:t,value:e,subtitle:n,tint:r})=>o.jsxs("div",{className:`p-4 rounded-lg border shadow-sm ${r||"bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700"}`,children:[o.jsx("div",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300",children:t}),o.jsx("div",{className:"text-3xl font-bold mt-1 text-gray-900 dark:text-white",children:e}),n&&o.jsx("div",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:n})]}),Iw=({children:t,tone:e})=>o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${e||"bg-gray-200 text-gray-800"}`,children:t}),mW=()=>{const[t,e]=x.useState(()=>{const R=localStorage.getItem("theme");return R?R==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const[n,r]=x.useState([]),[s,l]=x.useState([]),[c,d]=x.useState(!0),[h,g]=x.useState(""),[p,v]=x.useState(()=>localStorage.getItem("tc_fromDate")||""),[_,y]=x.useState(()=>localStorage.getItem("tc_toDate")||""),[E,S]=x.useState(()=>{try{const R=localStorage.getItem("tc_backendMachines");return R?JSON.parse(R):[]}catch{return[]}}),[k,D]=x.useState(()=>{try{const R=localStorage.getItem("tc_liveMachines");return R?JSON.parse(R):[]}catch{return[]}}),[A,M]=x.useState(()=>localStorage.getItem("tc_showIssuesOnly")==="true"),[Y,Q]=x.useState(()=>{try{const R=localStorage.getItem("tc_quickFilters");return R?JSON.parse(R):[]}catch{return[]}}),[K,z]=x.useState(()=>{try{const R=localStorage.getItem("tc_sortConfig");return R?JSON.parse(R):{key:"candle",direction:"asc"}}catch{return{key:"candle",direction:"asc"}}}),[ee,se]=x.useState(null),[oe,Ee]=x.useState(null),[re,me]=x.useState({}),[je,We]=x.useState({}),[ae,Le]=x.useState({key:"ts",direction:"asc"}),[Re,jt]=x.useState(!1),[P,ce]=x.useState(null),[L,F]=x.useState(null),[C,H]=x.useState(()=>{const R=localStorage.getItem("tc_font_scale"),ge=R?parseFloat(R):1;return Number.isFinite(ge)?ge:1}),[de,tt]=x.useState(null),rt=x.useCallback((R,ge)=>{if(!ge)return"";const Ie=(R||"").toLowerCase(),wt=ge[R]??ge[R==null?void 0:R.toLowerCase()]??ge[R==null?void 0:R.toUpperCase()];return wt!==void 0?wt:Ie.includes("m.id")||Ie==="m_id"||Ie==="m.id"?ge.machineid??ge.machine_id??"":Ie.includes("unique")?ge.unique_id??"":Ie.includes("candle")?ge.candel_time??ge.candle_time??"":Ie.includes("fetcher")?ge.fetcher_trade_time??ge.fetcher_time??"":Ie.includes("operator")&&Ie.includes("close")?ge.operator_close_time??"":Ie.includes("operator")?ge.operator_trade_time??ge.operator_time??"":Ie==="pair"||Ie==="symbol"?ge.pair??ge.symbol??"":Ie.includes("interval")?ge.interval??"":Ie.includes("action")?ge.action??"":Ie.includes("type")?ge.type??"":Ie.includes("pl after comm")||Ie==="pl"||Ie.includes("pl_after_comm")?ge.pl_after_comm??ge.Pl_after_comm??"":Ie.includes("investment")?ge.investment??"":Ie.includes("stop")?ge.stop_price??"":Ie.includes("save")?ge.save_price??"":Ie.includes("buy price")?ge.buy_price??"":Ie.includes("sell price")?ge.sell_price??"":Ie.includes("close price")?ge.close_price??"":""},[]),[Ze]=x.useState(()=>{try{const R=localStorage.getItem("liveTradeView_regular_labels");return R?JSON.parse(R):null}catch{return null}}),[Et]=x.useState(()=>{try{const R=localStorage.getItem("liveTradeView_json_labels");return R?JSON.parse(R):null}catch{return null}}),bn=Xc(),Mt=x.useCallback(async()=>{d(!0),g("");try{const[R,ge]=await Promise.all([Bn("/api/trades"),Bn("/api/machines")]),Ie=R.ok?await R.json():{trades:[]},wt=ge.ok?await ge.json():{machines:[]},ht=Array.isArray(Ie.trades)?Ie.trades:[],$t=Array.isArray(wt.machines)?wt.machines:[];r(ht),l($t);const sn=[...new Set([...$t.map(ct=>{var Wt;return(Wt=ct.machineid)==null?void 0:Wt.toString()}),...ht.map(ct=>{var Wt;return(Wt=ct.machineid)==null?void 0:Wt.toString()})].filter(Boolean))],ot=sn.includes("9")?["9"]:sn.slice(0,1);S(ct=>ct.length?ct:ot),D(ct=>ct.length?ct:sn.filter(Wt=>!ot.includes(Wt)))}catch(R){console.error(R),g("Failed to load trades/machines")}finally{d(!1)}},[]);x.useEffect(()=>{Mt()},[Mt]),x.useEffect(()=>{p?localStorage.setItem("tc_fromDate",p):localStorage.removeItem("tc_fromDate")},[p]),x.useEffect(()=>{_?localStorage.setItem("tc_toDate",_):localStorage.removeItem("tc_toDate")},[_]),x.useEffect(()=>{localStorage.setItem("tc_backendMachines",JSON.stringify(E))},[E]),x.useEffect(()=>{localStorage.setItem("tc_liveMachines",JSON.stringify(k))},[k]),x.useEffect(()=>{localStorage.setItem("tc_showIssuesOnly",A?"true":"false")},[A]),x.useEffect(()=>{localStorage.setItem("tc_quickFilters",JSON.stringify(Y))},[Y]),x.useEffect(()=>{localStorage.setItem("tc_sortConfig",JSON.stringify(K))},[K]);const _n=x.useCallback(async R=>{var Ie,wt,ht,$t;const ge=((Ie=R.liveTrade)==null?void 0:Ie.unique_id)||((wt=R.liveTrade)==null?void 0:wt.uid)||((ht=R.liveTrade)==null?void 0:ht.Unique_ID);if(!ge){me(sn=>({...sn,[R.key]:{error:"No UID on live trade"}}));return}if(!(($t=re[R.key])!=null&&$t.loaded)){We(sn=>({...sn,[R.key]:!0}));try{const sn=await Bn(`/api/bot-event-logs?uid=${encodeURIComponent(ge)}&limit=500`);if(!sn.ok)throw new Error(`HTTP ${sn.status}`);const bt=await sn.json(),ct=(Array.isArray(bt.logs)?bt.logs:[]).map(pn=>{let te={};try{te=typeof pn.json_message=="string"?JSON.parse(pn.json_message):pn.json_message||{}}catch{te={}}const Pe=Ai(te["Pl After Comm"]??te.pl_after_comm);return{ts:pn.timestamp||pn.created_at||pn.time||pn.Timestamp||pn.time_stamp,pl:Pe,raw:pn,json:te}});ct.sort((pn,te)=>{const Pe=Dt(pn.ts),He=Dt(te.ts);return!Pe.isValid()||!He.isValid()?0:Pe.valueOf()-He.valueOf()});let Wt=!1,vn=null,Wn=null,gn=null,Pn=null,Dn=null;ct.forEach(pn=>{if(pn.pl===null)return;if(Dn===null&&(Dn=!1),pn.pl>0&&(Dn=!0),!Wt&&pn.pl>20){Wt=!0,vn=pn.pl,Wn=pn.ts;return}if(!Wt)return;if(pn.pl>vn){vn=pn.pl,Wn=pn.ts,gn=null,Pn={peak:vn,at:Wn};return}const te=vn?(vn-pn.pl)/vn*100:0;!gn&&te>20&&(gn={dropPct:te,peak:vn,at:pn.ts,value:pn.pl},Pn=null)}),me(pn=>({...pn,[R.key]:{logs:ct,issue:gn,recovered:Pn,loaded:!0,everPositive:Dn}}))}catch(sn){me(bt=>({...bt,[R.key]:{error:sn.message||"Failed to load logs"}}))}finally{We(sn=>({...sn,[R.key]:!1}))}}},[re]),Jt=x.useMemo(()=>[...new Set([...s.map(ge=>{var Ie;return(Ie=ge.machineid)==null?void 0:Ie.toString()}),...n.map(ge=>{var Ie;return(Ie=ge.machineid)==null?void 0:Ie.toString()})].filter(Boolean))],[s,n]),on=x.useMemo(()=>{const R=p?Dt.utc(p).startOf("day"):null,ge=_?Dt.utc(_).endOf("day"):null;return n.filter(Ie=>{const wt=(Ie==null?void 0:Ie.candel_time)||(Ie==null?void 0:Ie.candle_time);if(!wt)return!1;const ht=Dt.utc(wt);return!(R&&ht.isBefore(R)||ge&&ht.isAfter(ge))})},[n,p,_]),Kt=x.useMemo(()=>{const R=new Set(E.map(String));return on.filter(ge=>R.has((ge.machineid||ge.machine_id||"").toString()))},[on,E]),Ue=x.useMemo(()=>{const R=new Set(k.map(String));return on.filter(ge=>R.has((ge.machineid||ge.machine_id||"").toString()))},[on,k]),Nn=x.useMemo(()=>{const R=new Map;return Kt.forEach(ge=>{const Ie=(ge.pair||ge.symbol||ge.PAIR||"").toString().trim().toUpperCase();R.has(Ie)||R.set(Ie,[]),R.get(Ie).push(ge)}),R.forEach(ge=>ge.sort((Ie,wt)=>Dt.utc(Ie.candel_time||Ie.candle_time).valueOf()-Dt.utc(wt.candel_time||wt.candle_time).valueOf())),R},[Kt]),Xt=x.useMemo(()=>{const R=new Map;return Ue.forEach(ge=>{const Ie=(ge.pair||ge.symbol||ge.PAIR||"").toString().trim().toUpperCase();R.has(Ie)||R.set(Ie,[]),R.get(Ie).push(ge)}),R.forEach(ge=>ge.sort((Ie,wt)=>Dt.utc(Ie.candel_time||Ie.candle_time).valueOf()-Dt.utc(wt.candel_time||wt.candle_time).valueOf())),R},[Ue]),xt=x.useMemo(()=>{const R=[],ge=new Set;return Nn.forEach((Ie,wt)=>{const ht=Xt.get(wt)||[];Ie.forEach($t=>{let sn=null,bt=1/0;ht.forEach(G=>{if(ge.has(G))return;const B=Math.abs(Dt.utc(($t==null?void 0:$t.candel_time)||($t==null?void 0:$t.candle_time)).diff(Dt.utc((G==null?void 0:G.candel_time)||(G==null?void 0:G.candle_time)),"hours",!0));B<=4&&B<bt&&(bt=B,sn=G)}),sn&&ge.add(sn);const ot=$t||null,ct=sn||null,Wt=Mw(Lh(ot),Lh(ct)),vn=ot&&ct?Math.abs(Dt.utc((ot==null?void 0:ot.candel_time)||(ot==null?void 0:ot.candle_time)).diff(Dt.utc((ct==null?void 0:ct.candel_time)||(ct==null?void 0:ct.candle_time)),"hours",!0)):null,Wn=Rh(ot),gn=Rh(ct),Pn=Lw(Wn,gn),Dn=Lw(Ai(ot==null?void 0:ot.investment),Ai(ct==null?void 0:ct.investment)),pn=ex(ot),te=ex(ct),Pe=Mh(ot),He=Mh(ct),Bt=pn==="closed"&&te==="closed"?Mw(ud(ot),ud(ct)):null,Ke=pn==="closed"&&te==="closed"&&Pe!==null&&He!==null?(()=>{const G=(Math.abs(He)+Math.abs(Pe))/2||1e-9;return Math.abs(He-Pe)/G*100})():null,st=[];vn!==null&&vn>4&&st.push(`Candle gap ${vn.toFixed(1)}h`),Wt!==null&&Wt>5&&st.push(`Late fetch (${Wt.toFixed(1)}m)`),Pn!==null&&Pn>15&&st.push(`Price gap ${Pn.toFixed(1)}%`),pn==="closed"&&te==="running"&&st.push("Backend closed, live running"),pn==="running"&&te==="closed"&&st.push("Backend running, live closed");const it=Ai(ct==null?void 0:ct.pl_after_comm),j=Ai(ot==null?void 0:ot.pl_after_comm);Bt!==null&&Bt>16&&it!==null&&j!==null&&it<j&&st.push(`Close time gap ${Bt.toFixed(1)}m and live earned less`),Ke!==null&&Ke>15&&it!==null&&j!==null&&it<j&&st.push(`Close price gap ${Ke.toFixed(1)}% with worse P/L`),Dn!==null&&Dn>0&&st.push(`Investment gap ${Dn.toFixed(1)}%`),R.push({key:`${wt}__${(ot==null?void 0:ot.candel_time)||(ot==null?void 0:ot.candle_time)||"na"}__${(ct==null?void 0:ct.candel_time)||(ct==null?void 0:ct.candle_time)||"na"}`,backendList:ot?[ot]:[],liveList:ct?[ct]:[],backendTrade:ot,liveTrade:ct,fetcherDiff:Wt,priceDeltaPct:Pn,closeTimeDiff:Bt,closePriceDelta:Ke,investmentDeltaPct:Dn,backendStatus:pn,liveStatus:te,issues:st})})}),Xt.forEach((Ie,wt)=>{Ie.forEach(ht=>{ge.has(ht)||R.push({key:`${wt}__liveonly__${(ht==null?void 0:ht.candel_time)||(ht==null?void 0:ht.candle_time)||"na"}`,backendList:[],liveList:[ht],backendTrade:null,liveTrade:ht,fetcherDiff:null,priceDeltaPct:null,closeTimeDiff:null,closePriceDelta:null,investmentDeltaPct:null,backendStatus:"missing",liveStatus:ex(ht),issues:["Extra in live"]})})}),R},[Nn,Xt]),[Qt,Yt]=x.useState(()=>{try{const R=localStorage.getItem("liveTradeView_unified_labels_order");return R?JSON.parse(R):null}catch{return null}});x.useEffect(()=>{xt.forEach(R=>{var ge;R.liveTrade&&((ge=re[R.key])!=null&&ge.loaded||je[R.key]||_n(R))})},[xt,_n]);const ln=x.useMemo(()=>{const R=A?xt.filter(Ie=>Ie.issues&&Ie.issues.length):xt;if(!Y||Y.length===0)return R;const ge=(Ie,wt)=>{var ht,$t;switch(wt){case"backendMissing":return Ie.liveList.length===0;case"liveExtra":return Ie.backendList.length===0;case"lateFetch":return Number.isFinite(Ie.fetcherDiff)&&Ie.fetcherDiff>5;case"priceGap":return Number.isFinite(Ie.priceDeltaPct)&&Ie.priceDeltaPct>15;case"closureMismatch":return Ie.backendStatus==="closed"&&Ie.liveStatus==="running"||Ie.backendStatus==="running"&&Ie.liveStatus==="closed";case"closureGap":return Number.isFinite(Ie.closeTimeDiff)&&Ie.closeTimeDiff>16&&Number.isFinite(Ie.closePriceDelta)&&Ie.closePriceDelta>15;case"plDrop":return!!((ht=re[Ie.key])!=null&&ht.issue);case"neverProfit":return(($t=re[Ie.key])==null?void 0:$t.everPositive)===!1;case"totalBackend":return Ie.backendList.length>0;case"totalLive":return Ie.liveList.length>0;default:return!1}};return R.filter(Ie=>Y.some(wt=>ge(Ie,wt)))},[xt,A,Y,re]),lt=x.useMemo(()=>xt.filter(R=>{var ge;return(ge=re[R.key])==null?void 0:ge.issue}).length,[xt,re]),Qn=x.useMemo(()=>ln.filter(R=>{var ge;return((ge=re[R.key])==null?void 0:ge.everPositive)===!1}).length,[ln,re]),Yn=x.useMemo(()=>ln.filter(R=>{var ge,Ie;return((ge=re[R.key])==null?void 0:ge.loaded)||((Ie=re[R.key])==null?void 0:Ie.error)}).length,[ln,re]),he=x.useMemo(()=>{const{key:R,direction:ge}=K,Ie=ge==="asc"?1:-1,wt=ht=>{var $t,sn,bt,ot,ct,Wt,vn,Wn;switch(R){case"symbol":return(($t=ht.backendTrade)==null?void 0:$t.pair)||((sn=ht.liveTrade)==null?void 0:sn.pair)||"";case"candle":return((bt=ht.backendTrade)==null?void 0:bt.candel_time)||((ot=ht.liveTrade)==null?void 0:ot.candel_time)||"";case"fetcher":return Number.isFinite(ht.fetcherDiff)?ht.fetcherDiff:1/0;case"price":return Number.isFinite(ht.priceDeltaPct)?ht.priceDeltaPct:1/0;case"investment":return Number.isFinite(ht.investmentDeltaPct)?ht.investmentDeltaPct:1/0;case"close":return Number.isFinite(ht.closeTimeDiff)?ht.closeTimeDiff:Number.isFinite(ht.closePriceDelta)?ht.closePriceDelta:1/0;case"backend":return(ht.backendList.map(gn=>gn.machineid).join(",")||"").toLowerCase();case"live":return(ht.liveList.map(gn=>gn.machineid).join(",")||"").toLowerCase();case"action":{const gn=(((ct=ht.backendTrade)==null?void 0:ct.action)||"").toLowerCase(),Pn=(((Wt=ht.liveTrade)==null?void 0:Wt.action)||"").toLowerCase();return`${gn}-${Pn}`}case"status":return`${ht.backendStatus}-${ht.liveStatus}`;case"drawdown":{const gn=(Wn=(vn=re[ht.key])==null?void 0:vn.issue)==null?void 0:Wn.dropPct;return Number.isFinite(gn)?gn:1/0}case"issues":return ht.issues?ht.issues.length:0;default:return 0}};return[...ln].sort((ht,$t)=>{const sn=wt(ht),bt=wt($t);return sn<bt?-1*Ie:sn>bt?1*Ie:0})},[ln,K,re]),$e=R=>{z(ge=>ge.key===R?{key:R,direction:ge.direction==="asc"?"desc":"asc"}:{key:R,direction:"asc"})},qe=x.useMemo(()=>{const R=xt.filter(ot=>ot.liveList.length===0).length,ge=xt.filter(ot=>ot.backendList.length===0).length,Ie=xt.filter(ot=>ot.fetcherDiff!==null&&ot.fetcherDiff>5).length,wt=xt.filter(ot=>ot.priceDeltaPct!==null&&ot.priceDeltaPct>15).length,ht=xt.filter(ot=>ot.backendStatus==="closed"&&ot.liveStatus==="running"||ot.backendStatus==="running"&&ot.liveStatus==="closed").length,$t=xt.filter(ot=>ot.closeTimeDiff!==null&&ot.closeTimeDiff>16&&ot.closePriceDelta!==null&&ot.closePriceDelta>15).length,sn=Kt.length,bt=Ue.length;return{backendMissing:R,liveExtra:ge,lateFetch:Ie,priceGap:wt,closureMismatch:ht,closureGap:$t,totalBackend:sn,totalLive:bt}},[xt,Kt,Ue]),ze=x.useMemo(()=>{let R=0,ge=0;return ln.forEach(Ie=>{var bt,ot;const wt=Ai((bt=Ie.liveTrade)==null?void 0:bt.pl_after_comm),ht=Ai((ot=Ie.backendTrade)==null?void 0:ot.pl_after_comm);if(!(Ie.backendStatus==="closed"&&Ie.liveStatus==="closed")||wt===null||ht===null)return;const sn=wt-ht;sn>0&&(R+=sn),sn<0&&(ge+=Math.abs(sn))}),{profit:R,loss:ge,net:R-ge}},[ln]),Be=R=>!R||!R.length?o.jsx(Iw,{tone:"bg-green-100 text-green-800",children:"OK"}):o.jsx("div",{className:"flex flex-wrap gap-1",children:R.map((ge,Ie)=>o.jsx(Iw,{tone:"bg-red-100 text-red-800",children:ge},Ie))});return c?o.jsx("div",{className:"p-6 text-center",children:"Loading trades"}):h?o.jsx("div",{className:"p-6 text-center text-red-600",children:h}):o.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#f5f6fa] dark:bg-black text-gray-900 dark:text-gray-100",children:[o.jsx(R1,{isOpen:Re,toggleSidebar:()=>jt(R=>!R)}),o.jsx("div",{className:`flex-1 transition-all duration-300 ${Re?"ml-64":"ml-20"} h-full overflow-hidden`,children:o.jsxs("div",{className:"p-6 h-full flex flex-col space-y-6 overflow-hidden",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Trade Compare"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Backend (Assigned) vs Live by symbol + candle time"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("div",{className:"px-4 py-2 rounded-lg bg-green-100 text-green-800 dark:bg-green-900/60 dark:text-green-100 border border-green-200 dark:border-green-700",children:[o.jsx("div",{className:"text-xs uppercase tracking-wide",children:"Total Profit "}),o.jsxs("div",{className:"text-xl font-bold",children:["$",ze.profit.toFixed(2)]})]}),o.jsxs("div",{className:"px-4 py-2 rounded-lg bg-red-100 text-red-800 dark:bg-red-900/60 dark:text-red-100 border border-red-200 dark:border-red-700",children:[o.jsx("div",{className:"text-xs uppercase tracking-wide",children:"Total Loss "}),o.jsxs("div",{className:"text-xl font-bold",children:["$",ze.loss.toFixed(2)]})]}),o.jsxs("div",{className:"px-4 py-2 rounded-lg bg-blue-100 text-blue-900 dark:bg-blue-900/60 dark:text-blue-100 border border-blue-200 dark:border-blue-700",children:[o.jsx("div",{className:"text-xs uppercase tracking-wide",children:"Net PL "}),o.jsxs("div",{className:"text-xl font-bold",children:["$",ze.net.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($x,{to:"/",className:"px-3 py-2 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",title:"Back to main dashboard",children:" Home"}),o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:()=>{H(R=>{const ge=Math.max(.6,R-.1);return localStorage.setItem("tc_font_scale",String(ge)),ge})},title:"Decrease font size",children:""}),o.jsxs("span",{className:"px-2",children:["Font ",C.toFixed(1),"x"]}),o.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:()=>{H(R=>{const ge=Math.min(2,R+.1);return localStorage.setItem("tc_font_scale",String(ge)),ge})},title:"Increase font size",children:"+"})]}),o.jsx("button",{onClick:()=>e(R=>!R),className:"px-3 py-2 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white border border-gray-300 dark:border-gray-700",title:t?"Switch to light mode":"Switch to dark mode",children:t?" Light":" Dark"}),o.jsx("button",{onClick:Mt,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:"Refresh"}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:A,onChange:R=>M(R.target.checked)}),"Show only issues"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 text-sm",children:[o.jsx("div",{className:"col-span-1 md:col-span-2",children:o.jsxs("div",{className:"border rounded bg-white dark:bg-gray-900 p-2 flex flex-col gap-2 text-xs",children:[o.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-semibold",children:"From"}),o.jsx("input",{type:"datetime-local",value:p?Dt.utc(p).format("YYYY-MM-DDTHH:mm"):"",onChange:R=>v(R.target.value?Dt.utc(R.target.value).toISOString():""),className:"h-8 border rounded px-2 bg-white text-black dark:bg-gray-800 dark:text-white dark:border-gray-700"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-semibold",children:"To"}),o.jsx("input",{type:"datetime-local",value:_?Dt.utc(_).format("YYYY-MM-DDTHH:mm"):"",onChange:R=>y(R.target.value?Dt.utc(R.target.value).toISOString():""),className:"h-8 border rounded px-2 bg-white text-black dark:bg-gray-800 dark:text-white dark:border-gray-700"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-[180px]",children:[o.jsx("div",{className:"font-semibold mb-1",children:"Backend (Assigned)"}),o.jsx("div",{className:"flex flex-wrap gap-1 max-h-14 overflow-auto pr-1",children:Jt.map(R=>o.jsxs("label",{className:"flex items-center gap-1 border px-2 py-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:E.includes(R),onChange:ge=>{S(Ie=>ge.target.checked?[...Ie,R]:Ie.filter(wt=>wt!==R))}}),R]},`b-${R}`))})]}),o.jsxs("div",{className:"flex-1 min-w-[180px]",children:[o.jsx("div",{className:"font-semibold mb-1",children:"Live machines"}),o.jsx("div",{className:"flex flex-wrap gap-1 max-h-14 overflow-auto pr-1",children:Jt.map(R=>o.jsxs("label",{className:"flex items-center gap-1 border px-2 py-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:k.includes(R),onChange:ge=>{D(Ie=>ge.target.checked?[...Ie,R]:Ie.filter(wt=>wt!==R))}}),R]},`l-${R}`))})]})]})]})}),o.jsx("div",{className:"col-span-1 md:col-span-2",children:o.jsxs("div",{className:"grid grid-rows-2 grid-flow-col auto-cols-[200px] gap-2 overflow-x-auto pb-1",children:[[{key:"backendMissing",title:"Backend missing in live",value:qe.backendMissing},{key:"liveExtra",title:"Live extra vs backend",value:qe.liveExtra},{key:"totalBackend",title:"Total backend trades",value:qe.totalBackend},{key:"totalLive",title:"Total live trades",value:qe.totalLive},{key:"lateFetch",title:"Late fetch (>5m)",value:qe.lateFetch},{key:"priceGap",title:"Price gap (>15%)",value:qe.priceGap},{key:"closureMismatch",title:"Closure mismatch",value:qe.closureMismatch},{key:"closureGap",title:"Closure gap (time/price)",value:qe.closureGap},{key:"plDrop",title:"PL drop after $20 (>15%)",value:lt},{key:"neverProfit",title:"Never in profit (scanned)",value:Qn,subtitle:`${Yn}/${ln.length} scanned`}].map((R,ge)=>{const Ie=["bg-gradient-to-br from-cyan-500/80 via-sky-400/80 to-blue-500/80 text-white","bg-gradient-to-br from-emerald-500/80 via-green-400/80 to-lime-500/80 text-white","bg-gradient-to-br from-amber-500/80 via-orange-400/80 to-rose-500/80 text-white","bg-gradient-to-br from-purple-500/80 via-fuchsia-500/80 to-pink-500/80 text-white","bg-gradient-to-br from-slate-600/80 via-slate-500/80 to-gray-500/80 text-white"],wt=Ie[ge%Ie.length],ht=Y.includes(R.key);return o.jsx("button",{onClick:()=>Q($t=>$t.includes(R.key)?$t.filter(sn=>sn!==R.key):[...$t,R.key]),className:`text-left h-full w-full transition-all rounded-lg shadow-md ${ht?"ring-2 ring-white/70 dark:ring-cyan-300 scale-[1.01]":"hover:scale-[1.01] hover:ring-1 hover:ring-white/50 dark:hover:ring-cyan-200/70"}`,children:o.jsx(pW,{title:R.title,value:R.value,subtitle:R.subtitle,tint:ht?wt:`${wt} opacity-90`})},R.key)}),o.jsx("div",{className:"flex items-center",children:o.jsx("button",{onClick:()=>Q([]),className:"text-sm text-blue-200 underline",children:"Show all"})})]})})]}),o.jsx("div",{className:"flex items-center justify-end mb-2",children:o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:()=>{H(R=>{const ge=Math.max(.6,R-.1);return localStorage.setItem("tc_font_scale",String(ge)),ge})},title:"Decrease font size",children:""}),o.jsxs("span",{className:"px-2",children:["Font ",C.toFixed(1),"x"]}),o.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:()=>{H(R=>{const ge=Math.min(2,R+.1);return localStorage.setItem("tc_font_scale",String(ge)),ge})},title:"Increase font size",children:"+"})]})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx("div",{className:"border rounded-lg h-full",style:{fontSize:`${C}rem`},children:o.jsx("div",{className:"overflow-auto h-full",children:o.jsxs("table",{className:"min-w-[1400px]",style:{fontSize:"inherit"},children:[o.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("symbol"),children:["Symbol ",K.key==="symbol"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Unique ID"}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("candle"),children:["Candle Time ",K.key==="candle"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("backend"),children:["Backend ",K.key==="backend"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("live"),children:["Live ",K.key==="live"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("action"),children:["Action ",K.key==="action"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("fetcher"),children:["Fetcher  ",K.key==="fetcher"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("price"),children:["Price % ",K.key==="price"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("investment"),children:["Invest % ",K.key==="investment"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("status"),children:["Status ",K.key==="status"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("close"),children:["Close  ",K.key==="close"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("drawdown"),children:["Closing issue ",K.key==="drawdown"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>$e("issues"),children:["Issues ",K.key==="issues"?K.direction==="asc"?"":"":""]})}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Compare"})]})}),o.jsxs("tbody",{children:[ln.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:13,className:"px-3 py-4 text-center text-gray-500",children:"No trades in range"})}),he.map(R=>{var j,G,B,q,V,J,we,Ne,xe,Se,De,gt,vt,Je,_t,Ht,en,hn,On,Cn,kr,Ar,fr,or,Mr,yn,ke;const ge=((j=R.backendTrade)==null?void 0:j.pair)||((G=R.liveTrade)==null?void 0:G.pair)||"N/A",Ie=((B=R.backendTrade)==null?void 0:B.candel_time)||((q=R.liveTrade)==null?void 0:q.candel_time)||"N/A",wt=Rw(R.backendTrade)||Rw(R.liveTrade),ht=gW(ge,wt),$t=Number.isFinite(R.fetcherDiff)?`${R.fetcherDiff.toFixed(1)}m`:"",sn=Number.isFinite(R.priceDeltaPct)?`${R.priceDeltaPct.toFixed(1)}%`:"",bt=tx(R.priceDeltaPct),ot=Number.isFinite(R.investmentDeltaPct)?`${R.investmentDeltaPct.toFixed(1)}%`:"",ct=tx(R.investmentDeltaPct),Wt=Ai((V=R.liveTrade)==null?void 0:V.pl_after_comm),vn=Ai((J=R.backendTrade)==null?void 0:J.pl_after_comm),Wn=Mh(R.liveTrade),gn=Mh(R.backendTrade),Pn=Wt!==null&&vn!==null?Wt-vn:null,Dn=Wt!==null&&vn!==null&&vn!==0?(Wt-vn)/Math.abs(vn)*100:null,pn=R.backendStatus==="closed"&&R.liveStatus==="closed",te=ud(R.backendTrade),Pe=ud(R.liveTrade),He=(()=>{if(pn&&Number.isFinite(R.closeTimeDiff))return`${R.closeTimeDiff.toFixed(1)}m`;const nt=[];return te&&nt.push(`B:${te}`),Pe&&nt.push(`L:${Pe}`),nt.length?nt.join(" | "):""})(),Bt=(()=>{if(pn&&Number.isFinite(R.closePriceDelta))return`${R.closePriceDelta.toFixed(1)}%`;const nt=[];return Number.isFinite(gn)&&nt.push(`B:${gn.toFixed(2)}`),Number.isFinite(Wn)&&nt.push(`L:${Wn.toFixed(2)}`),nt.length?nt.join(" / "):""})(),Ke=(()=>{const nt=[];vn!==null&&nt.push(`B:${vn.toFixed(2)}`),Wt!==null&&nt.push(`L:${Wt.toFixed(2)}`);const yt=Pn!==null?o.jsxs("div",{className:"font-bold text-sm",children:[" $",Pn.toFixed(2)," ",Dn!==null?`(${Dn.toFixed(1)}%)`:""]}):null;return nt.length===0&&!yt?o.jsx("div",{children:"PL: "}):o.jsxs("div",{className:"leading-tight",children:[nt.length?o.jsx("div",{children:nt.join(" / ")}):null,yt]})})(),st=o.jsxs("div",{className:"space-y-0.5 text-xs",children:[o.jsxs("div",{children:["Time: ",He]}),o.jsxs("div",{children:["Price: ",Bt]}),o.jsx("div",{children:Ke}),!pn&&o.jsx("div",{className:"text-gray-500",children:"Pending (running)"})]}),it=(()=>{if(!pn)return"";if(Pn!==null){if(Pn>0)return"bg-green-200 text-green-900";if(Pn<0)return"bg-red-200 text-red-900"}return tx(R.closePriceDelta)})();return o.jsxs(qr.Fragment,{children:[o.jsxs("tr",{className:`border-t border-gray-200 dark:border-gray-800 cursor-pointer transition-colors ${ee===R.key?"bg-yellow-100 dark:bg-yellow-900":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,onClick:()=>{se(R.key),de===R.key&&tt(null)},onDoubleClick:()=>{const nt=oe===R.key?null:R.key;Ee(nt),nt&&_n(R)},children:[o.jsx("td",{className:"px-3 py-2 font-semibold",children:o.jsxs("div",{className:"flex items-center gap-2",children:[ht?o.jsx("a",{href:ht,target:"_blank",rel:"noreferrer",className:"text-blue-600 dark:text-cyan-300 underline",onClick:nt=>nt.stopPropagation(),title:`Open ${ge} on Binance (${QN(wt)})`,children:ge}):o.jsx("span",{children:ge}),o.jsx("button",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",onClick:nt=>{nt.stopPropagation(),navigator.clipboard.writeText(ge),ce(ge),setTimeout(()=>ce(null),1200)},title:"Copy symbol",children:P===ge?"":""})]})}),o.jsx("td",{className:"px-3 py-2",children:(we=R.liveTrade)!=null&&we.unique_id||(Ne=R.backendTrade)!=null&&Ne.unique_id?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button","data-uid-link":!0,className:"underline text-blue-600 dark:text-blue-300",onClick:nt=>{var qt,tn;nt.stopPropagation();const yt=((qt=R.liveTrade)==null?void 0:qt.unique_id)||((tn=R.backendTrade)==null?void 0:tn.unique_id)||"";yt&&bn(`/live-trade-view?uid=${encodeURIComponent(yt)}`)},children:((xe=R.liveTrade)==null?void 0:xe.unique_id)||((Se=R.backendTrade)==null?void 0:Se.unique_id)}),o.jsx("button",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",onClick:nt=>{var qt,tn;nt.stopPropagation();const yt=((qt=R.liveTrade)==null?void 0:qt.unique_id)||((tn=R.backendTrade)==null?void 0:tn.unique_id)||"";navigator.clipboard.writeText(yt),F(yt),setTimeout(()=>F(null),1200)},title:"Copy UID",children:L===(((De=R.liveTrade)==null?void 0:De.unique_id)||((gt=R.backendTrade)==null?void 0:gt.unique_id))?"":""})]}):""}),o.jsx("td",{className:"px-3 py-2",children:Ie}),o.jsxs("td",{className:"px-3 py-2",children:[o.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-200",children:["Machines: ",R.backendList.map(nt=>nt.machineid).join(", ")||""]}),o.jsxs("div",{className:"text-xs",children:["Status: ",R.backendStatus]}),o.jsxs("div",{className:"text-xs",children:["Fetcher: ",Lh(R.backendTrade)||""]}),o.jsxs("div",{className:"text-xs",children:["Price: ",Rh(R.backendTrade)??""]})]}),o.jsxs("td",{className:"px-3 py-2",children:[o.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-200",children:["Machines: ",R.liveList.map(nt=>nt.machineid).join(", ")||""]}),o.jsxs("div",{className:"text-xs",children:["Status: ",R.liveStatus]}),o.jsxs("div",{className:"text-xs",children:["Fetcher: ",Lh(R.liveTrade)||""]}),o.jsxs("div",{className:"text-xs",children:["Price: ",Rh(R.liveTrade)??""]})]}),o.jsxs("td",{className:"px-3 py-2",children:[o.jsxs("div",{children:["Backend: ",((vt=R.backendTrade)==null?void 0:vt.action)||""]}),o.jsxs("div",{children:["Live: ",((Je=R.liveTrade)==null?void 0:Je.action)||""]})]}),o.jsx("td",{className:"px-3 py-2",children:$t}),o.jsx("td",{className:`px-3 py-2 ${bt}`,children:sn}),o.jsx("td",{className:`px-3 py-2 ${ct}`,children:ot}),o.jsxs("td",{className:"px-3 py-2",children:[o.jsxs("div",{children:["Backend: ",R.backendStatus]}),o.jsxs("div",{children:["Live: ",R.liveStatus]})]}),o.jsx("td",{className:`px-3 py-2 ${it}`,children:st}),o.jsxs("td",{className:"px-3 py-2 text-xs",children:[((_t=re[R.key])==null?void 0:_t.loading)&&o.jsx("span",{className:"text-gray-500",children:"Scanning"}),!((Ht=re[R.key])!=null&&Ht.loading)&&((en=re[R.key])==null?void 0:en.issue)&&o.jsxs("span",{className:"text-red-500 font-semibold",children:[" Dropped ",(re[R.key].issue.dropPct||0).toFixed(1),"% from peak $",(hn=re[R.key].issue.peak)==null?void 0:hn.toFixed(2)," at ",re[R.key].issue.at]}),!((On=re[R.key])!=null&&On.loading)&&!((Cn=re[R.key])!=null&&Cn.issue)&&((kr=re[R.key])==null?void 0:kr.recovered)&&o.jsxs("span",{className:"text-green-500 font-semibold",children:[" Recovered to $",(Ar=re[R.key].recovered.peak)==null?void 0:Ar.toFixed(2)," at ",re[R.key].recovered.at]}),!((fr=re[R.key])!=null&&fr.loading)&&!((or=re[R.key])!=null&&or.issue)&&!((Mr=re[R.key])!=null&&Mr.recovered)&&o.jsx("span",{className:"text-green-500",children:"OK"})]}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("div",{className:"flex flex-col gap-1",children:Be(R.issues)})}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("button",{className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700",onClick:nt=>{nt.stopPropagation(),tt(yt=>yt===R.key?null:R.key),re[R.key]||_n(R)},children:de===R.key?"Hide":"Compare"})})]}),oe===R.key&&o.jsx("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:o.jsx("td",{colSpan:13,className:"px-0 py-0",children:o.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4",children:o.jsxs("div",{className:"max-h-[50vh] overflow-auto",style:{fontSize:`${C}rem`},children:[je[R.key]&&o.jsx("div",{children:"Loading trade history"}),!je[R.key]&&((yn=re[R.key])==null?void 0:yn.error)&&o.jsx("div",{className:"text-red-500 text-sm",children:re[R.key].error}),!je[R.key]&&((ke=re[R.key])==null?void 0:ke.logs)&&(()=>{var cn,Oe,Ye;const nt=re[R.key].logs,yt=ye=>{if(ye.type==="json"){if(!Et)return!1;const Tt=Et[ye.value];return Tt?ye.interval?!!Tt[ye.interval]:Object.values(Tt).some(Boolean)||Tt===!0:!1}return Array.isArray(Ze)&&Ze.length?Ze.includes(ye.value):!0},qt=Array.isArray(Qt)&&Qt.length?Qt:(cn=nt[0])!=null&&cn.json?Object.keys(nt[0].json):[],tn=(qt&&qt.length?qt:Object.keys(((Oe=nt[0])==null?void 0:Oe.json)||[])).map(ye=>typeof ye=="string"?{header:ye,key:ye,type:"regular",value:ye}:ye&&typeof ye=="object"?{header:ye.label||ye.value||JSON.stringify(ye),key:ye.value||ye.label||JSON.stringify(ye),type:ye.type||ye.kind||"regular",value:ye.value||ye.label||JSON.stringify(ye),interval:ye.interval}:{header:String(ye),key:String(ye),type:"regular",value:String(ye)}).filter(yt);return o.jsxs("div",{className:"space-y-2",children:[re[R.key].issue&&o.jsxs("div",{className:"text-sm text-red-500 font-semibold",children:[" Dropped ",(re[R.key].issue.dropPct||0).toFixed(1),"% from peak $",(Ye=re[R.key].issue.peak)==null?void 0:Ye.toFixed(2)," at ",re[R.key].issue.at]}),o.jsxs("table",{className:"min-w-full text-xs",style:{fontSize:"inherit"},children:[o.jsx("thead",{className:"bg-gray-200 dark:bg-gray-800 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-1",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>Le(ye=>({key:"ts",direction:ye.key==="ts"&&ye.direction==="asc"?"desc":"asc"})),children:["Timestamp ",ae.key==="ts"?ae.direction==="asc"?"":"":""]})}),tn.map((ye,Tt)=>o.jsx("th",{className:"px-2 py-1 text-left",children:o.jsxs("button",{className:"flex items-center gap-1",onClick:()=>Le(Xe=>({key:ye.key,direction:Xe.key===ye.key&&Xe.direction==="asc"?"desc":"asc"})),children:[ye.header," ",ae.key===ye.key?ae.direction==="asc"?"":"":""]})},`${ye.header}-${Tt}`))]})}),o.jsx("tbody",{children:nt.slice().sort((ye,Tt)=>{var ve,Nt;const Xe=ae.direction==="asc"?1:-1,pt=ae.key;if(pt==="ts"){const et=Dt(ye.ts||((ve=ye.raw)==null?void 0:ve.timestamp)),ut=Dt(Tt.ts||((Nt=Tt.raw)==null?void 0:Nt.timestamp));return!et.isValid()||!ut.isValid()||et.valueOf()===ut.valueOf()?0:et.valueOf()>ut.valueOf()?Xe:-Xe}const Z=ye.json?ye.json[pt]:void 0,X=Tt.json?Tt.json[pt]:void 0;return Z===X?0:Z>X?Xe:-Xe}).map((ye,Tt)=>{var Xe;return o.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:ye.ts||((Xe=ye.raw)==null?void 0:Xe.timestamp)||""}),tn.map((pt,Z)=>{const X=pt.key,ve=ye.json&&Object.prototype.hasOwnProperty.call(ye.json,X)?ye.json[X]:"",Nt=ve==null?"":typeof ve=="object"?JSON.stringify(ve):String(ve);return o.jsx("td",{className:"px-2 py-1 whitespace-nowrap hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:Nt},`${X}-${Z}`)})]},Tt)})})]})]})})()]})})})}),de===R.key&&o.jsx("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:o.jsx("td",{colSpan:13,className:"px-4 py-3 bg-gray-50 dark:bg-gray-900",children:(()=>{const nt=localStorage.getItem("tableColumnOrder_global"),yt=nt?JSON.parse(nt):null,qt=Array.isArray(yt)&&yt.length?yt:Object.keys(R.liveTrade||R.backendTrade||{});return o.jsx("div",{className:"overflow-auto max-h-[50vh] border rounded bg-gray-900 text-white dark:bg-white dark:text-black",style:{fontSize:`${C}rem`},children:o.jsxs("table",{className:"min-w-[1200px] text-xs",children:[o.jsx("thead",{className:"sticky top-0 bg-gray-800 text-white dark:bg-gray-200 dark:text-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-1 text-left",children:"Side"}),qt.map(tn=>o.jsx("th",{className:"px-2 py-1 text-left",children:tn},tn))]})}),o.jsx("tbody",{children:[{title:"Backend",trade:R.backendTrade},{title:"Live",trade:R.liveTrade}].map(({title:tn,trade:cn})=>o.jsxs("tr",{className:"border-t border-gray-700 dark:border-gray-200 bg-gray-900 text-white dark:bg-white dark:text-black hover:bg-gray-700 dark:hover:bg-gray-100 transition-colors",children:[o.jsx("td",{className:"px-2 py-1 font-semibold",children:tn}),qt.map(Oe=>o.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:rt(Oe,cn)},Oe))]},tn))})]})})})()})})]},R.key)})]})]})})})})]})})]})},nx={enabled:!1,volume:.7,mode:"tts",announceActions:{BUY:!0,SELL:!0},announceSignals:{},audioUrls:{BUY:"",SELL:""},newTradeWindowHours:4};function xW({isOpen:t,onClose:e,settings:n,onChange:r,availableSignals:s,onTestVisual:l}){var M,Y;const[c,d]=x.useState(n||nx),h=x.useRef(null),[g,p]=x.useState(null),v=x.useRef({dragging:!1,offsetX:0,offsetY:0,width:0,height:0});x.useEffect(()=>{d(Q=>{const K={...nx,...n||{}},z={...K.announceSignals||{}};return(s||[]).forEach(ee=>{z[ee]===void 0&&(z[ee]=!0)}),K.announceSignals=z,K})},[n,s]),x.useEffect(()=>{t&&p(null)},[t]);const _=()=>{r(c),e()},y=()=>{var Ee;const Q=c||nx;if(!Q.enabled)return;const K=Math.max(0,Math.min(1,Number(Q.volume||.7)));let ee=["BUY","SELL"].find(re=>{var me;return((me=Q.announceActions)==null?void 0:me[re])!==!1})||"BUY";const oe=(s||[]).find(re=>{var me;return((me=Q.announceSignals)==null?void 0:me[re])!==!1})||"signal";if(Q.mode==="audio"){const re=(Ee=Q.audioUrls)==null?void 0:Ee[ee];if(re)try{const me=new Audio(re);me.volume=K,me.play().catch(()=>{});return}catch{}}try{const re=`${ee==="BUY"?"Buy":ee==="SELL"?"Sell":ee} from ${oe}`,me=new SpeechSynthesisUtterance(re);me.volume=K,window.speechSynthesis.speak(me)}catch{}typeof l=="function"&&l()},E=Q=>{if(!h.current)return;const K=h.current.getBoundingClientRect();p({x:K.left,y:K.top}),v.current={dragging:!0,offsetX:Q.clientX-K.left,offsetY:Q.clientY-K.top,width:K.width,height:K.height},window.addEventListener("mousemove",S),window.addEventListener("mouseup",k,{once:!0})},S=Q=>{if(!v.current.dragging)return;const K=window.innerWidth,z=window.innerHeight,ee=Q.clientX-v.current.offsetX,se=Q.clientY-v.current.offsetY,oe=8,Ee=Math.max(oe,K-v.current.width-oe),re=Math.max(oe,z-v.current.height-oe),me=Math.min(Math.max(ee,oe),Ee),je=Math.min(Math.max(se,oe),re);p({x:me,y:je})},k=()=>{v.current.dragging=!1,window.removeEventListener("mousemove",S)},D=({action:Q})=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:!!c.announceActions[Q],onChange:K=>d(z=>({...z,announceActions:{...z.announceActions,[Q]:K.target.checked}}))}),Q]}),A=({signal:Q})=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:!!c.announceSignals[Q],onChange:K=>d(z=>({...z,announceSignals:{...z.announceSignals,[Q]:K.target.checked}}))}),Q]});return t?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:o.jsxs("div",{ref:h,className:"fixed w-[92vw] max-w-2xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 text-gray-900 dark:text-gray-100",style:g?{left:g.x,top:g.y}:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-800 cursor-move select-none",onMouseDown:E,children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Sound & New Trades"}),o.jsx("button",{className:"text-sm px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white",onClick:e,children:"Close"})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Enable sound"}),o.jsx("input",{type:"checkbox",checked:!!c.enabled,onChange:Q=>d(K=>({...K,enabled:Q.target.checked}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:["Volume: ",Math.round((c.volume||0)*100),"%"]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",className:"w-full",value:c.volume||0,onChange:Q=>d(K=>({...K,volume:parseFloat(Q.target.value)}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Mode"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx("input",{type:"radio",name:"mode",value:"tts",checked:(c.mode||"tts")==="tts",onChange:Q=>d(K=>({...K,mode:Q.target.value}))}),"Voice (TTS)"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx("input",{type:"radio",name:"mode",value:"audio",checked:c.mode==="audio",onChange:Q=>d(K=>({...K,mode:Q.target.value}))}),"Audio URLs"]})]})]}),c.mode==="audio"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:"BUY audio URL"}),o.jsx("input",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",placeholder:"https://example.com/buy.mp3",value:((M=c.audioUrls)==null?void 0:M.BUY)||"",onChange:Q=>d(K=>({...K,audioUrls:{...K.audioUrls||{},BUY:Q.target.value}}))})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:"SELL audio URL"}),o.jsx("input",{className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",placeholder:"https://example.com/sell.mp3",value:((Y=c.audioUrls)==null?void 0:Y.SELL)||"",onChange:Q=>d(K=>({...K,audioUrls:{...K.audioUrls||{},SELL:Q.target.value}}))})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Announce actions"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(D,{action:"BUY"}),o.jsx(D,{action:"SELL"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Announce signals"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-36 overflow-auto p-2 border border-gray-200 dark:border-gray-800 rounded",children:(s||[]).map(Q=>o.jsx(A,{signal:Q},Q))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:'"New trades" window for sticker (hours)'}),o.jsx("input",{type:"number",min:"1",max:"72",className:"w-24 px-2 py-1 rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",value:c.newTradeWindowHours||4,onChange:Q=>d(K=>({...K,newTradeWindowHours:Math.max(1,Math.min(72,parseInt(Q.target.value||"1")))}))})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 py-3 border-t border-gray-200 dark:border-gray-800",children:[o.jsx("button",{className:"px-3 py-1 rounded bg-green-600 text-white",onClick:y,children:"Test"}),o.jsx("button",{className:"px-3 py-1 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white",onClick:e,children:"Cancel"}),o.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white",onClick:_,children:"Save"})]})]})}):null}function vW({width:t=400,height:e=80,opacity:n=.4}){const[r,s]=x.useState([]),[l,c]=x.useState([]),d=x.useRef(0),h=[0,40,80,120,160,200,240,280,320,360,400];return x.useEffect(()=>{let g;function p(){d.current+=.008;const v=h.map((y,E)=>{const S=40+20*Math.sin(d.current+E*.5)+10*Math.sin(d.current*.5+E);return`${y},${Math.round(S+20)}`}),_=h.map((y,E)=>{const S=40+20*Math.cos(d.current+E*.6)+10*Math.cos(d.current*.4+E);return`${y},${Math.round(S)}`});s(v),c(_),g=requestAnimationFrame(p)}return p(),()=>cancelAnimationFrame(g)},[]),o.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0,opacity:n},viewBox:`0 0 ${t} ${e}`,fill:"none",preserveAspectRatio:"none",children:[o.jsx("polyline",{points:r.join(" "),stroke:"green",strokeWidth:"4",fill:"none",strokeLinejoin:"round"}),o.jsx("polyline",{points:l.join(" "),stroke:"red",strokeWidth:"4",fill:"none",strokeLinejoin:"round"})]})}const Rs=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(t===!1||t==="false"||t===0||t==="0"||t===null||t===void 0)return!1;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},Wi=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(typeof t=="string"){const e=parseFloat(t);return!isNaN(e)&&e>0}return!1},yW=30*1e3,bW=60*60*1e3,Pw=15*60,Fw="logout_timer_enabled",_W=()=>{var Ye,ye,Tt,Xe,pt;const[t,e]=x.useState(!1),[n,r]=x.useState(null),[s,l]=x.useState(!0),[c,d]=x.useState(!1),[h,g]=x.useState(!1),[p,v]=x.useState(!1),[_,y]=x.useState(Pw),[E,S]=x.useState(()=>{try{const Z=localStorage.getItem(Fw);if(Z==="false")return!1;if(Z==="true")return!0}catch{}return!0}),[k,D]=x.useState(!1),A=x.useRef(0),M=x.useRef(!1),Y=x.useRef(null),[Q,K]=x.useState([]),[z,ee]=x.useState(null),[se,oe]=x.useState(null);x.useEffect(()=>{window._superTrendData=Q},[Q]);const[Ee,re]=x.useState(null),[me,je]=x.useState(null),[We,ae]=x.useState([]),[Le,Re]=x.useState(null),[jt,P]=x.useState(()=>typeof Oa=="function"?Oa():""),[ce,L]=x.useState(!1),[F,C]=x.useState(!1),[H,de]=x.useState(!1),[tt,rt]=x.useState([]),[Ze,Et]=x.useState([]),[bn,Mt]=x.useState(!1),[_n,Jt]=x.useState([]),[on,Kt]=x.useState(!1),[Ue,Nn]=x.useState(()=>{const Z=localStorage.getItem("machineRadioMode");return Z?JSON.parse(Z):!1}),Xt=x.useCallback(Z=>Z==null?"":String(Z),[]),[xt,Qt]=x.useState(!0),[Yt,ln]=x.useState("running"),[lt,Qn]=x.useState(()=>{const Z=localStorage.getItem("fontSizeLevel");return Z?parseInt(Z,10):3}),[Yn,he]=x.useState(()=>{const Z=localStorage.getItem("chartSettings");return Z?JSON.parse(Z):{layout:3,showRSI:!0,showVolume:!0}});x.useEffect(()=>{localStorage.setItem("chartSettings",JSON.stringify(Yn))},[Yn]),x.useEffect(()=>{const Z=document.documentElement,X=1,ve=(lt-8)*.25;Z.style.setProperty("--app-font-scale",`${X+ve}`)},[lt]),x.useEffect(()=>{localStorage.setItem("fontSizeLevel",lt)},[lt]);const $e=1e4;x.useEffect(()=>{let Z=!1;const X=setTimeout(()=>{Z||(l(!1),e(!1),r(null))},$e);return gw().then(ve=>{Z||(e(!!ve),ve&&(A.current=Date.now()),r((ve==null?void 0:ve.user)??null),l(!1))}).catch(()=>{Z||(e(!1),r(null),l(!1))}).finally(()=>{clearTimeout(X)}),()=>{Z=!0,clearTimeout(X)}},[]),x.useEffect(()=>{t&&A.current===0&&(A.current=Date.now())},[t]),x.useEffect(()=>{if(!t)return;const Z=setInterval(()=>{gw().then(X=>{if(!X){e(!1),r(null),d(!1),g(!1);return}r(X.user??null),Date.now()-A.current>=bW&&g(!0)})},yW);return()=>clearInterval(Z)},[t]),x.useEffect(()=>{const Z=()=>{e(!1),d(!1)};return window.addEventListener("lab-unauthorized",Z),()=>window.removeEventListener("lab-unauthorized",Z)},[]);const qe="soundSettings",[ze,Be]=x.useState(!1),[R,ge]=x.useState(()=>{try{const Z=localStorage.getItem(qe);return Z?JSON.parse(Z):{enabled:!1,volume:.7,mode:"tts",announceActions:{BUY:!0,SELL:!0},announceSignals:{},audioUrls:{BUY:"",SELL:""},newTradeWindowHours:4}}catch{return{enabled:!1,volume:.7,mode:"tts",announceActions:{BUY:!0,SELL:!0},announceSignals:{},audioUrls:{BUY:"",SELL:""},newTradeWindowHours:4}}});x.useEffect(()=>{localStorage.setItem(qe,JSON.stringify(R))},[R]);const[Ie,wt]=x.useState(()=>{try{const Z=localStorage.getItem("layoutOption");if(Z==null||Z==="")return 3;const X=parseInt(Z,10);return Number.isInteger(X)&&X>=1&&X<=14?X:3}catch{return 3}}),[ht,$t]=x.useState(()=>{const Z=localStorage.getItem("selectedSignals");if(Z){const X=JSON.parse(Z);return!Object.values(X).every(Nt=>Nt===!0)}return!0}),[sn,bt]=x.useState(()=>{const Z=localStorage.getItem("machineToggleAll");return Z?JSON.parse(Z):!0});x.useEffect(()=>{localStorage.setItem("machineRadioMode",Ue)},[Ue]),x.useEffect(()=>{localStorage.setItem("machineToggleAll",sn)},[sn]);const[ot,ct]=x.useState(!1),[Wt,vn]=x.useState(["BTCUSDT","ETHUSDT","ADAUSDT","DOTUSDT"]),[Wn,gn]=x.useState(()=>{const Z=localStorage.getItem("fromDate");return Z?Dt(Z):null}),[Pn,Dn]=x.useState(()=>{const Z=localStorage.getItem("toDate");return Z?Dt(Z):null});x.useEffect(()=>{Wn?localStorage.setItem("fromDate",Wn.toISOString()):localStorage.removeItem("fromDate")},[Wn]),x.useEffect(()=>{Pn?localStorage.setItem("toDate",Pn.toISOString()):localStorage.removeItem("toDate")},[Pn]);const[pn,te]=x.useState({"2POLE_IN5LOOP":!0,IMACD:!0,"2POLE_Direct_Signal":!0,"HIGHEST SWING HIGH":!0,"LOWEST SWING LOW":!0,"NORMAL SWING HIGH":!0,"NORMAL SWING LOW":!0,ProGap:!0,CrossOver:!0,Spike:!0,Kicker:!0}),[Pe,He]=x.useState(!1),[Bt,Ke]=x.useState(!1),[st,it]=x.useState({BUY:!0,SELL:!0}),[j,G]=x.useState(()=>{const Z=localStorage.getItem("liveFilter");if(Z)try{return JSON.parse(Z)}catch{return{true:!0,false:!0}}return{true:!0,false:!0}});x.useEffect(()=>{localStorage.setItem("liveFilter",JSON.stringify(j))},[j]);const[B,q]=x.useState(()=>localStorage.getItem("liveRadioMode")==="true");x.useEffect(()=>{localStorage.setItem("liveRadioMode",B?"true":"false")},[B]);const[V,J]=x.useState(()=>localStorage.getItem("filterVisible")!=="false");x.useEffect(()=>{localStorage.setItem("filterVisible",V?"true":"false")},[V]),x.useEffect(()=>{if(Bt){const Z=Object.keys(st).find(X=>st[X]);if(Z){const X={BUY:!1,SELL:!1};X[Z]=!0,it(X),localStorage.setItem("selectedActions",JSON.stringify(X))}}},[Bt]);const[we,Ne]=x.useState(()=>{const Z=localStorage.getItem("selectedIntervals");return Z?JSON.parse(Z):{"1m":!0,"3m":!0,"5m":!0,"15m":!0,"30m":!0,"1h":!0,"2h":!0,"4h":!0}}),[xe,Se]=x.useState({}),[De,gt]=x.useState(0),vt=x.useCallback(async()=>{var Z,X,ve,Nt,et,ut,Gt;if(typeof window<"u"&&((X=(Z=window.location)==null?void 0:Z.hostname)!=null&&X.includes("github.io"))&&!Oa()){ae([]),Jt([]),Et([]),rt([]),K([]),ee(null),oe(null),Re(null);return}try{L(!1);try{await Bn("/api/sync-open-positions").catch(()=>{})}catch{}const Ft=await Bn("/api/trades");if(Ft.status===401){e(!1);return}if(Ft.status===404&&typeof window<"u"&&((Nt=(ve=window.location)==null?void 0:ve.hostname)!=null&&Nt.includes("github.io"))){L(!0),ae([]),Re(null),console.error("[LAB] API returned 404  server at api.clubinfotech.com may be down or not proxying. On cloud run: sudo systemctl restart lab-trading-dashboard");return}const Ut=Ft.ok?await Ft.json():{trades:[]},Vn=Array.isArray(Ut.trades)?Ut.trades:[];console.log("[DEBUG] Trades received:",Vn.length,"rows"),Re((et=Ut._meta)!=null&&et.demoData&&Ut._meta.hint||null);const Ln=await Bn("/api/machines"),Kn=Ln.ok?await Ln.json():{machines:[]},Rn=Array.isArray(Kn.machines)?Kn.machines:[];console.log("[DEBUG] Machines received:",Rn.length,"machines");const rn=`${"/lab_live/".replace(/\/?$/,"/")}logs.json`,Xr=await fetch(rn).catch(()=>({ok:!1})),un=Xr.ok?await Xr.json():{logs:[]},cs=Array.isArray(un==null?void 0:un.logs)?un.logs:[];console.log("[API DEBUG] fetch /api/supertrend");const dn=await Bn("/api/supertrend"),mr=dn.ok?await dn.json():{supertrend:[]};K(Array.isArray(mr.supertrend)?mr.supertrend:[]),console.log("[API DEBUG] fetch /api/pairstatus");const ir=await Bn("/api/pairstatus"),Tr=ir.ok?await ir.json():null;ee(Tr);try{console.log("[API DEBUG] fetch /api/active-loss");const mn=await Bn("/api/active-loss"),Dr=mn.ok?await mn.json():null;oe(Dr||null)}catch{oe(null)}const Or=Array.from(new Set(Vn.map(mn=>Xt(mn.machineid)).filter(Boolean))).map(mn=>({machineid:mn,active:!0})),vr=[...Rn,...Or.filter(mn=>!Rn.some(Dr=>Xt(Dr.machineid)===mn.machineid))];Jt(vr),ae(Vn),Et(cs),rt(vr),F&&Vn.length>0&&(console.log("[DEBUG]  CORS error cleared - data loaded successfully"),C(!1));const hr=vr.reduce((mn,Dr)=>{const nr=Xt(Dr.machineid);return nr&&(mn[nr]=!0),mn},{});Se(hr),localStorage.setItem("selectedMachines",JSON.stringify(hr));const as=Vn.reduce((mn,Dr)=>{const nr=Xt(Dr.machineid)||"unknown";return mn[nr]=(mn[nr]||0)+1,mn},{});console.log("[DEBUG] Machines from API:",Rn.map(mn=>Xt(mn.machineid))),console.log("[DEBUG] Machines from trades:",Or),console.log("[DEBUG] Counts by machine from trades:",as),console.log("[DEBUG] Selected machines:",hr)}catch{if(ae([]),Re(null),DT())L(!0),de(!0);else if(typeof window<"u"&&((Gt=(ut=window.location)==null?void 0:ut.hostname)!=null&&Gt.includes("github.io"))){const Ut=Oa();console.log("[DEBUG] GitHub Pages error - current API base:",Ut),L(!0),typeof mx=="function"&&mx().then(()=>setTimeout(()=>vt(),2e3))}}},[Xt]);x.useEffect(()=>{vt()},[vt]),x.useEffect(()=>{const Z=()=>{P(Oa()),vt()};return window.addEventListener("api-config-loaded",Z),()=>window.removeEventListener("api-config-loaded",Z)},[vt]);const Je=x.useMemo(()=>{if(!Array.isArray(We))return[];const Z=(X,ve)=>Object.prototype.hasOwnProperty.call(X,ve)?X[ve]:!0;return We.filter(X=>{if(!xt&&X.min_close==="Min_close")return!1;const ve=Z(pn,X.signalfrom),Nt=Z(xe,Xt(X.machineid)),et=Z(we,X.interval),ut=Z(st,X.action),Gt=X.exist_in_exchange??X.Exist_in_exchange,Ft=Gt===!0||Gt==="true"||Gt===1||Gt==="1";if(!(j.true&&j.false)){if(j.true&&!Ft)return!1;if(j.false&&Ft)return!1;if(!j.true&&!j.false)return!1}if(!X.candel_time)return!1;const Ut=Dt(X.candel_time),Vn=(!Wn||Ut.isSameOrAfter(Wn))&&(!Pn||Ut.isSameOrBefore(Pn));return ve&&Nt&&et&&ut&&Vn})},[We,pn,xe,we,st,Wn,Pn,xt,lt,j]);x.useEffect(()=>{if(!_n.length&&!We.length)return;const Z=Array.from(new Set(We.map(ut=>ut.interval))),X=Array.from(new Set(We.map(ut=>ut.signalfrom))),ve=Array.from(new Set(We.map(ut=>ut.action))),Nt=We.reduce((ut,Gt)=>{const Ft=Xt(Gt.machineid)||"unknown";return ut[Ft]=(ut[Ft]||0)+1,ut},{}),et=Je.reduce((ut,Gt)=>{const Ft=Xt(Gt.machineid)||"unknown";return ut[Ft]=(ut[Ft]||0)+1,ut},{});console.log("[DEBUG][Machines] API machines:",_n.map(ut=>Xt(ut.machineid))),console.log("[DEBUG][Machines] Selected map:",xe),console.log("[DEBUG][Trades] Raw counts by machine:",Nt),console.log("[DEBUG][Trades] Filtered counts by machine:",et),console.log("[DEBUG][Trades] Unique intervals:",Z),console.log("[DEBUG][Trades] Unique signals:",X),console.log("[DEBUG][Trades] Unique actions:",ve)},[_n,We,Je,xe,Xt]);const _t=x.useMemo(()=>{const Z={};return(Je||[]).forEach(X=>{const ve=Ft=>{Z[Ft]||(Z[Ft]=[]),Z[Ft].push(X)};ve("Total_Trades"),X.type==="close"&&ve("Profit_+_Loss_=_Closed_Profit $"),(X.type==="running"||X.type==="hedge_hold")&&ve("Profit_+_Loss_=_Running_Profit $"),["assign","running","close","hedge_hold"].includes(X.type)&&ve("Assign_/_Running_/_Closed Count"),X.action==="BUY"&&(X.type==="running"||X.type==="hedge_hold")&&ve("Running_/_Total_Buy"),X.action==="SELL"&&(X.type==="running"||X.type==="hedge_hold")&&ve("Running_/_Total_Sell");const Nt=Rs(X.hedge),et=Wi(X.hedge_1_1_bool),ut=Wi(X.commision_journey),Gt=Wi(X.profit_journey);if(ut&&X.pl_after_comm>0&&!Gt&&(X.type==="running"||X.type==="hedge_hold")&&ve("Comission_Point_Crossed"),Gt&&X.pl_after_comm>0&&(X.type==="running"||X.type==="hedge_hold")&&ve("Profit_Journey_Crossed"),X.pl_after_comm<0&&(X.type==="running"||X.type==="hedge_hold")&&ve("Below_Commision_Point"),X.type==="close"&&ut&&!Gt&&ve("Closed_After_Comission_Point"),X.type==="close"&&X.pl_after_comm<0&&ve("Close_in_Loss"),Nt&&ve("Total_Hedge"),Nt&&(X.type==="running"||X.type==="hedge_hold")&&ve("Hedge_Running_pl"),Nt&&X.type==="close"&&ve("Hedge_Closed_pl"),X.type==="close"&&X.pl_after_comm>0&&ve("Close_in_Profit"),X.type==="close"&&Gt&&ve("Close_After_Profit_Journey"),X.type==="close"&&ut&&X.pl_after_comm<0&&ve("Close_Curve_in_Loss"),X.type==="close"&&X.min_close==="Min_close"&&(X.pl_after_comm>0&&ve("Min_Close_Profit"),X.pl_after_comm<0&&ve("Min_Close_Loss")),X.type==="close"&&(ve("Total_Closed_Stats"),ve("Closed_Count_Stats"),Nt||ve("Direct_Closed_Stats")),X.type==="hedge_close"&&ve("Hedge_Closed_Stats"),X.type==="running"||X.type==="hedge_hold"){ve("Total_Running_Stats");const Ft=Nt||X.type==="hedge_hold";Ft||ve("Direct_Running_Stats"),Ft&&!et&&ve("Hedge_Running_Stats")}(Nt||X.type==="hedge_hold")&&et&&(X.type==="running"||X.type==="hedge_hold")&&ve("Hedge_on_Hold"),ve("Total_Stats"),(X.type==="assign"||X.type==="back_close")&&ve("Assigned_New"),Nt&&ve("Hedge_Stats"),["BUY","SELL"].includes(X.action)&&ve("Buy_Sell_Stats"),(X.type==="running"||X.type==="hedge_hold")&&X.pl_after_comm>0&&Gt&&ve("Journey_Stats_Running"),(X.type==="running"||X.type==="hedge_hold")&&X.pl_after_comm>0&&ut&&!Gt&&ve("Journey_Stats_Running"),(X.type==="running"||X.type==="hedge_hold")&&X.pl_after_comm<0&&ve("Journey_Stats_Running")}),Z},[Je]),Ht=x.useMemo(()=>{const Z=new Set((Array.isArray(Je)?Je:[]).map(X=>X.signalfrom).filter(Boolean));return Array.from(Z)},[Je]),en=Z=>{const X=Z.unique_id||Z.Unique_ID||Z.uid;if(X)return`uid:${String(X)}`;const ve=Z.candel_time||Z.candle_time||Z.timestamp||Z.created_at,Nt=Z.pair||Z.Pair||Z.symbol||"",et=Z.action||Z.Action||"";return`ts:${String(ve)}|${Nt}|${et}`},hn=x.useMemo(()=>{const Z=Number((R==null?void 0:R.newTradeWindowHours)||4),X=Dt.utc().utcOffset(330);return(Je||[]).filter(ve=>{const Nt=Rs(ve.hedge)||ve.type==="hedge_hold";if(!(ve.type==="running"&&!Nt))return!1;const ut=ve.fetcher_trade_time||ve.Fetcher_Trade_time||ve.fetch_time||ve.candel_time||ve.candle_time||ve.timestamp||ve.created_at;if(!ut)return!1;const Gt=Dt.utc(ut).utcOffset(330);return Gt.isValid()?X.diff(Gt,"hours",!0)<=Z:!1})},[Je,R]),On="announcedTradeKeysV1",Cn=x.useRef(new Map);x.useEffect(()=>{try{const Z=localStorage.getItem(On);if(Z){const X=JSON.parse(Z),ve=Date.now(),Nt=7*24*3600*1e3;Object.entries(X||{}).forEach(([et,ut])=>{typeof ut=="number"&&ve-ut<Nt&&Cn.current.set(et,ut)})}}catch{}},[]);const kr=()=>{const Z=Array.from(Cn.current.entries()).sort((X,ve)=>ve[1]-X[1]).slice(0,5e3);try{localStorage.setItem(On,JSON.stringify(Object.fromEntries(Z)))}catch{}},Ar=Z=>{var et;if(!(R!=null&&R.enabled))return;const X=String(Z.action||"").toUpperCase(),ve=String(Z.signalfrom||"");if(R.announceActions&&R.announceActions[X]===!1||R.announceSignals&&Object.keys(R.announceSignals).length&&R.announceSignals[ve]===!1)return;const Nt=Math.max(0,Math.min(1,Number(R.volume||.7)));if(R.mode==="audio"){const ut=(et=R.audioUrls)==null?void 0:et[X];if(ut){try{const Gt=new Audio(ut);Gt.volume=Nt,Gt.play().catch(()=>{})}catch{}return}}try{const ut=`${X==="BUY"?"Buy":X==="SELL"?"Sell":X} from ${ve||"signal"}`,Gt=new SpeechSynthesisUtterance(ut);Gt.volume=Nt,window.speechSynthesis.speak(Gt)}catch{}},fr=x.useRef(new Set);x.useEffect(()=>{const Z=Array.isArray(hn)?hn:[],X=new Set(Z.map(en)),ve=Z.filter(et=>!fr.current.has(en(et)));fr.current=X;const Nt=ve.filter(et=>!Cn.current.has(en(et)));Nt.length&&(Nt.forEach(et=>{Ar(et),Cn.current.set(en(et),Date.now())}),kr())},[hn,R]),x.useEffect(()=>{Je.reduce((Te,Rt)=>Te+(Rt.investment||0),0);const Z=Je.filter(Te=>Te.pl_after_comm>0&&Te.type==="close").reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),X=Je.filter(Te=>Te.pl_after_comm<0&&Te.type==="close").reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),ve=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold";return Te.pl_after_comm>0&&Te.type==="running"&&!Rt}),Nt=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold";return Te.pl_after_comm<0&&Te.type==="running"&&!Rt}),et=ve.reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),ut=Nt.reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),Gt=Je.filter(Te=>Te.type==="close").reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),Ft=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold";return Te.type==="running"&&!Rt}).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),Ut=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold";return Te.action==="BUY"&&Te.type==="running"&&!Rt}).length,Vn=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold";return Te.action==="BUY"&&(Te.type==="running"||Te.type==="hedge_hold")&&Rt}).length,Ln=Je.filter(Te=>Te.action==="BUY"&&Te.type==="close").length,Kn=Je.filter(Te=>Te.action==="BUY"&&Te.type==="hedge_close").length,Rn=Ln+Kn,rn=Je.filter(Te=>Te.action==="BUY").length,Xr=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold";return Te.action==="SELL"&&Te.type==="running"&&!Rt}).length,un=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold";return Te.action==="SELL"&&(Te.type==="running"||Te.type==="hedge_hold")&&Rt}).length,cs=Je.filter(Te=>Te.action==="SELL"&&Te.type==="close").length,dn=Je.filter(Te=>Te.action==="SELL"&&Te.type==="hedge_close").length,mr=cs+dn,ir=Je.filter(Te=>Te.action==="SELL").length,Tr=Je.filter(Te=>{const Rt=Te.hedge||Te.Hedge||Te.hedge_bool||Te.Hedge_bool,Un=Te.hedge_1_1_bool||Te.Hedge_1_1_bool||Te.hedge_1_1||Te.Hedge_1_1,us=Te.pl_after_comm||Te.Pl_after_comm,ks=Rs(Rt),Pt=Wi(Un);return us>0&&ks&&Pt}).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm||Rt.Pl_after_comm)||0),0),Or=Je.filter(Te=>{const Rt=Te.hedge||Te.Hedge||Te.hedge_bool||Te.Hedge_bool,Un=Te.hedge_1_1_bool||Te.Hedge_1_1_bool||Te.hedge_1_1||Te.Hedge_1_1,us=Te.pl_after_comm||Te.Pl_after_comm,ks=Rs(Rt),Pt=Wi(Un);return us<0&&ks&&Pt}).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm||Rt.Pl_after_comm)||0),0),vr=Je.filter(Te=>{const Rt=Te.hedge||Te.Hedge||Te.hedge_bool||Te.Hedge_bool,Un=Te.hedge_1_1_bool||Te.Hedge_1_1_bool||Te.hedge_1_1||Te.Hedge_1_1,us=Te.type||Te.Type||"",ks=Rs(Rt),Pt=Wi(Un),Xs=!us.toLowerCase().includes("close")&&!us.toLowerCase().includes("assign");return ks&&Pt&&Xs}).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm||Rt.Pl_after_comm)||0),0),hr=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold",Un=Wi(Te.hedge_1_1_bool);return Rt&&!Un&&Te.pl_after_comm>0&&(Te.type==="running"||Te.type==="hedge_hold")}).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),as=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold",Un=Wi(Te.hedge_1_1_bool);return Rt&&!Un&&Te.pl_after_comm<0&&(Te.type==="running"||Te.type==="hedge_hold")}).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),mn=Je.filter(Te=>{const Rt=Rs(Te.hedge)||Te.type==="hedge_hold",Un=Wi(Te.hedge_1_1_bool);return Rt&&!Un&&(Te.type==="running"||Te.type==="hedge_hold")}).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),Dr=Je.filter(Te=>Te.type==="hedge_close"&&Te.pl_after_comm>0).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),nr=Je.filter(Te=>Te.type==="hedge_close"&&Te.pl_after_comm<0).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0),bi=Je.filter(Te=>Te.type==="hedge_close").reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0);Je.filter(Te=>Te.min_close==="Min_close"&&Te.type==="close"&&Te.pl_after_comm>0).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0).toFixed(2),Je.filter(Te=>Te.min_close==="Min_close"&&Te.type==="close"&&Te.pl_after_comm<0).reduce((Te,Rt)=>Te+(parseFloat(Rt.pl_after_comm)||0),0).toFixed(2);const Jr=new Date;Jr.setDate(Jr.getDate()-1),re(Te=>({...Te,Total_Closed_Stats:o.jsxs(o.Fragment,{children:[o.jsx("span",{title:"Closed Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:"Total Closed Trades "}),o.jsx("span",{title:"Closed Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:""}),"",o.jsx("span",{title:"Closed Count",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(lt-8)*5}px`},children:Je.filter(Rt=>Rt.type==="close"||Rt.type==="hedge_close").length}),o.jsx("div",{style:{height:"14px"}}),o.jsx("span",{title:"Closed Profit (Hedge + Direct) ",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:(Z+Dr).toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"+ "}),"",o.jsx("span",{title:"Closed Loss (Hedge + Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:(X+nr).toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"="}),"",o.jsx("span",{className:`${Gt>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(lt-8)*5}px`},title:"Closed Total (Hedge + Direct)",children:(Z+Dr+(X+nr)).toFixed(2)})]}),Direct_Closed_Stats:o.jsxs(o.Fragment,{children:[o.jsx("span",{title:"Closed Count (Only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:"Direct Closed Trades"}),o.jsx("span",{title:"Closed Count (Only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:""}),"",o.jsx("span",{title:"Closed Count",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(lt-8)*5}px`},children:Je.filter(Rt=>Rt.type==="close").length}),o.jsx("div",{style:{height:"14px"}}),o.jsx("span",{title:"Closed Profit (Only Direct) ",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:Z.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"+ "}),"",o.jsx("span",{title:"Closed Loss (Only Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:X.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"="}),"",o.jsx("span",{className:`${Z+X>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(lt-8)*5}px`},title:"Closed Total (Only Direct)",children:(Z+X).toFixed(2)})]}),Hedge_Closed_Stats:o.jsxs(o.Fragment,{children:[o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold font-semibold",style:{fontSize:`${26+(lt-8)*5}px`},children:"Hedge Closed  "}),o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:""}),"",o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(lt-8)*5}px`},title:"Closed Hedge Count",children:Je.filter(Rt=>Rt.type==="hedge_close").length}),o.jsx("div",{style:{height:"14px"}}),o.jsx("span",{className:"text-green-300 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},title:"Closed Hedge Profit +",children:Dr.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"+ "}),"",o.jsx("span",{className:"text-red-400 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},title:"Closed Hedge Profit -",children:nr.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"="}),"",o.jsx("span",{className:`${bi>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(lt-8)*5}px`},title:"Closed Hedge Profit Total",children:bi.toFixed(2)})]}),Total_Running_Stats:o.jsxs(o.Fragment,{children:[o.jsx("span",{title:"Running Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:"Total Running Trades"}),o.jsx("span",{title:"Running Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:""}),"",o.jsx("span",{title:"Running Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(lt-8)*5}px`},children:Je.filter(Rt=>{const Un=Wi(Rt.hedge_1_1_bool);return(Rt.type==="running"||Rt.type==="hedge_hold")&&!Un}).length}),o.jsx("div",{style:{height:"14px"}}),"",o.jsx("span",{title:"Running Profit (Hedge + Direct)",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:(et+hr).toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"+ "}),"",o.jsx("span",{title:"Running Loss (Hedge + Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:(ut+as).toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"="}),"",o.jsx("span",{className:`${Ft+mn>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(lt-8)*5}px`},title:"Running Total (Hedge + Direct)",children:(Ft+mn).toFixed(2)})]}),Direct_Running_Stats:o.jsxs(o.Fragment,{children:[o.jsx("span",{title:"Running Count (only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:"Direct Running Trades"}),o.jsx("span",{title:"Running Count (only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:""}),"",o.jsx("span",{title:"Running Count (only Direct)",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(lt-8)*5}px`},children:Je.filter(Rt=>{const Un=Rs(Rt.hedge)||Rt.type==="hedge_hold";return Rt.type==="running"&&!Un}).length}),o.jsx("div",{style:{height:"14px"}}),"",o.jsx("span",{title:"Running Profit (only Direct)",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:et.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${30+(lt-8)*5}px`},children:"+ "}),"",o.jsx("span",{title:"Running Loss (only Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:ut.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"="}),"",o.jsx("span",{className:`${Ft>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(lt-8)*5}px`},title:"Running Total (only Direct)",children:Ft.toFixed(2)})]}),Hedge_Running_Stats:o.jsxs(o.Fragment,{children:[o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${26+(lt-8)*5}px`},children:"Hedge Running"}),o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:""}),"",o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(lt-8)*5}px`},title:"Running Hedge Count",children:Je.filter(Rt=>{const Un=Rs(Rt.hedge)||Rt.type==="hedge_hold";return!Wi(Rt.hedge_1_1_bool)&&Un&&(Rt.type==="running"||Rt.type==="hedge_hold")}).length}),o.jsx("div",{style:{height:"14px"}}),o.jsx("span",{className:"text-green-300 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},title:"Running Hedge in Profit",children:hr.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"+ "}),"",o.jsx("span",{className:"text-red-400 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},title:"Running Hedge in Loss ",children:as.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"="}),"",o.jsx("span",{className:`${mn>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(lt-8)*5}px`},title:"Running Hedge Total",children:mn.toFixed(2)})]}),Total_Stats:o.jsxs(o.Fragment,{children:[o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:"All Total Trades"}),o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:""}),"",o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(lt-8)*5}px`},children:Je.length}),o.jsx("div",{style:{height:"14px"}}),o.jsx("span",{title:"Total Profit (Hedge + Direct) ",className:"text-green-300 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:(et+hr+Tr+Dr+Z).toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"+ "}),"",o.jsx("span",{title:"Total Loss (Hedge + Direct)",className:"text-red-400 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},children:(ut+nr+Or+X+as).toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"="}),"",o.jsx("span",{className:`${(et+hr+Dr+Tr+Z+(ut+nr+Or+X+as)).toFixed(2)>=0?"text-green-300":"text-red-400"} text-[35px]`,style:{fontSize:`${30+(lt-8)*5}px`},title:"Total (Hedge + Direct)",children:(et+hr+Dr+Tr+Z+(ut+nr+Or+X+as)).toFixed(2)})]}),Buy_Sell_Stats:o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{height:"6px"}}),o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold",style:{fontSize:`${28+(lt-8)*5}px`},children:"Buy"}),o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80",style:{fontSize:`${25+(lt-8)*5}px`},children:" Direct-"}),o.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(lt-8)*5}px`},children:Ut}),o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80",style:{fontSize:`${25+(lt-8)*5}px`},children:", Hedge-"}),o.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(lt-8)*5}px`},children:Vn}),o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80",style:{fontSize:`${25+(lt-8)*5}px`},children:", Close-"}),o.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(lt-8)*5}px`},children:Rn}),"",o.jsx("span",{style:{fontSize:`${20+(lt-8)*5}px`},children:"out of"}),"",o.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(lt-8)*5}px`},children:rn}),o.jsx("div",{style:{height:"10px"}}),o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold",style:{fontSize:`${28+(lt-8)*5}px`},children:"Sell"}),o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80 ",style:{fontSize:`${25+(lt-8)*5}px`},children:" Direct-"}),o.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(lt-8)*5}px`},children:Xr}),o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80 ",style:{fontSize:`${25+(lt-8)*5}px`},children:", Hedge-"}),o.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(lt-8)*5}px`},children:un}),o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold opacity-80",style:{fontSize:`${25+(lt-8)*5}px`},children:", Close-"}),o.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(lt-8)*5}px`},children:mr}),"",o.jsx("span",{style:{fontSize:`${20+(lt-8)*5}px`},children:"out of"}),"",o.jsx("span",{className:"relative px-[3px] text-green-300 ",style:{fontSize:`${30+(lt-8)*5}px`},children:ir}),o.jsx("br",{})]}),Hedge_on_Hold:o.jsxs(o.Fragment,{children:[o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-200 font-semibold  font-semibold",style:{fontSize:`${26+(lt-8)*5}px`},children:"Hedge on hold  1-1 "}),o.jsx("span",{title:"Total Trades Count (Hedge + Direct)",className:"relative px-[3px] text-yellow-300 font-semibold opacity-70 font-semibold",style:{fontSize:`${24+(lt-8)*5}px`},children:""}),"",o.jsx("span",{className:"relative px-[3px] text-yellow-300 font-semibold  font-semibold",style:{fontSize:`${30+(lt-8)*5}px`},title:"Hedge 1-1 Count",children:(()=>{const Rt=Je.filter(Un=>{const us=Un.hedge||Un.Hedge||Un.hedge_bool||Un.Hedge_bool||Un.hedgebool||Un.HedgeBool,ks=Un.hedge_1_1_bool||Un.Hedge_1_1_bool||Un.hedge_1_1||Un.Hedge_1_1||Un.hedge11bool||Un.Hedge11Bool,Pt=Rs(us),Xs=Wi(ks),wn=Un.type||Un.Type||"",ya=wn==="running"||wn==="Running"||wn==="hedge_hold"||wn.toLowerCase().includes("running")||!wn||wn==="";Je.indexOf(Un)<3&&console.log(" Hedge Debug - Trade:",Un.unique_id,{hedgeValue:us,hedge11Value:ks,isHedge:Pt,isHedge11:Xs,isRunning:ya,typeValue:wn,originalType:Un.type,originalTypeCapital:Un.Type});const rr=!wn.toLowerCase().includes("close")&&!wn.toLowerCase().includes("assign");return Pt&&Xs&&rr});return console.log(" Hedge on Hold Count:",Rt.length),Rt.length})()}),o.jsx("div",{style:{height:"14px"}}),o.jsx("span",{className:"text-green-300 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},title:"Hedge 1-1 Profit",children:Tr.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"+ "}),"",o.jsx("span",{className:"text-red-400 text-[30px]",style:{fontSize:`${30+(lt-8)*5}px`},title:"Hedge 1-1 Loss",children:Or.toFixed(2)}),"",o.jsx("span",{style:{fontSize:`${25+(lt-8)*5}px`},children:"="}),"",o.jsx("span",{className:`${vr>=0?"text-green-300":"text-red-400"} text-[30px]`,style:{fontSize:`${30+(lt-8)*5}px`},title:"Hedge 1-1 Total",children:vr.toFixed(2)})]})}))},[Je,me,lt]),x.useEffect(()=>{const Z=localStorage.getItem("selectedSignals"),X=localStorage.getItem("selectedMachines");if(Z){const Nt={"2POLE_IN5LOOP":!0,IMACD:!0,"2POLE_Direct_Signal":!0,"HIGHEST SWING HIGH":!0,"LOWEST SWING LOW":!0,"NORMAL SWING HIGH":!0,"NORMAL SWING LOW":!0,ProGap:!0,CrossOver:!0,Spike:!0,Kicker:!0,...JSON.parse(Z)};te(Nt);const et=Object.values(Nt).every(ut=>ut===!0);$t(!et)}X&&Se(JSON.parse(X))},[]),x.useCallback(Z=>{Se(X=>{const ve=Xt(Z),Nt={...X,[ve]:!X[ve]};return localStorage.setItem("selectedMachines",JSON.stringify(Nt)),Nt})},[Xt]),x.useEffect(()=>{if(on){const Z=Object.keys(pn).find(X=>pn[X]);if(Z){const X={};Object.keys(pn).forEach(ve=>{X[ve]=ve===Z}),te(X),localStorage.setItem("selectedSignals",JSON.stringify(X))}}},[on]),x.useEffect(()=>{if(Pe){const Z=Object.keys(we).find(X=>we[X]);if(Z){const X={};Object.keys(we).forEach(ve=>{X[ve]=ve===Z}),Ne(X),localStorage.setItem("selectedIntervals",JSON.stringify(X))}}},[Pe]);const[or,Mr]=x.useState(()=>{const Z=localStorage.getItem("theme");return Z?Z==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{or?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[or]),x.useCallback(Z=>{if(Z!=null){if(typeof Z=="string")try{return JSON.parse(Z)}catch{return Z}return Z}},[]),x.useMemo(()=>({"2POLE_IN5LOOP":!0,IMACD:!0,"2POLE_Direct_Signal":!0,"HIGHEST SWING HIGH":!0,"LOWEST SWING LOW":!0,"NORMAL SWING HIGH":!0,"NORMAL SWING LOW":!0,ProGap:!0,CrossOver:!0,Spike:!0,Kicker:!0}),[]),x.useMemo(()=>({"1m":!0,"3m":!0,"5m":!0,"15m":!0,"30m":!0,"1h":!0,"2h":!0,"4h":!0}),[]),x.useMemo(()=>({true:!0,false:!0}),[]),x.useMemo(()=>({layout:3,showRSI:!0,showVolume:!0}),[]),x.useMemo(()=>({enabled:!1,volume:.7,mode:"tts",announceActions:{BUY:!0,SELL:!0},announceSignals:{},audioUrls:{BUY:"",SELL:""},newTradeWindowHours:4}),[]);const yn=x.useCallback((Z,X)=>{try{Z==="theme"?localStorage.setItem("theme",X):Z==="soundSettings"?localStorage.setItem("soundSettings",typeof X=="string"?X:JSON.stringify(X)):localStorage.setItem(Z,typeof X=="string"?X:JSON.stringify(X))}catch{}},[]);x.useEffect(()=>{M.current=!0},[]),x.useEffect(()=>{M.current&&yn("theme",or?"dark":"light")},[or,yn]),x.useEffect(()=>{M.current&&yn("layoutOption",Ie)},[Ie,yn]),x.useEffect(()=>{M.current&&yn("fontSizeLevel",lt)},[lt,yn]),x.useEffect(()=>{M.current&&yn("liveFilter",j)},[j,yn]),x.useEffect(()=>{M.current&&yn("liveRadioMode",B?"true":"false")},[B,yn]),x.useEffect(()=>{M.current&&yn("filterVisible",V?"true":"false")},[V,yn]),x.useEffect(()=>{M.current&&yn("machineRadioMode",Ue)},[Ue,yn]),x.useEffect(()=>{M.current&&yn("machineToggleAll",sn)},[sn,yn]),x.useEffect(()=>{M.current&&yn("selectedSignals",pn)},[pn,yn]),x.useEffect(()=>{M.current&&yn("selectedMachines",xe)},[xe,yn]),x.useEffect(()=>{M.current&&yn("selectedIntervals",we)},[we,yn]),x.useEffect(()=>{M.current&&yn("selectedActions",st)},[st,yn]),x.useEffect(()=>{M.current&&yn("chartSettings",Yn)},[Yn,yn]),x.useEffect(()=>{M.current&&yn("soundSettings",R)},[R,yn]),x.useEffect(()=>{M.current&&Wn&&yn("fromDate",Wn.toISOString())},[Wn,yn]),x.useEffect(()=>{M.current&&Pn&&yn("toDate",Pn.toISOString())},[Pn,yn]),x.useEffect(()=>{const Z=X=>{X.key==="theme"&&Mr(X.newValue==="dark")};return window.addEventListener("storage",Z),()=>window.removeEventListener("storage",Z)},[]);const[ke,nt]=x.useState([]);x.useEffect(()=>{(async()=>{var Nt,et;if(typeof window<"u"&&((et=(Nt=window.location)==null?void 0:Nt.hostname)!=null&&et.includes("github.io"))&&!Oa())return;const ve=await(await Bn("/api/trades")).json();nt(ve.trades||[])})()},[]);const yt=x.useCallback(async()=>{await j$(),e(!1),r(null),d(!1),g(!1),v(!1)},[]),qt=x.useCallback(()=>{E?(v(!0),y(Pw),D(!1)):yt()},[E,yt]),tn=x.useMemo(()=>({user:n,logout:yt,triggerLogout:qt}),[n,yt,qt]),cn=x.useCallback(async()=>{await A$()?(A.current=Date.now(),g(!1)):(e(!1),g(!1))},[]),Oe=x.useCallback(Z=>{const X=Math.floor(Z/60),ve=Z%60;return`${X}:${ve<10?"0":""}${ve}`},[]);return x.useEffect(()=>{if(!p)return;const Z=setInterval(()=>{y(X=>X<=1?0:X-1)},1e3);return()=>clearInterval(Z)},[p]),x.useEffect(()=>{p&&_===0&&yt()},[p,_,yt]),x.useEffect(()=>{try{localStorage.setItem(Fw,E?"true":"false")}catch{}},[E]),x.useEffect(()=>{const Z=X=>{Y.current&&!Y.current.contains(X.target)&&D(!1)};if(k)return document.addEventListener("click",Z),()=>document.removeEventListener("click",Z)},[k]),s?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0f0f]",children:o.jsx("div",{className:"text-gray-400",children:"Checking session"})}):t?o.jsx(uv.Provider,{value:tn,children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsxs("header",{className:"flex-shrink-0 h-12 flex items-center justify-end gap-2 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm bg-[#f5f6fa] dark:bg-black ",children:[o.jsx("button",{onClick:()=>Be(!0),className:"px-2 py-1 rounded-full bg-white/80 dark:bg-gray-800/80 shadow hover:scale-105 transition-all text-sm font-semibold",title:"Sound & New trades settings",children:" Sound"}),o.jsx("button",{onClick:()=>{Mr(Z=>{const X=!Z;try{localStorage.setItem("theme",X?"dark":"light")}catch{}return X})},className:"p-1.5 rounded-full bg-white/80 dark:bg-gray-800/80 shadow hover:scale-110 transition-all",title:or?"Switch to Light Mode":"Switch to Dark Mode",style:{fontSize:22},children:or?"":""}),o.jsxs("div",{className:"relative",ref:Y,children:[o.jsx("button",{type:"button",onClick:()=>D(Z=>!Z),className:"px-3 py-1.5 rounded-full bg-white/80 dark:bg-gray-800/80 shadow hover:scale-105 transition-all text-sm font-semibold text-gray-700 dark:text-gray-200",title:"Session & Logout",children:"Logout"}),k&&o.jsxs("div",{className:"absolute right-0 top-full mt-1 z-50 w-56 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-900 shadow-xl py-2 px-3",children:[o.jsxs("label",{className:"flex items-center justify-between gap-2 py-2 px-2 cursor-pointer text-sm text-gray-700 dark:text-gray-200",children:[o.jsx("span",{children:"Auto logout (15 min)"}),o.jsx("input",{type:"checkbox",checked:E,onChange:Z=>S(Z.target.checked),className:"rounded"})]}),o.jsx("button",{type:"button",onClick:qt,className:"w-full mt-1 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white text-sm font-semibold",children:"Log out"})]})]})]}),o.jsxs("main",{className:"flex-1 min-h-0 flex flex-col overflow-auto",children:[p&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60",role:"dialog","aria-modal":"true","aria-labelledby":"logout-popup-title",children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl border border-gray-200 dark:border-gray-700 mx-4",children:[o.jsx("h2",{id:"logout-popup-title",className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Log out"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-2",children:"You will be logged out automatically in"}),o.jsx("p",{className:"text-2xl font-mono font-bold text-gray-900 dark:text-white mb-4",children:Oe(_)}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold",children:"Cancel"}),o.jsx("button",{type:"button",onClick:yt,className:"flex-1 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:"Log out now"})]})]})}),h&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60",role:"dialog","aria-modal":"true","aria-labelledby":"stay-logged-in-title",children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl border border-gray-200 dark:border-gray-700 mx-4",children:[o.jsx("h2",{id:"stay-logged-in-title",className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Stay logged in?"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:"You have been logged in for a while. Do you want to stay logged in?"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:async()=>{g(!1),await yt()},className:"flex-1 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold",children:"Log out"}),o.jsx("button",{type:"button",onClick:cn,className:"flex-1 py-2 rounded-lg bg-teal-600 hover:bg-teal-700 text-white font-semibold",children:"Stay logged in"})]})]})}),c&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60",role:"dialog","aria-modal":"true","aria-labelledby":"session-warning-title",children:o.jsxs("div",{className:"bg-white dark:bg-[#222] rounded-xl p-6 max-w-sm w-full shadow-xl border border-gray-200 dark:border-gray-700 mx-4",children:[o.jsx("h2",{id:"session-warning-title",className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Session expired"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:"Please sign in again."}),o.jsx("button",{type:"button",onClick:()=>{e(!1),d(!1)},className:"w-full py-2 rounded-lg bg-teal-600 hover:bg-teal-700 text-white font-semibold",children:"OK"})]})}),o.jsxs(kj,{children:[o.jsx(Ca,{path:"/chart-grid",element:o.jsx(MF,{})}),o.jsx(Ca,{path:"/custom-chart-grid",element:o.jsx(tH,{trades:Je})}),o.jsx(Ca,{path:"/reports",element:o.jsx(gH,{})}),o.jsx(Ca,{path:"/reports/list",element:o.jsx(T$,{})}),o.jsx(Ca,{path:"/live-trade-view",element:o.jsx(nW,{})}),o.jsx(Ca,{path:"/live-running-trades",element:o.jsx(iW,{})}),o.jsx(Ca,{path:"/pages/group-view",element:o.jsx(dW,{})}),o.jsx(Ca,{path:"/trades",element:o.jsx(mW,{})}),o.jsx(Ca,{path:"/*",element:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"sticky top-0 z-40 flex justify-center items-center border-b border-gray-200 dark:border-gray-700 shadow-sm bg-[#f5f6fa] dark:bg-black",style:{minHeight:"80px",height:"80px",padding:"0 16px"},children:[o.jsx("div",{className:"absolute left-4 top-3 z-20",children:o.jsx(ON,{onRefresh:vt,storageKey:"app_main",initialIntervalSec:20,initialAutoOn:!0})}),o.jsx("div",{className:"absolute right-4 top-3 z-20"}),o.jsx(vW,{width:400,height:48,opacity:.4}),o.jsxs("h1",{className:"relative z-10 text-5xl font-extrabold text-center bg-gradient-to-r from-blue-500 via-pink-500 to-yellow-400 bg-clip-text text-transparent drop-shadow-lg tracking-tight animate-pulse",style:{WebkitTextStroke:"1px #222",textShadow:"0 4px 24px rgba(0,0,0,0.18)"},children:["LAB",o.jsx("span",{className:"block w-16 h-1 mx-auto mt-2 rounded-full bg-gradient-to-r from-blue-400 via-pink-400 to-yellow-300 animate-gradient-x"})]})]}),o.jsxs("div",{className:"flex",children:[o.jsx(R1,{isOpen:bn,toggleSidebar:()=>Mt(!bn)}),o.jsx("div",{className:`flex-1 min-h-screen transition-all duration-300 ${bn?"ml-64":"ml-20"} overflow-hidden relative bg-[#f5f6fa] dark:bg-black`,children:o.jsxs("div",{className:"p-8 pt-2 overflow-x-auto",children:[F&&o.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-red-100 dark:bg-red-900/40 border border-red-400 dark:border-red-600 text-red-900 dark:text-red-100 text-sm",children:[o.jsx("strong",{className:"block mb-2",children:" CORS Error: Cloud server not allowing GitHub Pages origin"}),o.jsxs("p",{className:"mb-2",children:["The cloud server (150.241.244.130) is blocking requests from ",o.jsx("code",{className:"bg-red-200/60 dark:bg-red-800/60 px-1 rounded",children:"https://loveleet.github.io"}),"."]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{children:"Fix:"})," Deploy the latest ",o.jsx("code",{className:"bg-red-200/60 dark:bg-red-800/60 px-1 rounded",children:"server/server.js"})," to the cloud (it has CORS for GitHub Pages) and restart the Node app."]}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2 text-xs",children:[o.jsxs("li",{children:["From laptop: ",o.jsx("code",{className:"bg-red-200/60 dark:bg-red-800/60 px-1 rounded",children:"export DEPLOY_HOST=root@150.241.244.130 && ./scripts/deploy-to-server.sh"})]}),o.jsxs("li",{children:["Or manually: ",o.jsx("code",{className:"bg-red-200/60 dark:bg-red-800/60 px-1 rounded",children:"scp server/server.js root@150.241.244.130:/opt/apps/lab-trading-dashboard/server/"})]}),o.jsxs("li",{children:["On cloud: ",o.jsx("code",{className:"bg-red-200/60 dark:bg-red-800/60 px-1 rounded",children:"sudo systemctl restart lab-trading-dashboard"})]}),o.jsxs("li",{children:["Verify: ",o.jsx("code",{className:"bg-red-200/60 dark:bg-red-800/60 px-1 rounded",children:"curl -s http://localhost:10000/api/server-info"})," should show ",o.jsx("code",{className:"bg-red-200/60 dark:bg-red-800/60 px-1 rounded",children:"hasGitHubPagesOrigin: true"})]})]})]}),H&&o.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-amber-100 dark:bg-amber-900/40 border border-amber-400 dark:border-amber-600 text-amber-900 dark:text-amber-100 text-sm",children:[o.jsx("strong",{className:"block mb-2",children:"Local server not running"}),o.jsxs("p",{className:"mb-2",children:["The app is trying to use the local API at ",o.jsx("code",{className:"bg-amber-200/60 dark:bg-amber-800/60 px-1 rounded",children:"localhost:10000"})," (via Vite proxy), but the connection was refused. Start the Node server in ",o.jsx("code",{className:"bg-amber-200/60 dark:bg-amber-800/60 px-1 rounded",children:"lab-trading-dashboard/server"})," or use cloud data."]}),o.jsx("button",{type:"button",onClick:()=>{setLocalhostUseCloudFallback(!0),de(!1),L(!1),vt()},className:"mt-2 px-3 py-1.5 rounded bg-amber-600 hover:bg-amber-700 text-white text-sm font-medium",children:"Use cloud data"})]}),ce&&!F&&!H&&o.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-amber-100 dark:bg-amber-900/40 border border-amber-400 dark:border-amber-600 text-amber-900 dark:text-amber-100 text-sm",children:[o.jsx("strong",{className:"block mb-2",children:"API unreachable (or 404)"}),o.jsxs("p",{className:"mb-2",children:["The backend at the current API URL could not be reached. If the console shows ",o.jsx("strong",{children:"404"}),", the server at ",o.jsx("code",{className:"bg-amber-200/60 dark:bg-amber-800/60 px-1 rounded",children:"api.clubinfotech.com"})," is not responding correctly."]}),o.jsxs("p",{className:"mb-2",children:["Fix: on the ",o.jsx("strong",{children:"cloud server"})," run: ",o.jsx("code",{className:"bg-amber-200/60 dark:bg-amber-800/60 px-1 rounded block mt-1 p-1",children:"sudo systemctl restart lab-trading-dashboard"})," and ensure nginx proxies to Node (see ",o.jsx("code",{className:"bg-amber-200/60 dark:bg-amber-800/60 px-1 rounded",children:"docs/WHAT_RUNS_WHERE_AND_404_FIX.md"}),")."]}),o.jsxs("p",{className:"text-xs",children:["Also ensure ",o.jsx("code",{className:"bg-amber-200/60 dark:bg-amber-800/60 px-1 rounded",children:"API_BASE_URL"})," = ",o.jsx("code",{className:"bg-amber-200/60 dark:bg-amber-800/60 px-1 rounded",children:"https://api.clubinfotech.com"})," in GitHub Secrets, then hard-refresh (Ctrl+Shift+R)."]})]}),typeof window<"u"&&((ye=(Ye=window.location)==null?void 0:Ye.hostname)==null?void 0:ye.includes("github.io"))&&!jt&&!ce&&o.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-blue-100 dark:bg-blue-900/40 border border-blue-400 dark:border-blue-600 text-blue-900 dark:text-blue-100 text-sm",children:[o.jsx("strong",{className:"block mb-2",children:"API not configured for GitHub Pages"}),o.jsx("p",{className:"mb-2",children:"To load data here, set your backend URL (cloud IP or domain) and redeploy:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2 text-xs",children:[o.jsxs("li",{children:["Add secret ",o.jsx("a",{href:"https://github.com/Loveleet/lab_live/settings/secrets/actions",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium",children:"Settings  Secrets  Actions"}),"  ",o.jsx("code",{className:"bg-blue-200/60 dark:bg-blue-800/60 px-1 rounded",children:"API_BASE_URL"})," = your backend URL (e.g. ",o.jsx("code",{className:"bg-blue-200/60 dark:bg-blue-800/60 px-1 rounded",children:"http://150.241.244.130:10000"}),", no trailing slash)."]}),o.jsxs("li",{children:[o.jsx("a",{href:"https://github.com/Loveleet/lab_live/actions/workflows/deploy-frontend-pages.yml",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium",children:'Run "Deploy frontend to GitHub Pages"'}),", then hard-refresh this page."]})]})]}),Le&&o.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-orange-100 dark:bg-orange-900/40 border border-orange-400 dark:border-orange-600 text-orange-900 dark:text-orange-100 text-sm",children:[o.jsx("strong",{className:"block mb-2",children:"Get real data on this cloud site"}),o.jsx("p",{className:"mb-2",children:Le}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2 text-xs",children:[o.jsxs("li",{children:["On this server edit env: ",o.jsx("code",{className:"bg-orange-200/60 dark:bg-orange-800/60 px-1 rounded",children:"sudo nano /etc/lab-trading-dashboard.env"})]}),o.jsxs("li",{children:["Add ",o.jsx("code",{className:"bg-orange-200/60 dark:bg-orange-800/60 px-1 rounded",children:"DATABASE_URL='postgres://user:pass@host:5432/dbname'"})," (your Postgres URL) or set DB_HOST, DB_USER, DB_PASSWORD, DB_NAME"]}),o.jsxs("li",{children:["Restart: ",o.jsx("code",{className:"bg-orange-200/60 dark:bg-orange-800/60 px-1 rounded",children:"sudo systemctl restart lab-trading-dashboard"}),"  wait ~30s and refresh"]})]})]}),Array.isArray(We)&&We.length===0&&!Le&&!(typeof window<"u"&&((Xe=(Tt=window.location)==null?void 0:Tt.hostname)!=null&&Xe.includes("github.io"))&&!jt)&&o.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30 border border-amber-300 dark:border-amber-700 text-amber-800 dark:text-amber-200 text-sm",children:[o.jsx("strong",{children:"No trade records in database."})," Table ",o.jsx("code",{className:"bg-amber-200/50 dark:bg-amber-800/50 px-1 rounded",children:"alltraderecords"})," is empty. Machines and pairstatus are loading from the same DB. To see trades, add data or copy the database (see docs or ",o.jsx("code",{className:"bg-amber-200/50 dark:bg-amber-800/50 px-1 rounded",children:"/api/debug"})," for counts)."]}),o.jsx("div",{className:"flex justify-end mb-2",children:o.jsx("button",{onClick:()=>J(Z=>!Z),className:"text-xs px-3 py-1 rounded-full bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700 shadow",children:V?"Hide Filters":"Show Filters"})}),V&&o.jsx(YP,{selectedSignals:pn,setSelectedSignals:te,selectedMachines:xe,setSelectedMachines:Se,selectedIntervals:we,setSelectedIntervals:Ne,selectedActions:st,setSelectedActions:it,fromDate:Wn,toDate:Pn,setFromDate:gn,setToDate:Dn,includeMinClose:xt,setIncludeMinClose:Qt,signalRadioMode:on,setSignalRadioMode:Kt,machineRadioMode:Ue,setMachineRadioMode:Nn,intervalRadioMode:Pe,setIntervalRadioMode:He,actionRadioMode:Bt,setActionRadioMode:Ke,liveFilter:j,setLiveFilter:G,liveRadioMode:B,setLiveRadioMode:q,signalToggleAll:ht,setSignalToggleAll:$t,machineToggleAll:sn,setMachineToggleAll:bt,machines:_n,dateKey:De,setDateKey:gt,assignedCount:((pt=_t.Assigned_New)==null?void 0:pt.length)||0}),o.jsxs("div",{className:"flex flex-wrap items-start gap-3 ml-0 md:ml-6",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-none",children:[o.jsx("span",{className:"text-sm md:text-base lg:text-lg font-semibold text-black dark:text-white",children:"Layout:"}),o.jsx("button",{type:"button",onClick:()=>{const Z=Math.max(1,Ie-1);wt(Z);try{localStorage.setItem("layoutOption",String(Z))}catch{}},className:"bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-black dark:text-white px-2 py-1 md:px-3 md:py-1.5 rounded text-sm md:text-base","aria-label":"Decrease columns",children:""}),o.jsx("span",{className:"text-sm md:text-base font-medium text-black dark:text-white min-w-[1.5rem] text-center","aria-live":"polite",children:Ie}),o.jsx("button",{type:"button",onClick:()=>{const Z=Math.min(14,Ie+1);wt(Z);try{localStorage.setItem("layoutOption",String(Z))}catch{}},className:"bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-black dark:text-white px-2 py-1 md:px-3 md:py-1.5 rounded text-sm md:text-base","aria-label":"Increase columns",children:""}),o.jsx("span",{className:"hidden md:inline px-2 text-gray-400",children:"|"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>Qn(Z=>{const X=Math.max(1,Z-1);localStorage.setItem("fontSizeLevel",X);try{localStorage.setItem("fontSizeLevel",String(X))}catch{}return X}),className:"bg-gray-300 hover:bg-gray-400 text-black px-2 py-1 md:px-3 md:py-1.5 rounded text-sm md:text-base","aria-label":"Decrease font size",children:""}),o.jsxs("span",{className:"text-sm md:text-base lg:text-lg font-semibold text-black",children:["Font: ",lt]}),o.jsx("button",{onClick:()=>Qn(Z=>{const X=Math.min(30,Z+1);localStorage.setItem("fontSizeLevel",X);try{localStorage.setItem("fontSizeLevel",String(X))}catch{}return X}),className:"bg-gray-300 hover:bg-gray-400 text-black px-2 py-1 md:px-3 md:py-1.5 rounded text-sm md:text-base","aria-label":"Increase font size",children:""})]}),(()=>{const Z=et=>{if(et===!0||et==="true"||et===1||et==="1")return!0;if(typeof et=="string"){const ut=parseFloat(et);if(!Number.isNaN(ut))return ut>0}return!1},X=Z((se==null?void 0:se.buy)??(se==null?void 0:se.buy_condition)??(se==null?void 0:se.buyflag)),ve=Z((se==null?void 0:se.sell)??(se==null?void 0:se.sell_condition)??(se==null?void 0:se.sellflag)),Nt=({label:et,on:ut})=>o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${ut?"bg-green-500/90 text-white border-green-600 animate-pulse ring-2 ring-green-300":"bg-gray-200 text-gray-700 border-gray-300 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700"}`,title:`${et} condition ${ut?"ACTIVE":"inactive"}`,children:ut?`LIVE ${et}`:`${et} OFF`});return o.jsxs("div",{className:"flex items-center gap-2 ml-1",children:[o.jsx(Nt,{label:"BUY",on:X}),o.jsx(Nt,{label:"SELL",on:ve})]})})(),o.jsx("span",{className:"text-green-600 text-[14px] md:text-[16px] lg:text-[18px] font-bold",children:" Assigned New:"}),o.jsx("span",{className:"text-red-600 text-[24px] md:text-[34px] lg:text-[40px] font-bold cursor-pointer hover:underline",title:"Click to view Assigned Trades",onClick:()=>{je(Z=>{const X=Z==="Assigned_New"?null:"Assigned_New";return X&&(ln("assign"),setTimeout(()=>{const ve=document.getElementById("tableViewSection");ve&&ve.scrollIntoView({behavior:"smooth"})},0)),X})},children:Je.filter(Z=>Z.type==="assign"||Z.type==="back_close").length})]}),o.jsxs("div",{className:"flex flex-wrap items-start gap-4 flex-1 min-w-[280px]",children:[o.jsx("div",{className:"w-full sm:w-[300px] md:w-[360px] shrink-0",children:o.jsx(hW,{data:Q})}),z&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 flex-1 min-w-[280px]",children:(()=>{const Z=(ve,Nt,et)=>{const ut=Number(ve);if(Number.isNaN(ut))return{color:"rgb(255,255,255)"};const Gt=Math.max(0,Math.min(ut/90,1)),Ft=Math.pow(Gt,.6),Ut=Nt?[34,197,94]:et?[239,68,68]:[255,255,255],Vn=Math.round(255+(Ut[0]-255)*Ft),Ln=Math.round(255+(Ut[1]-255)*Ft),Kn=Math.round(255+(Ut[2]-255)*Ft);return{color:`rgb(${Vn}, ${Ln}, ${Kn})`}},X=({minsLabelFull:ve,minsLabelShort:Nt,minsLabelTiny:et,trendText:ut,pct:Gt})=>{const Ft=Number(Gt),Ut=(ut||"").toLowerCase(),Vn=Ut.includes("bull"),Ln=Ut.includes("bear"),Kn=!Number.isNaN(Ft)&&Ft>=90,Xr=`w-full min-w-0 flex items-center justify-between px-3 md:px-4 lg:px-5 py-2 md:py-2.5 lg:py-3 rounded-lg border transition-all duration-200 ease-out bg-blue-50 dark:bg-blue-950/40 border-blue-200 dark:border-blue-900 ${Kn?Ln?" bg-red-50 dark:bg-red-950/40 ring-2 ring-red-300 dark:ring-red-800 shadow-md scale-[1.04] animate-pulse":Vn?" bg-green-50 dark:bg-green-950/40 ring-2 ring-green-300 dark:ring-green-800 shadow-md scale-[1.04] animate-pulse":" animate-pulse":""}`.trim(),un=Kn?"text-base md:text-lg lg:text-xl xl:text-2xl":"text-sm md:text-base lg:text-lg xl:text-xl",cs=Kn?{color:Vn?"rgb(34,197,94)":Ln?"rgb(239,68,68)":"rgb(255,255,255)"}:Z(Ft,Vn,Ln),dn=Kn?{WebkitTextStroke:"0.15px rgba(255,255,255,0.85)",textShadow:"0 0 0.1px rgba(255,255,255,0.7)"}:{},mr=()=>o.jsxs("span",{className:"inline-flex items-center text-base md:text-lg lg:text-xl flex-none shrink-0",children:[Vn&&o.jsx("span",{className:"text-green-500 leading-none",children:""}),Ln&&o.jsx("span",{className:"text-red-500 leading-none",children:""})]}),ir=()=>o.jsx("span",{className:`font-bold ${Vn?"text-green-600":Ln?"text-red-600":"text-black dark:text-white"} truncate hidden sm:inline`,title:ut,children:ut});return o.jsxs("div",{className:Xr,style:dn,children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 min-w-0 flex-1 overflow-hidden",children:[o.jsx(mr,{}),o.jsx("span",{className:"text-blue-700 dark:text-blue-200 font-bold flex-none shrink-0 hidden lg:block whitespace-nowrap",children:ve}),o.jsx("span",{className:"text-blue-700 dark:text-blue-200 font-bold flex-none shrink-0 hidden sm:block lg:hidden whitespace-nowrap",children:Nt}),o.jsx("span",{className:"text-blue-700 dark:text-blue-200 font-bold flex-none shrink-0 block sm:hidden whitespace-nowrap",children:et}),o.jsx(ir,{})]}),o.jsxs("span",{className:`font-extrabold ${un} text-right leading-none ml-3 flex-none shrink-0`,style:{...cs,minWidth:"76px",width:"max(76px, 5.5ch)",whiteSpace:"nowrap",display:"inline-block"},title:`${Number.isNaN(Ft)?Gt:Ft.toFixed(2)}%`,children:[Number.isNaN(Ft)?Gt:Ft.toFixed(2),"%"]})]})};return o.jsxs(o.Fragment,{children:[o.jsx(X,{minsLabelFull:"EMA 1m:",minsLabelShort:"1m",minsLabelTiny:"1",trendText:z.overall_ema_trend_1m,pct:z.overall_ema_trend_percentage_1m}),o.jsx(X,{minsLabelFull:"EMA 5m:",minsLabelShort:"5m",minsLabelTiny:"5",trendText:z.overall_ema_trend_5m,pct:z.overall_ema_trend_percentage_5m}),o.jsx(X,{minsLabelFull:"EMA 15m:",minsLabelShort:"15m",minsLabelTiny:"15",trendText:z.overall_ema_trend_15m,pct:z.overall_ema_trend_percentage_15m})]})})()})]})]}),Ee&&o.jsx("div",{className:"grid gap-6 w-full px-2 py-4",style:{gridTemplateColumns:`repeat(${Math.min(14,Math.max(1,Number(Ie)||3))}, minmax(0, 1fr))`,transition:"all 0.3s ease-in-out"},children:Object.entries(Ee).map(([Z,X])=>{const ve=Z.trim().replace(/\s+/g,"_"),Nt=ve==="Direct_Running_Stats",et=Nt?(hn||[]).map(Ft=>Ft.fetcher_trade_time||Ft.Fetcher_Trade_time||Ft.fetch_time||Ft.candel_time||Ft.candle_time||Ft.timestamp||Ft.created_at).filter(Boolean).sort((Ft,Ut)=>new Date(Ut)-new Date(Ft))[0]:null,ut=et&&Dt.utc(et).isValid()?Dt.utc(et).format("HH:mm")+" UTC":null,Gt=Nt&&(hn==null?void 0:hn.length)>0?`New: ${hn.length}${ut?`  Last ${ut}`:""}`:null;return o.jsx("div",{className:"relative",children:o.jsx(GP,{title:Z,value:X,isSelected:me===ve,onClick:()=>{const Ft=_t[ve];je(Ut=>Ut===ve||!Ft?null:ve)},sticker:Nt?Gt:null,onStickerClick:()=>{je("Direct_Running_New"),ln("running"),setTimeout(()=>{const Ft=document.getElementById("tableViewSection");Ft&&Ft.scrollIntoView({behavior:"smooth"})},0)},filteredTradeData:Je,className:"bg-white dark:bg-[#181a20] border border-gray-200 dark:border-gray-800"})},ve)})}),o.jsx("div",{className:"mt-6",children:me&&(()=>{const Z=me==null?void 0:me.trim().replace(/\s+/g,"_"),X=Z==="Direct_Running_New"?hn:_t[Z];return X&&X.length>0?o.jsx("div",{className:"mt-6",children:o.jsx(OF,{title:me,tradeData:X,clientData:tt,logData:Ze,activeSubReport:Yt,setActiveSubReport:ln})}):o.jsxs("p",{className:"text-center text-gray-500 mt-4",children:[" No relevant data available for ",me.replace(/_/g," ")," (Found ",(X==null?void 0:X.length)||0," items)"]})})()}),o.jsx("div",{className:"my-4"})]})})]}),o.jsx(xW,{isOpen:ze,onClose:()=>Be(!1),settings:R,onChange:ge,availableSignals:Ht})]})})]})]})]})}):o.jsx(aW,{onLogin:()=>e(!0)})},SW=typeof import.meta<"u"?"/lab_live/".replace(/\/$/,""):"";class wW extends qr.Component{constructor(){super(...arguments);b_(this,"state",{error:null})}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n,r){console.error("[App] Render error:",n,r==null?void 0:r.componentStack)}render(){var n;return this.state.error?o.jsxs("div",{style:{padding:24,fontFamily:"system-ui",maxWidth:600},children:[o.jsx("h1",{style:{color:"#b91c1c"},children:"Something went wrong"}),o.jsx("pre",{style:{background:"#f3f4f6",padding:16,overflow:"auto",fontSize:12},children:((n=this.state.error)==null?void 0:n.message)||String(this.state.error)}),o.jsx("p",{style:{color:"#6b7280",fontSize:14},children:"Check the browser console for details."})]}):this.props.children}}L4.createRoot(document.getElementById("root")).render(o.jsx(wW,{children:o.jsx(qj,{basename:SW,children:o.jsx(_W,{})})}));
